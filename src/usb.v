/* Generated by Yosys 0.59+9 (git sha1 8fad004fb, clang++ 21.1.4 -fPIC -O3) */

/* verilator lint_off WIDTHEXPAND */
/* verilator lint_off WIDTHTRUNC */
/* verilator lint_off UNUSEDSIGNAL */

/* verilator lint_off CASEOVERLAP */
/* verilator lint_off CASEINCOMPLETE */
/* verilator lint_off WIDTHTRUNC */
/* verilator lint_off WIDTHEXPAND */
/* verilator lint_off PROCASSINIT */

(* top =  1  *)
(* generator = "Torii" *)
module usb_device(ulpi__data__i, ulpi__data__o, ulpi__data__oe, ulpi__dir__i, ulpi__nxt__i, ulpi__stp__o, connect, low_speed_only, full_speed_only, reset_detected, tokenizer__new_token, tokenizer__is_in, tokenizer__is_out, tokenizer__endpoint, tx__valid, tx__data, tx__ready, valid, data, next, usb_clk
, usb_rst, ulpi__clk__i);
  reg \$auto$verilog_backend.cc:2434:dump_module$1  = 0;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input [7:0] ulpi__data__i;
  wire [7:0] ulpi__data__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output [7:0] ulpi__data__o;
  wire [7:0] ulpi__data__o;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output [7:0] ulpi__data__oe;
  wire [7:0] ulpi__data__oe;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:945" *)
  input ulpi__dir__i;
  wire ulpi__dir__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input ulpi__nxt__i;
  wire ulpi__nxt__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output ulpi__stp__o;
  wire ulpi__stp__o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:117" *)
  input connect;
  wire connect;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:118" *)
  input low_speed_only;
  wire low_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:119" *)
  input full_speed_only;
  wire full_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:125" *)
  output reset_detected;
  wire reset_detected;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output tokenizer__new_token;
  wire tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output tokenizer__is_in;
  wire tokenizer__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output tokenizer__is_out;
  wire tokenizer__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [3:0] tokenizer__endpoint;
  wire [3:0] tokenizer__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output valid;
  wire valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output [7:0] data;
  wire [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output next;
  wire next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  output usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input ulpi__clk__i;
  wire ulpi__clk__i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:208" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:496" *)
  wire [1:0] \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:324" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:346" *)
  wire \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:347" *)
  wire \$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:350" *)
  wire \$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:366" *)
  wire \$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:374" *)
  wire [3:0] \$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:374" *)
  wire [3:0] \$54 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:192" *)
  reg [6:0] address = 7'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:192" *)
  reg [6:0] \address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:195" *)
  reg [7:0] configuration = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:195" *)
  reg [7:0] \configuration$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire [15:0] data_crc_data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire data_crc_data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:524" *)
  wire [7:0] data_crc_rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:525" *)
  wire data_crc_rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:527" *)
  wire [7:0] data_crc_tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:528" *)
  wire data_crc_tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg endpoint_mux_ack = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_ack$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_ack$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_ack$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \endpoint_mux_ack$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:83" *)
  reg [6:0] endpoint_mux_active_address = 7'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:83" *)
  reg [6:0] \endpoint_mux_active_address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  reg [7:0] endpoint_mux_active_config = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  wire [7:0] \endpoint_mux_active_config$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  reg [7:0] \endpoint_mux_active_config$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  wire endpoint_mux_address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  wire \endpoint_mux_address_changed$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  wire endpoint_mux_config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  wire \endpoint_mux_config_changed$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg [7:0] endpoint_mux_data = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire [7:0] \endpoint_mux_data$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg [7:0] \endpoint_mux_data$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire [15:0] endpoint_mux_data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire endpoint_mux_data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg endpoint_mux_nak = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_nak$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_nak$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_nak$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \endpoint_mux_nak$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  wire [6:0] endpoint_mux_new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  wire [6:0] \endpoint_mux_new_address$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  wire [7:0] endpoint_mux_new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  wire [7:0] \endpoint_mux_new_config$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg endpoint_mux_next = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \endpoint_mux_next$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg \endpoint_mux_next$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg endpoint_mux_nyet = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_nyet$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \endpoint_mux_nyet$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:92" *)
  reg endpoint_mux_rx_complete = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:92" *)
  reg \endpoint_mux_rx_complete$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  reg endpoint_mux_rx_invalid = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  wire \endpoint_mux_rx_invalid$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  reg \endpoint_mux_rx_invalid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:95" *)
  reg [1:0] endpoint_mux_rx_pid_toggle = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:95" *)
  reg [1:0] \endpoint_mux_rx_pid_toggle$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  reg endpoint_mux_rx_ready_for_response = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  wire \endpoint_mux_rx_ready_for_response$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  reg \endpoint_mux_rx_ready_for_response$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  reg [1:0] endpoint_mux_speed = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  wire [1:0] \endpoint_mux_speed$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  reg [1:0] \endpoint_mux_speed$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg endpoint_mux_stall = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_stall$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_stall$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \endpoint_mux_stall$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \endpoint_mux_stall$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire endpoint_mux_timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire endpoint_mux_timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire endpoint_mux_timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire endpoint_mux_timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [6:0] endpoint_mux_tokenizer__address = 7'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [6:0] \endpoint_mux_tokenizer__address$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [6:0] \endpoint_mux_tokenizer__address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [3:0] endpoint_mux_tokenizer__endpoint = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [3:0] \endpoint_mux_tokenizer__endpoint$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [3:0] \endpoint_mux_tokenizer__endpoint$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [10:0] endpoint_mux_tokenizer__frame = 11'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [10:0] \endpoint_mux_tokenizer__frame$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [10:0] \endpoint_mux_tokenizer__frame$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__is_in = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__is_in$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__is_in$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__is_out = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__is_out$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__is_out$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__is_ping = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__is_ping$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__is_ping$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__is_setup = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__is_setup$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__is_setup$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__new_frame = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__new_frame$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__new_frame$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__new_token = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__new_token$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__new_token$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [3:0] endpoint_mux_tokenizer__pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [3:0] \endpoint_mux_tokenizer__pid$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg [3:0] \endpoint_mux_tokenizer__pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg endpoint_mux_tokenizer__ready_for_response = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \endpoint_mux_tokenizer__ready_for_response$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  reg \endpoint_mux_tokenizer__ready_for_response$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire [7:0] endpoint_mux_tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire [7:0] \endpoint_mux_tx__data$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire endpoint_mux_tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \endpoint_mux_tx__first$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire endpoint_mux_tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \endpoint_mux_tx__last$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  reg endpoint_mux_tx__ready = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \endpoint_mux_tx__ready$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  reg \endpoint_mux_tx__ready$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire endpoint_mux_tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \endpoint_mux_tx__valid$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  wire [1:0] endpoint_mux_tx_pid_toggle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  wire [1:0] \endpoint_mux_tx_pid_toggle$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg endpoint_mux_valid = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \endpoint_mux_valid$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg \endpoint_mux_valid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:121" *)
  reg [10:0] frame_number = 11'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:121" *)
  reg [10:0] \frame_number$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire handshake_detector_ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire handshake_detector_nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire handshake_detector_nyet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire handshake_detector_stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire [7:0] handshake_generator_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1204" *)
  reg handshake_generator_issue_ack = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1204" *)
  reg \handshake_generator_issue_ack$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1205" *)
  reg handshake_generator_issue_nak = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1205" *)
  reg \handshake_generator_issue_nak$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1206" *)
  reg handshake_generator_issue_stall = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1206" *)
  reg \handshake_generator_issue_stall$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire handshake_generator_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire handshake_generator_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:122" *)
  reg [2:0] microframe_number = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:122" *)
  reg [2:0] \microframe_number$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:124" *)
  reg new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:666" *)
  wire [3:0] receiver_active_pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:670" *)
  wire receiver_crc_mismatch;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire [7:0] receiver_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  wire [15:0] receiver_data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  wire receiver_data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire receiver_next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:668" *)
  wire receiver_packet_complete;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:669" *)
  wire receiver_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  wire receiver_timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  wire receiver_timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire receiver_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:124" *)
  wire reset_sequencer_bus_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:128" *)
  wire reset_sequencer_bus_reset;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:131" *)
  wire [1:0] reset_sequencer_current_speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire [7:0] reset_sequencer_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:122" *)
  wire reset_sequencer_full_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:126" *)
  wire [1:0] reset_sequencer_line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:121" *)
  wire reset_sequencer_low_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:132" *)
  wire [1:0] reset_sequencer_operating_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:129" *)
  wire reset_sequencer_suspended;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:133" *)
  wire reset_sequencer_termination_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire reset_sequencer_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:125" *)
  wire reset_sequencer_vbus_connected;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:130" *)
  wire rx_activity_led;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:123" *)
  wire sof_detected;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:127" *)
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:128" *)
  wire suspended;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1317" *)
  wire [1:0] timer_speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire timer_timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire timer_timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire timer_timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire timer_timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:222" *)
  wire [6:0] token_detector_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire [6:0] token_detector_interface__address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire [3:0] token_detector_interface__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire [10:0] token_detector_interface__frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire [3:0] token_detector_interface__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  wire token_detector_interface__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:221" *)
  wire [1:0] token_detector_speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:768" *)
  wire translator_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire translator_dm_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire translator_dp_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire [1:0] translator_line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire [1:0] translator_op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  wire translator_rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  wire [7:0] translator_rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  wire translator_rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire translator_session_end;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire translator_term_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:774" *)
  wire [7:0] translator_tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:776" *)
  wire translator_tx_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:775" *)
  wire translator_tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire [1:0] translator_xcvr_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  wire [15:0] transmitter_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  wire transmitter_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire [7:0] transmitter_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1044" *)
  reg [1:0] transmitter_data_pid = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1044" *)
  reg [1:0] \transmitter_data_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire transmitter_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg [7:0] transmitter_stream__data = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg [7:0] \transmitter_stream__data$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg transmitter_stream__first = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg \transmitter_stream__first$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg transmitter_stream__last = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg \transmitter_stream__last$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  wire transmitter_stream__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg transmitter_stream__valid = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  reg \transmitter_stream__valid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire transmitter_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:129" *)
  wire tx_activity_led;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire [7:0] tx_multiplexer_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire tx_multiplexer_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire tx_multiplexer_valid;
  assign \$39  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:208" *) translator_session_end;
  assign \$41  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:496" *) receiver_active_pid[3];
  assign \$43  = tx_multiplexer_valid & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:324" *) translator_tx_ready;
  assign \$49  = reset_sequencer_termination_select & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:350" *) connect;
  assign \$51  = token_detector_interface__frame != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:366" *) frame_number;
  assign \$54  = microframe_number + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:374" *) 1'h1;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__pid <= \endpoint_mux_tokenizer__pid$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__address <= \endpoint_mux_tokenizer__address$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__endpoint <= \endpoint_mux_tokenizer__endpoint$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__new_token <= \endpoint_mux_tokenizer__new_token$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__ready_for_response <= \endpoint_mux_tokenizer__ready_for_response$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__frame <= \endpoint_mux_tokenizer__frame$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__new_frame <= \endpoint_mux_tokenizer__new_frame$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__is_in <= \endpoint_mux_tokenizer__is_in$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__is_out <= \endpoint_mux_tokenizer__is_out$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__is_setup <= \endpoint_mux_tokenizer__is_setup$next ;
  always @(posedge usb_clk)
    endpoint_mux_tokenizer__is_ping <= \endpoint_mux_tokenizer__is_ping$next ;
  always @(posedge usb_clk)
    endpoint_mux_ack <= \endpoint_mux_ack$next ;
  always @(posedge usb_clk)
    endpoint_mux_nak <= \endpoint_mux_nak$next ;
  always @(posedge usb_clk)
    endpoint_mux_stall <= \endpoint_mux_stall$next ;
  always @(posedge usb_clk)
    endpoint_mux_nyet <= \endpoint_mux_nyet$next ;
  always @(posedge usb_clk)
    endpoint_mux_speed <= \endpoint_mux_speed$next ;
  always @(posedge usb_clk)
    endpoint_mux_active_config <= \endpoint_mux_active_config$next ;
  always @(posedge usb_clk)
    endpoint_mux_active_address <= \endpoint_mux_active_address$next ;
  always @(posedge usb_clk)
    endpoint_mux_valid <= \endpoint_mux_valid$next ;
  always @(posedge usb_clk)
    endpoint_mux_next <= \endpoint_mux_next$next ;
  always @(posedge usb_clk)
    endpoint_mux_data <= \endpoint_mux_data$next ;
  always @(posedge usb_clk)
    endpoint_mux_rx_complete <= \endpoint_mux_rx_complete$next ;
  always @(posedge usb_clk)
    endpoint_mux_rx_invalid <= \endpoint_mux_rx_invalid$next ;
  always @(posedge usb_clk)
    endpoint_mux_rx_ready_for_response <= \endpoint_mux_rx_ready_for_response$next ;
  always @(posedge usb_clk)
    endpoint_mux_rx_pid_toggle <= \endpoint_mux_rx_pid_toggle$next ;
  always @(posedge usb_clk)
    transmitter_stream__valid <= \transmitter_stream__valid$next ;
  always @(posedge usb_clk)
    transmitter_stream__first <= \transmitter_stream__first$next ;
  always @(posedge usb_clk)
    transmitter_stream__last <= \transmitter_stream__last$next ;
  always @(posedge usb_clk)
    transmitter_stream__data <= \transmitter_stream__data$next ;
  always @(posedge usb_clk)
    endpoint_mux_tx__ready <= \endpoint_mux_tx__ready$next ;
  always @(posedge usb_clk)
    handshake_generator_issue_ack <= \handshake_generator_issue_ack$next ;
  always @(posedge usb_clk)
    handshake_generator_issue_nak <= \handshake_generator_issue_nak$next ;
  always @(posedge usb_clk)
    handshake_generator_issue_stall <= \handshake_generator_issue_stall$next ;
  always @(posedge usb_clk)
    transmitter_data_pid <= \transmitter_data_pid$next ;
  always @(posedge usb_clk)
    address <= \address$next ;
  always @(posedge usb_clk)
    configuration <= \configuration$next ;
  always @(posedge usb_clk)
    frame_number <= \frame_number$next ;
  always @(posedge usb_clk)
    microframe_number <= \microframe_number$next ;
  \usb_device.USBControlEndpoint  USBControlEndpoint (
    .ack(\endpoint_mux_ack$4 ),
    .\ack$1 (\endpoint_mux_ack$30 ),
    .active_config(\endpoint_mux_active_config$25 ),
    .address_changed(\endpoint_mux_address_changed$26 ),
    .config_changed(\endpoint_mux_config_changed$28 ),
    .data(\endpoint_mux_data$21 ),
    .data_crc__crc(endpoint_mux_data_crc__crc),
    .data_crc__start(endpoint_mux_data_crc__start),
    .nak(\endpoint_mux_nak$5 ),
    .\nak$2 (\endpoint_mux_nak$31 ),
    .new_address(\endpoint_mux_new_address$27 ),
    .new_config(\endpoint_mux_new_config$29 ),
    .next(\endpoint_mux_next$20 ),
    .nyet(\endpoint_mux_nyet$7 ),
    .rx_active(translator_rx_active),
    .rx_data(translator_rx_data),
    .rx_invalid(\endpoint_mux_rx_invalid$23 ),
    .rx_ready_for_response(\endpoint_mux_rx_ready_for_response$22 ),
    .rx_valid(translator_rx_valid),
    .speed(\endpoint_mux_speed$24 ),
    .stall(\endpoint_mux_stall$6 ),
    .\stall$3 (\endpoint_mux_stall$32 ),
    .timer__rx_timeout(endpoint_mux_timer__rx_timeout),
    .timer__start(endpoint_mux_timer__start),
    .timer__tx_allowed(endpoint_mux_timer__tx_allowed),
    .timer__tx_timeout(endpoint_mux_timer__tx_timeout),
    .tokenizer__address(\endpoint_mux_tokenizer__address$9 ),
    .tokenizer__endpoint(\endpoint_mux_tokenizer__endpoint$10 ),
    .tokenizer__frame(\endpoint_mux_tokenizer__frame$13 ),
    .tokenizer__is_in(\endpoint_mux_tokenizer__is_in$15 ),
    .tokenizer__is_out(\endpoint_mux_tokenizer__is_out$16 ),
    .tokenizer__is_ping(\endpoint_mux_tokenizer__is_ping$18 ),
    .tokenizer__is_setup(\endpoint_mux_tokenizer__is_setup$17 ),
    .tokenizer__new_frame(\endpoint_mux_tokenizer__new_frame$14 ),
    .tokenizer__new_token(\endpoint_mux_tokenizer__new_token$11 ),
    .tokenizer__pid(\endpoint_mux_tokenizer__pid$8 ),
    .tokenizer__ready_for_response(\endpoint_mux_tokenizer__ready_for_response$12 ),
    .tx__data(\endpoint_mux_tx__data$35 ),
    .tx__first(\endpoint_mux_tx__first$36 ),
    .tx__last(\endpoint_mux_tx__last$37 ),
    .tx__ready(\endpoint_mux_tx__ready$38 ),
    .tx__valid(\endpoint_mux_tx__valid$33 ),
    .tx_pid_toggle(\endpoint_mux_tx_pid_toggle$34 ),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(\endpoint_mux_valid$19 )
  );
  \usb_device.data_crc  data_crc (
    .crc__crc(transmitter_crc__crc),
    .crc__start(transmitter_crc__start),
    .data_crc__crc(receiver_data_crc__crc),
    .\data_crc__crc$2 (data_crc_data_crc__crc),
    .data_crc__start(receiver_data_crc__start),
    .\data_crc__start$1 (data_crc_data_crc__start),
    .rx_data(data_crc_rx_data),
    .rx_valid(data_crc_rx_valid),
    .tx_data(data_crc_tx_data),
    .tx_valid(data_crc_tx_valid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  \usb_device.endpoint_mux  endpoint_mux (
    .ack(endpoint_mux_ack),
    .\ack$1 (\endpoint_mux_ack$1 ),
    .\ack$41 (\endpoint_mux_ack$30 ),
    .\ack$8 (\endpoint_mux_ack$4 ),
    .active_address(endpoint_mux_active_address),
    .active_config(endpoint_mux_active_config),
    .\active_config$29 (\endpoint_mux_active_config$25 ),
    .address_changed(endpoint_mux_address_changed),
    .\address_changed$37 (\endpoint_mux_address_changed$26 ),
    .config_changed(endpoint_mux_config_changed),
    .\config_changed$39 (\endpoint_mux_config_changed$28 ),
    .data(endpoint_mux_data),
    .\data$25 (\endpoint_mux_data$21 ),
    .\data$36 (data),
    .data_crc__crc(data_crc_data_crc__crc),
    .\data_crc__crc$4 (endpoint_mux_data_crc__crc),
    .data_crc__start(data_crc_data_crc__start),
    .\data_crc__start$44 (endpoint_mux_data_crc__start),
    .nak(endpoint_mux_nak),
    .\nak$2 (\endpoint_mux_nak$2 ),
    .\nak$42 (\endpoint_mux_nak$31 ),
    .\nak$9 (\endpoint_mux_nak$5 ),
    .new_address(endpoint_mux_new_address),
    .\new_address$38 (\endpoint_mux_new_address$27 ),
    .new_config(endpoint_mux_new_config),
    .\new_config$40 (\endpoint_mux_new_config$29 ),
    .next(endpoint_mux_next),
    .\next$24 (\endpoint_mux_next$20 ),
    .\next$35 (next),
    .nyet(endpoint_mux_nyet),
    .\nyet$11 (\endpoint_mux_nyet$7 ),
    .rx_complete(endpoint_mux_rx_complete),
    .rx_invalid(endpoint_mux_rx_invalid),
    .\rx_invalid$27 (\endpoint_mux_rx_invalid$23 ),
    .rx_pid_toggle(endpoint_mux_rx_pid_toggle),
    .rx_ready_for_response(endpoint_mux_rx_ready_for_response),
    .\rx_ready_for_response$26 (\endpoint_mux_rx_ready_for_response$22 ),
    .speed(endpoint_mux_speed),
    .\speed$28 (\endpoint_mux_speed$24 ),
    .stall(endpoint_mux_stall),
    .\stall$10 (\endpoint_mux_stall$6 ),
    .\stall$3 (\endpoint_mux_stall$3 ),
    .\stall$43 (\endpoint_mux_stall$32 ),
    .timer__rx_timeout(timer_timer__rx_timeout),
    .\timer__rx_timeout$7 (endpoint_mux_timer__rx_timeout),
    .timer__start(timer_timer__start),
    .\timer__start$45 (endpoint_mux_timer__start),
    .timer__tx_allowed(timer_timer__tx_allowed),
    .\timer__tx_allowed$5 (endpoint_mux_timer__tx_allowed),
    .timer__tx_timeout(timer_timer__tx_timeout),
    .\timer__tx_timeout$6 (endpoint_mux_timer__tx_timeout),
    .tokenizer__address(endpoint_mux_tokenizer__address),
    .\tokenizer__address$13 (\endpoint_mux_tokenizer__address$9 ),
    .tokenizer__endpoint(endpoint_mux_tokenizer__endpoint),
    .\tokenizer__endpoint$14 (\endpoint_mux_tokenizer__endpoint$10 ),
    .\tokenizer__endpoint$30 (tokenizer__endpoint),
    .tokenizer__frame(endpoint_mux_tokenizer__frame),
    .\tokenizer__frame$17 (\endpoint_mux_tokenizer__frame$13 ),
    .tokenizer__is_in(endpoint_mux_tokenizer__is_in),
    .\tokenizer__is_in$19 (\endpoint_mux_tokenizer__is_in$15 ),
    .\tokenizer__is_in$32 (tokenizer__is_in),
    .tokenizer__is_out(endpoint_mux_tokenizer__is_out),
    .\tokenizer__is_out$20 (\endpoint_mux_tokenizer__is_out$16 ),
    .\tokenizer__is_out$33 (tokenizer__is_out),
    .tokenizer__is_ping(endpoint_mux_tokenizer__is_ping),
    .\tokenizer__is_ping$22 (\endpoint_mux_tokenizer__is_ping$18 ),
    .tokenizer__is_setup(endpoint_mux_tokenizer__is_setup),
    .\tokenizer__is_setup$21 (\endpoint_mux_tokenizer__is_setup$17 ),
    .tokenizer__new_frame(endpoint_mux_tokenizer__new_frame),
    .\tokenizer__new_frame$18 (\endpoint_mux_tokenizer__new_frame$14 ),
    .tokenizer__new_token(endpoint_mux_tokenizer__new_token),
    .\tokenizer__new_token$15 (\endpoint_mux_tokenizer__new_token$11 ),
    .\tokenizer__new_token$31 (tokenizer__new_token),
    .tokenizer__pid(endpoint_mux_tokenizer__pid),
    .\tokenizer__pid$12 (\endpoint_mux_tokenizer__pid$8 ),
    .tokenizer__ready_for_response(endpoint_mux_tokenizer__ready_for_response),
    .\tokenizer__ready_for_response$16 (\endpoint_mux_tokenizer__ready_for_response$12 ),
    .tx__data(endpoint_mux_tx__data),
    .\tx__data$49 (\endpoint_mux_tx__data$35 ),
    .\tx__data$50 (tx__data),
    .tx__first(endpoint_mux_tx__first),
    .\tx__first$51 (\endpoint_mux_tx__first$36 ),
    .tx__last(endpoint_mux_tx__last),
    .\tx__last$52 (\endpoint_mux_tx__last$37 ),
    .tx__ready(endpoint_mux_tx__ready),
    .\tx__ready$53 (\endpoint_mux_tx__ready$38 ),
    .\tx__ready$54 (tx__ready),
    .tx__valid(endpoint_mux_tx__valid),
    .\tx__valid$46 (\endpoint_mux_tx__valid$33 ),
    .\tx__valid$47 (tx__valid),
    .tx_pid_toggle(endpoint_mux_tx_pid_toggle),
    .\tx_pid_toggle$48 (\endpoint_mux_tx_pid_toggle$34 ),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(endpoint_mux_valid),
    .\valid$23 (\endpoint_mux_valid$19 ),
    .\valid$34 (valid)
  );
  \usb_device.handshake_detector  handshake_detector (
    .ack(handshake_detector_ack),
    .nak(handshake_detector_nak),
    .nyet(handshake_detector_nyet),
    .rx_active(translator_rx_active),
    .rx_data(translator_rx_data),
    .rx_valid(translator_rx_valid),
    .stall(handshake_detector_stall),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  \usb_device.handshake_generator  handshake_generator (
    .data(handshake_generator_data),
    .issue_ack(handshake_generator_issue_ack),
    .issue_nak(handshake_generator_issue_nak),
    .issue_stall(handshake_generator_issue_stall),
    .ready(handshake_generator_ready),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(handshake_generator_valid)
  );
  \usb_device.receiver  receiver (
    .active_pid(receiver_active_pid),
    .crc_mismatch(receiver_crc_mismatch),
    .data(receiver_data),
    .data_crc__crc(receiver_data_crc__crc),
    .data_crc__start(receiver_data_crc__start),
    .next(receiver_next),
    .packet_complete(receiver_packet_complete),
    .ready_for_response(receiver_ready_for_response),
    .rx_active(translator_rx_active),
    .rx_data(translator_rx_data),
    .rx_valid(translator_rx_valid),
    .timer__start(receiver_timer__start),
    .timer__tx_allowed(receiver_timer__tx_allowed),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(receiver_valid)
  );
  \usb_device.reset_sequencer  reset_sequencer (
    .bus_busy(reset_sequencer_bus_busy),
    .bus_reset(reset_sequencer_bus_reset),
    .current_speed(reset_sequencer_current_speed),
    .data(reset_sequencer_data),
    .full_speed_only(reset_sequencer_full_speed_only),
    .line_state(reset_sequencer_line_state),
    .low_speed_only(reset_sequencer_low_speed_only),
    .operating_mode(reset_sequencer_operating_mode),
    .suspended(reset_sequencer_suspended),
    .termination_select(reset_sequencer_termination_select),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(reset_sequencer_valid),
    .vbus_connected(reset_sequencer_vbus_connected)
  );
  \usb_device.timer  timer (
    .speed(timer_speed),
    .timer__rx_timeout(timer_timer__rx_timeout),
    .timer__start(receiver_timer__start),
    .\timer__start$1 (timer_timer__start),
    .timer__tx_allowed(receiver_timer__tx_allowed),
    .\timer__tx_allowed$2 (timer_timer__tx_allowed),
    .timer__tx_timeout(timer_timer__tx_timeout),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  \usb_device.token_detector  token_detector (
    .address(token_detector_address),
    .interface__address(token_detector_interface__address),
    .interface__endpoint(token_detector_interface__endpoint),
    .interface__frame(token_detector_interface__frame),
    .interface__is_in(token_detector_interface__is_in),
    .interface__is_out(token_detector_interface__is_out),
    .interface__is_ping(token_detector_interface__is_ping),
    .interface__is_setup(token_detector_interface__is_setup),
    .interface__new_frame(token_detector_interface__new_frame),
    .interface__new_token(token_detector_interface__new_token),
    .interface__pid(token_detector_interface__pid),
    .interface__ready_for_response(token_detector_interface__ready_for_response),
    .rx_active(translator_rx_active),
    .rx_data(translator_rx_data),
    .rx_valid(translator_rx_valid),
    .speed(token_detector_speed),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  \usb_device.translator  translator (
    .busy(translator_busy),
    .dm_pulldown(1'h0),
    .dp_pulldown(1'h0),
    .line_state(translator_line_state),
    .op_mode(translator_op_mode),
    .rx_active(translator_rx_active),
    .rx_data(translator_rx_data),
    .rx_valid(translator_rx_valid),
    .session_end(translator_session_end),
    .term_select(translator_term_select),
    .tx_data(translator_tx_data),
    .tx_ready(translator_tx_ready),
    .tx_valid(translator_tx_valid),
    .ulpi__clk__i(ulpi__clk__i),
    .ulpi__data__i(ulpi__data__i),
    .ulpi__data__o(ulpi__data__o),
    .ulpi__data__oe(ulpi__data__oe),
    .ulpi__dir__i(ulpi__dir__i),
    .ulpi__nxt__i(ulpi__nxt__i),
    .ulpi__stp__o(ulpi__stp__o),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .xcvr_select(translator_xcvr_select)
  );
  \usb_device.transmitter  transmitter (
    .crc__crc(transmitter_crc__crc),
    .crc__start(transmitter_crc__start),
    .data(transmitter_data),
    .data_pid(transmitter_data_pid),
    .ready(transmitter_ready),
    .stream__data(transmitter_stream__data),
    .stream__first(transmitter_stream__first),
    .stream__last(transmitter_stream__last),
    .stream__ready(transmitter_stream__ready),
    .stream__valid(transmitter_stream__valid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .valid(transmitter_valid)
  );
  \usb_device.tx_multiplexer  tx_multiplexer (
    .data(tx_multiplexer_data),
    .\data$2 (reset_sequencer_data),
    .\data$3 (transmitter_data),
    .\data$7 (handshake_generator_data),
    .ready(tx_multiplexer_ready),
    .\ready$5 (transmitter_ready),
    .\ready$8 (handshake_generator_ready),
    .valid(tx_multiplexer_valid),
    .\valid$1 (reset_sequencer_valid),
    .\valid$4 (transmitter_valid),
    .\valid$6 (handshake_generator_valid)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__endpoint$next  = token_detector_interface__endpoint;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__endpoint$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__new_token$next  = token_detector_interface__new_token;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__new_token$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__ready_for_response$next  = token_detector_interface__ready_for_response;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__ready_for_response$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__frame$next  = token_detector_interface__frame;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__frame$next  = 11'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__new_frame$next  = token_detector_interface__new_frame;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__new_frame$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__is_in$next  = token_detector_interface__is_in;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__is_in$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__is_out$next  = token_detector_interface__is_out;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__is_out$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__is_setup$next  = token_detector_interface__is_setup;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__is_setup$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__is_ping$next  = token_detector_interface__is_ping;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__is_ping$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_ack$next  = handshake_detector_ack;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_ack$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_nak$next  = handshake_detector_nak;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_nak$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_stall$next  = handshake_detector_stall;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_stall$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_nyet$next  = handshake_detector_nyet;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_nyet$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_speed$next  = speed;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_speed$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_active_config$next  = configuration;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_active_config$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_active_address$next  = address;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_active_address$next  = 7'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_valid$next  = receiver_valid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_valid$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_next$next  = receiver_next;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_next$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_data$next  = receiver_data;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_data$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_rx_complete$next  = receiver_packet_complete;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_rx_complete$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_rx_invalid$next  = receiver_crc_mismatch;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_rx_invalid$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_rx_ready_for_response$next  = receiver_ready_for_response;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_rx_ready_for_response$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_rx_pid_toggle$next  = \$41 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_rx_pid_toggle$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \transmitter_stream__valid$next  = endpoint_mux_tx__valid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \transmitter_stream__valid$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \transmitter_stream__first$next  = endpoint_mux_tx__first;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \transmitter_stream__first$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \transmitter_stream__last$next  = endpoint_mux_tx__last;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \transmitter_stream__last$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \transmitter_stream__data$next  = endpoint_mux_tx__data;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \transmitter_stream__data$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tx__ready$next  = transmitter_stream__ready;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tx__ready$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \handshake_generator_issue_ack$next  = \endpoint_mux_ack$1 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \handshake_generator_issue_ack$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \handshake_generator_issue_nak$next  = \endpoint_mux_nak$2 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \handshake_generator_issue_nak$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \handshake_generator_issue_stall$next  = \endpoint_mux_stall$3 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \handshake_generator_issue_stall$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \transmitter_data_pid$next  = endpoint_mux_tx_pid_toggle;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \transmitter_data_pid$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \address$next  = address;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:290" *)
    if (endpoint_mux_address_changed) begin
      \address$next  = endpoint_mux_new_address;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:333" *)
    if (reset_sequencer_bus_reset) begin
      \address$next  = 7'h00;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \address$next  = 7'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \configuration$next  = configuration;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:292" *)
    if (endpoint_mux_config_changed) begin
      \configuration$next  = endpoint_mux_new_config;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:333" *)
    if (reset_sequencer_bus_reset) begin
      \configuration$next  = 8'h00;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \configuration$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \frame_number$next  = frame_number;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:358" *)
    if (token_detector_interface__new_frame) begin
      \frame_number$next  = token_detector_interface__frame;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \frame_number$next  = 11'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    new_frame = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:358" *)
    if (token_detector_interface__new_frame) begin
      new_frame = \$51 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \microframe_number$next  = microframe_number;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:358" *)
    if (token_detector_interface__new_frame) begin
      (* full_case = 32'd1 *)
      (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/device.py:369" *)
      if (new_frame) begin
        \microframe_number$next  = 3'h0;
      end else begin
        \microframe_number$next  = \$54 [2:0];
      end
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \microframe_number$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__pid$next  = token_detector_interface__pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__pid$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$1 ) begin end
    \endpoint_mux_tokenizer__address$next  = token_detector_interface__address;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \endpoint_mux_tokenizer__address$next  = 7'h00;
    end
  end
  assign \$53  = \$54 ;
  assign rx_activity_led = translator_rx_valid;
  assign tx_activity_led = tx_multiplexer_valid;
  assign reset_detected = reset_sequencer_bus_reset;
  assign sof_detected = token_detector_interface__new_frame;
  assign suspended = reset_sequencer_suspended;
  assign speed = reset_sequencer_current_speed;
  assign translator_term_select = \$49 ;
  assign translator_xcvr_select = reset_sequencer_current_speed;
  assign translator_op_mode = reset_sequencer_operating_mode;
  assign reset_sequencer_full_speed_only = \$47 ;
  assign reset_sequencer_low_speed_only = \$45 ;
  assign translator_dp_pulldown = 1'h0;
  assign translator_dm_pulldown = 1'h0;
  assign data_crc_tx_data = tx_multiplexer_data;
  assign data_crc_tx_valid = \$43 ;
  assign tx_multiplexer_ready = translator_tx_ready;
  assign translator_tx_valid = tx_multiplexer_valid;
  assign translator_tx_data = tx_multiplexer_data;
  assign timer_speed = speed;
  assign token_detector_speed = speed;
  assign data_crc_rx_valid = translator_rx_valid;
  assign data_crc_rx_data = translator_rx_data;
  assign token_detector_address = address;
  assign reset_sequencer_line_state = translator_line_state;
  assign reset_sequencer_vbus_connected = \$39 ;
  assign reset_sequencer_bus_busy = translator_busy;
  assign \$45  = low_speed_only;
  assign \$47  = full_speed_only;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint (rx_valid, usb_rst, usb_clk, rx_active, data_crc__crc, timer__tx_allowed, timer__tx_timeout, timer__rx_timeout, ack, nak, stall, nyet, tokenizer__pid, tokenizer__address, tokenizer__endpoint, tokenizer__new_token, tokenizer__ready_for_response, tokenizer__frame, tokenizer__new_frame, tokenizer__is_in, tokenizer__is_out
, tokenizer__is_setup, tokenizer__is_ping, valid, next, data, rx_ready_for_response, rx_invalid, speed, active_config, address_changed, new_address, config_changed, new_config, \ack$1 , \nak$2 , \stall$3 , data_crc__start, timer__start, tx__valid, tx_pid_toggle, tx__data
, tx__first, tx__last, tx__ready, rx_data);
  reg \$auto$verilog_backend.cc:2434:dump_module$2  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  input [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__tx_timeout;
  wire timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__rx_timeout;
  wire timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input ack;
  wire ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input nak;
  wire nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input stall;
  wire stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input nyet;
  wire nyet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [3:0] tokenizer__pid;
  wire [3:0] tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [6:0] tokenizer__address;
  wire [6:0] tokenizer__address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [3:0] tokenizer__endpoint;
  wire [3:0] tokenizer__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__new_token;
  wire tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__ready_for_response;
  wire tokenizer__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [10:0] tokenizer__frame;
  wire [10:0] tokenizer__frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__new_frame;
  wire tokenizer__new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_in;
  wire tokenizer__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_out;
  wire tokenizer__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_setup;
  wire tokenizer__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_ping;
  wire tokenizer__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input valid;
  wire valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input next;
  wire next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input [7:0] data;
  wire [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  input rx_ready_for_response;
  wire rx_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  input rx_invalid;
  wire rx_invalid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  input [7:0] active_config;
  wire [7:0] active_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  output address_changed;
  wire address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  output [6:0] new_address;
  wire [6:0] new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  output config_changed;
  wire config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  output [7:0] new_config;
  wire [7:0] new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \ack$1 ;
  reg \ack$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \nak$2 ;
  wire \nak$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \stall$3 ;
  wire \stall$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  output data_crc__start;
  wire data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output timer__start;
  wire timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  output [1:0] tx_pid_toggle;
  wire [1:0] tx_pid_toggle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__first;
  wire tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__last;
  wire tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
  wire \$101 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:231" *)
  wire \$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:232" *)
  wire \$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
  wire \$111 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$113 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
  wire \$115 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$117 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
  wire \$119 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$121 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
  wire \$123 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$125 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
  wire \$127 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$129 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:275" *)
  wire \$131 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:276" *)
  wire \$133 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$135 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:285" *)
  wire \$137 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:286" *)
  wire \$139 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:176" *)
  wire \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:180" *)
  wire \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:263" *)
  wire \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:263" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:290" *)
  wire \$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:290" *)
  wire \$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  wire [1:0] \$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:209" *)
  wire \$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/dsl.py:552" *)
  wire \$79 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
  wire \$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:239" *)
  wire \$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:240" *)
  wire \$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:239" *)
  wire \$89 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
  wire \$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *)
  wire \$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:259" *)
  wire \$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:259" *)
  wire \$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
  wire \$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire request_mux_ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_ack$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_ack$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_ack$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_ack$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  wire [7:0] request_mux_active_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  wire [7:0] \request_mux_active_config$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  wire request_mux_address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  wire \request_mux_address_changed$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  wire request_mux_config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  wire \request_mux_config_changed$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg [7:0] request_mux_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  reg request_mux_data_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  wire \request_mux_data_requested$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  wire \request_mux_data_requested$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  wire \request_mux_data_requested$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire request_mux_nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_nak$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  wire [6:0] request_mux_new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  wire [6:0] \request_mux_new_address$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  wire [7:0] request_mux_new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  wire [7:0] \request_mux_new_config$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg request_mux_next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire request_mux_nyet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:77" *)
  reg request_mux_rx_invalid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  reg request_mux_rx_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  wire \request_mux_rx_ready_for_response$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] request_mux_setup__index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \request_mux_setup__index$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \request_mux_setup__index$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire request_mux_setup__is_in_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] request_mux_setup__length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \request_mux_setup__length$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire request_mux_setup__received;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \request_mux_setup__received$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \request_mux_setup__received$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [4:0] request_mux_setup__recipient;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [4:0] \request_mux_setup__recipient$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [4:0] \request_mux_setup__recipient$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [7:0] request_mux_setup__request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [7:0] \request_mux_setup__request$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [7:0] \request_mux_setup__request$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [1:0] request_mux_setup__type;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [1:0] \request_mux_setup__type$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [1:0] \request_mux_setup__type$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [1:0] \request_mux_setup__type$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] request_mux_setup__value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \request_mux_setup__value$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire request_mux_stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_stall$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_stall$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_stall$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \request_mux_stall$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  reg request_mux_status_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  wire \request_mux_status_requested$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  wire \request_mux_status_requested$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  wire \request_mux_status_requested$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [6:0] request_mux_tokenizer__address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] request_mux_tokenizer__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [10:0] request_mux_tokenizer__frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] request_mux_tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire request_mux_tokenizer__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire [7:0] request_mux_tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire [7:0] \request_mux_tx__data$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire request_mux_tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__first$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire request_mux_tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__last$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__last$44 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire request_mux_tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__ready$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire request_mux_tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__valid$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \request_mux_tx__valid$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  wire request_mux_tx_data_pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  wire \request_mux_tx_data_pid$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  reg request_mux_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:155" *)
  wire setup_decoder_ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:149" *)
  wire [15:0] setup_decoder_data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:149" *)
  wire setup_decoder_data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [15:0] setup_decoder_packet__index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire setup_decoder_packet__is_in_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [15:0] setup_decoder_packet__length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire setup_decoder_packet__received;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [4:0] setup_decoder_packet__recipient;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [7:0] setup_decoder_packet__request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [1:0] setup_decoder_packet__type;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  wire [15:0] setup_decoder_packet__value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:152" *)
  wire [1:0] setup_decoder_speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  wire setup_decoder_timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  wire setup_decoder_timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire setup_decoder_tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire [3:0] setup_decoder_tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  wire \timer__rx_timeout$56 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  wire \timer__tx_timeout$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire [6:0] \tokenizer__address$46 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire [3:0] \tokenizer__endpoint$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire [10:0] \tokenizer__frame$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__is_in$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__is_out$52 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__is_ping$54 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__is_setup$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__new_frame$50 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  wire \tokenizer__ready_for_response$48 ;
  assign \$99  = tokenizer__new_token & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *) tokenizer__is_setup;
  assign \$101  = tokenizer__new_token & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *) tokenizer__is_setup;
  assign \$103  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$105  = tokenizer__ready_for_response & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:231" *) \$103 ;
  assign \$107  = \$105  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:232" *) tokenizer__is_in;
  assign \$109  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$111  = \$109  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *) tokenizer__is_out;
  assign \$113  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$115  = \$113  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *) tokenizer__is_out;
  assign \$117  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$119  = \$117  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *) tokenizer__is_out;
  assign \$121  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$123  = \$121  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *) tokenizer__is_out;
  assign \$125  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$127  = \$125  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *) tokenizer__is_out;
  assign \$129  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$131  = tokenizer__ready_for_response & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:275" *) \$129 ;
  assign \$133  = \$131  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:276" *) tokenizer__is_in;
  assign \$135  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$137  = rx_ready_for_response & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:285" *) \$135 ;
  assign \$139  = \$137  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:286" *) tokenizer__is_out;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  assign \$59  = setup_decoder_ack | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:180" *) request_mux_ack;
  assign \$61  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$63  = \$61  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:263" *) tokenizer__ready_for_response;
  assign \$65  = \$63  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:263" *) tokenizer__is_ping;
  assign \$67  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$69  = \$67  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:290" *) tokenizer__ready_for_response;
  assign \$71  = \$69  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:290" *) tokenizer__is_ping;
  assign \$73  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *) request_mux_tx_data_pid;
  assign \$75  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$77  = setup_decoder_packet__received & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:209" *) \$75 ;
  assign \$79  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/dsl.py:552" *) setup_decoder_packet__length;
  assign \$81  = tokenizer__new_token & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *) tokenizer__is_setup;
  assign \$83  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$85  = \$83  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:239" *) tokenizer__new_token;
  assign \$87  = tokenizer__is_out | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:240" *) tokenizer__is_ping;
  assign \$89  = \$85  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:239" *) \$87 ;
  assign \$91  = tokenizer__new_token & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *) tokenizer__is_setup;
  assign \$93  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:201" *) tokenizer__endpoint;
  assign \$95  = \$93  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:259" *) tokenizer__new_token;
  assign \$97  = \$95  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:259" *) tokenizer__is_in;
  \usb_device.USBControlEndpoint.ACMRequestHandlers  ACMRequestHandlers (
    .ack(\request_mux_ack$37 ),
    .data_requested(\request_mux_data_requested$21 ),
    .rx_ready_for_response(\request_mux_rx_ready_for_response$23 ),
    .setup__index(\request_mux_setup__index$19 ),
    .setup__received(\request_mux_setup__received$20 ),
    .setup__request(\request_mux_setup__request$18 ),
    .setup__type(\request_mux_setup__type$17 ),
    .stall(\request_mux_stall$39 ),
    .status_requested(\request_mux_status_requested$22 ),
    .tx__last(\request_mux_tx__last$44 ),
    .tx__valid(\request_mux_tx__valid$35 )
  );
  \usb_device.USBControlEndpoint.StallOnlyRequestHandler  StallOnlyRequestHandler (
    .data_requested(\request_mux_data_requested$27 ),
    .setup__index(\request_mux_setup__index$26 ),
    .setup__recipient(\request_mux_setup__recipient$24 ),
    .setup__type(\request_mux_setup__type$25 ),
    .stall(\request_mux_stall$40 ),
    .status_requested(\request_mux_status_requested$28 )
  );
  \usb_device.USBControlEndpoint.StandardRequestHandler  StandardRequestHandler (
    .ack(\request_mux_ack$15 ),
    .\ack$1 (\request_mux_ack$36 ),
    .active_config(\request_mux_active_config$16 ),
    .address_changed(\request_mux_address_changed$29 ),
    .config_changed(\request_mux_config_changed$31 ),
    .data_requested(\request_mux_data_requested$13 ),
    .new_address(\request_mux_new_address$30 ),
    .new_config(\request_mux_new_config$32 ),
    .setup__length(\request_mux_setup__length$11 ),
    .setup__received(\request_mux_setup__received$12 ),
    .setup__recipient(\request_mux_setup__recipient$7 ),
    .setup__request(\request_mux_setup__request$9 ),
    .setup__type(\request_mux_setup__type$8 ),
    .setup__value(\request_mux_setup__value$10 ),
    .stall(\request_mux_stall$38 ),
    .status_requested(\request_mux_status_requested$14 ),
    .tx__data(\request_mux_tx__data$41 ),
    .tx__first(\request_mux_tx__first$42 ),
    .tx__last(\request_mux_tx__last$43 ),
    .tx__ready(\request_mux_tx__ready$45 ),
    .tx__valid(\request_mux_tx__valid$33 ),
    .tx_data_pid(\request_mux_tx_data_pid$34 ),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  \usb_device.USBControlEndpoint.request_mux  request_mux (
    .ack(request_mux_ack),
    .\ack$1 (\request_mux_ack$4 ),
    .\ack$12 (\request_mux_ack$15 ),
    .\ack$33 (\request_mux_ack$36 ),
    .\ack$34 (\request_mux_ack$37 ),
    .active_config(request_mux_active_config),
    .\active_config$13 (\request_mux_active_config$16 ),
    .address_changed(request_mux_address_changed),
    .\address_changed$26 (\request_mux_address_changed$29 ),
    .config_changed(request_mux_config_changed),
    .\config_changed$28 (\request_mux_config_changed$31 ),
    .data(request_mux_data),
    .data_requested(request_mux_data_requested),
    .\data_requested$10 (\request_mux_data_requested$13 ),
    .\data_requested$18 (\request_mux_data_requested$21 ),
    .\data_requested$24 (\request_mux_data_requested$27 ),
    .nak(request_mux_nak),
    .\nak$2 (\request_mux_nak$5 ),
    .new_address(request_mux_new_address),
    .\new_address$27 (\request_mux_new_address$30 ),
    .new_config(request_mux_new_config),
    .\new_config$29 (\request_mux_new_config$32 ),
    .next(request_mux_next),
    .nyet(request_mux_nyet),
    .rx_invalid(request_mux_rx_invalid),
    .rx_ready_for_response(request_mux_rx_ready_for_response),
    .\rx_ready_for_response$20 (\request_mux_rx_ready_for_response$23 ),
    .setup__index(request_mux_setup__index),
    .\setup__index$16 (\request_mux_setup__index$19 ),
    .\setup__index$23 (\request_mux_setup__index$26 ),
    .setup__is_in_request(request_mux_setup__is_in_request),
    .setup__length(request_mux_setup__length),
    .\setup__length$8 (\request_mux_setup__length$11 ),
    .setup__received(request_mux_setup__received),
    .\setup__received$17 (\request_mux_setup__received$20 ),
    .\setup__received$9 (\request_mux_setup__received$12 ),
    .setup__recipient(request_mux_setup__recipient),
    .\setup__recipient$21 (\request_mux_setup__recipient$24 ),
    .\setup__recipient$4 (\request_mux_setup__recipient$7 ),
    .setup__request(request_mux_setup__request),
    .\setup__request$15 (\request_mux_setup__request$18 ),
    .\setup__request$6 (\request_mux_setup__request$9 ),
    .setup__type(request_mux_setup__type),
    .\setup__type$14 (\request_mux_setup__type$17 ),
    .\setup__type$22 (\request_mux_setup__type$25 ),
    .\setup__type$5 (\request_mux_setup__type$8 ),
    .setup__value(request_mux_setup__value),
    .\setup__value$7 (\request_mux_setup__value$10 ),
    .stall(request_mux_stall),
    .\stall$3 (\request_mux_stall$6 ),
    .\stall$35 (\request_mux_stall$38 ),
    .\stall$36 (\request_mux_stall$39 ),
    .\stall$37 (\request_mux_stall$40 ),
    .status_requested(request_mux_status_requested),
    .\status_requested$11 (\request_mux_status_requested$14 ),
    .\status_requested$19 (\request_mux_status_requested$22 ),
    .\status_requested$25 (\request_mux_status_requested$28 ),
    .tokenizer__address(request_mux_tokenizer__address),
    .tokenizer__endpoint(request_mux_tokenizer__endpoint),
    .tokenizer__frame(request_mux_tokenizer__frame),
    .tokenizer__is_in(request_mux_tokenizer__is_in),
    .tokenizer__is_out(request_mux_tokenizer__is_out),
    .tokenizer__is_ping(request_mux_tokenizer__is_ping),
    .tokenizer__is_setup(request_mux_tokenizer__is_setup),
    .tokenizer__new_frame(request_mux_tokenizer__new_frame),
    .tokenizer__new_token(request_mux_tokenizer__new_token),
    .tokenizer__pid(request_mux_tokenizer__pid),
    .tokenizer__ready_for_response(request_mux_tokenizer__ready_for_response),
    .tx__data(request_mux_tx__data),
    .\tx__data$38 (\request_mux_tx__data$41 ),
    .tx__first(request_mux_tx__first),
    .\tx__first$39 (\request_mux_tx__first$42 ),
    .tx__last(request_mux_tx__last),
    .\tx__last$40 (\request_mux_tx__last$43 ),
    .\tx__last$41 (\request_mux_tx__last$44 ),
    .tx__ready(request_mux_tx__ready),
    .\tx__ready$42 (\request_mux_tx__ready$45 ),
    .tx__valid(request_mux_tx__valid),
    .\tx__valid$30 (\request_mux_tx__valid$33 ),
    .\tx__valid$32 (\request_mux_tx__valid$35 ),
    .tx_data_pid(request_mux_tx_data_pid),
    .\tx_data_pid$31 (\request_mux_tx_data_pid$34 ),
    .valid(request_mux_valid)
  );
  \usb_device.USBControlEndpoint.setup_decoder  setup_decoder (
    .ack(setup_decoder_ack),
    .data_crc__crc(setup_decoder_data_crc__crc),
    .data_crc__start(setup_decoder_data_crc__start),
    .packet__index(setup_decoder_packet__index),
    .packet__is_in_request(setup_decoder_packet__is_in_request),
    .packet__length(setup_decoder_packet__length),
    .packet__received(setup_decoder_packet__received),
    .packet__recipient(setup_decoder_packet__recipient),
    .packet__request(setup_decoder_packet__request),
    .packet__type(setup_decoder_packet__type),
    .packet__value(setup_decoder_packet__value),
    .rx_active(rx_active),
    .rx_data(rx_data),
    .rx_valid(rx_valid),
    .speed(setup_decoder_speed),
    .timer__start(setup_decoder_timer__start),
    .timer__tx_allowed(setup_decoder_timer__tx_allowed),
    .tokenizer__new_token(setup_decoder_tokenizer__new_token),
    .tokenizer__pid(setup_decoder_tokenizer__pid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    \ack$1  = \$59 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:263" *)
          if (\$65 ) begin
            \ack$1  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:268" */
      /* \torii.decoding  = "STATUS_IN/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:281" */
      /* \torii.decoding  = "STATUS_OUT/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:290" *)
          if (\$71 ) begin
            \ack$1  = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:209" *)
          if (\$77 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:213" *)
            if (\$79 ) begin
              (* full_case = 32'd1 *)
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:216" *)
              if (setup_decoder_packet__is_in_request) begin
                \fsm_state$next  = 3'h1;
              end else begin
                \fsm_state$next  = 3'h2;
              end
            end else begin
              \fsm_state$next  = 3'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
          if (\$81 ) begin
            \fsm_state$next  = 3'h0;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:238" *)
          if (\$89 ) begin
            \fsm_state$next  = 3'h4;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
          if (\$91 ) begin
            \fsm_state$next  = 3'h0;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:259" *)
          if (\$97 ) begin
            \fsm_state$next  = 3'h3;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:268" */
      /* \torii.decoding  = "STATUS_IN/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
          if (\$99 ) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:281" */
      /* \torii.decoding  = "STATUS_OUT/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:94" *)
          if (\$101 ) begin
            \fsm_state$next  = 3'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_data_requested = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:232" *)
          if (\$107 ) begin
            request_mux_data_requested = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
          if (\$111 ) begin
            request_mux_valid = valid;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_next = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
          if (\$115 ) begin
            request_mux_next = next;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
          if (\$119 ) begin
            request_mux_data = data;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_rx_ready_for_response = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
          if (\$123 ) begin
            request_mux_rx_ready_for_response = rx_ready_for_response;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_rx_invalid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:251" *)
          if (\$127 ) begin
            request_mux_rx_invalid = rx_invalid;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$2 ) begin end
    request_mux_status_requested = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:202" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:206" */
      /* \torii.decoding  = "SETUP/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:227" */
      /* \torii.decoding  = "DATA_IN/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:244" */
      /* \torii.decoding  = "DATA_OUT/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:268" */
      /* \torii.decoding  = "STATUS_IN/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:276" *)
          if (\$133 ) begin
            request_mux_status_requested = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:281" */
      /* \torii.decoding  = "STATUS_OUT/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:286" *)
          if (\$139 ) begin
            request_mux_status_requested = 1'h1;
          end
    endcase
  end
  assign tx_pid_toggle = \$73 ;
  assign new_config = request_mux_new_config;
  assign config_changed = request_mux_config_changed;
  assign request_mux_active_config = active_config;
  assign new_address = request_mux_new_address;
  assign address_changed = request_mux_address_changed;
  assign request_mux_nyet = nyet;
  assign \request_mux_stall$6  = stall;
  assign \request_mux_nak$5  = nak;
  assign \request_mux_ack$4  = ack;
  assign \stall$3  = request_mux_stall;
  assign \nak$2  = request_mux_nak;
  assign request_mux_tx__ready = tx__ready;
  assign tx__data = request_mux_tx__data;
  assign tx__last = request_mux_tx__last;
  assign tx__first = request_mux_tx__first;
  assign tx__valid = request_mux_tx__valid;
  assign request_mux_tokenizer__is_ping = tokenizer__is_ping;
  assign request_mux_tokenizer__is_setup = tokenizer__is_setup;
  assign request_mux_tokenizer__is_out = tokenizer__is_out;
  assign request_mux_tokenizer__is_in = tokenizer__is_in;
  assign request_mux_tokenizer__new_frame = tokenizer__new_frame;
  assign request_mux_tokenizer__frame = tokenizer__frame;
  assign request_mux_tokenizer__ready_for_response = tokenizer__ready_for_response;
  assign request_mux_tokenizer__new_token = tokenizer__new_token;
  assign request_mux_tokenizer__endpoint = tokenizer__endpoint;
  assign request_mux_tokenizer__address = tokenizer__address;
  assign request_mux_tokenizer__pid = tokenizer__pid;
  assign request_mux_setup__received = setup_decoder_packet__received;
  assign request_mux_setup__length = setup_decoder_packet__length;
  assign request_mux_setup__index = setup_decoder_packet__index;
  assign request_mux_setup__value = setup_decoder_packet__value;
  assign request_mux_setup__request = setup_decoder_packet__request;
  assign request_mux_setup__is_in_request = setup_decoder_packet__is_in_request;
  assign request_mux_setup__type = setup_decoder_packet__type;
  assign request_mux_setup__recipient = setup_decoder_packet__recipient;
  assign timer__start = \$57 ;
  assign \timer__rx_timeout$56  = timer__rx_timeout;
  assign \timer__tx_timeout$55  = timer__tx_timeout;
  assign setup_decoder_timer__tx_allowed = timer__tx_allowed;
  assign setup_decoder_speed = speed;
  assign \tokenizer__is_ping$54  = tokenizer__is_ping;
  assign \tokenizer__is_setup$53  = tokenizer__is_setup;
  assign \tokenizer__is_out$52  = tokenizer__is_out;
  assign \tokenizer__is_in$51  = tokenizer__is_in;
  assign \tokenizer__new_frame$50  = tokenizer__new_frame;
  assign \tokenizer__frame$49  = tokenizer__frame;
  assign \tokenizer__ready_for_response$48  = tokenizer__ready_for_response;
  assign setup_decoder_tokenizer__new_token = tokenizer__new_token;
  assign \tokenizer__endpoint$47  = tokenizer__endpoint;
  assign \tokenizer__address$46  = tokenizer__address;
  assign setup_decoder_tokenizer__pid = tokenizer__pid;
  assign setup_decoder_data_crc__crc = data_crc__crc;
  assign data_crc__start = setup_decoder_data_crc__start;
  assign \$57  = setup_decoder_timer__start;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.ACMRequestHandlers (setup__request, setup__index, setup__received, data_requested, status_requested, rx_ready_for_response, tx__valid, ack, stall, tx__last, setup__type);
  reg \$auto$verilog_backend.cc:2434:dump_module$3  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [7:0] setup__request;
  wire [7:0] setup__request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__index;
  wire [15:0] setup__index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input setup__received;
  wire setup__received;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  input data_requested;
  wire data_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  input status_requested;
  wire status_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  input rx_ready_for_response;
  wire rx_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__valid;
  reg tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output ack;
  reg ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output stall;
  reg stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__last;
  reg tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [1:0] setup__type;
  wire [1:0] setup__type;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:59" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$9 ;
  assign \$9  = setup__type == (* src = "/home/lofty/torii/instantiate-usb.py:65" *) 2'h1;
  assign \$11  = ! (* src = "/home/lofty/torii/instantiate-usb.py:65" *) setup__index;
  assign \$13  = \$9  & (* src = "/home/lofty/torii/instantiate-usb.py:65" *) \$11 ;
  assign \$15  = setup__received & (* src = "/home/lofty/torii/instantiate-usb.py:39" *) \$13 ;
  assign \$17  = setup__type == (* src = "/home/lofty/torii/instantiate-usb.py:65" *) 2'h1;
  assign \$1  = setup__type == (* src = "/home/lofty/torii/instantiate-usb.py:65" *) 2'h1;
  assign \$19  = ! (* src = "/home/lofty/torii/instantiate-usb.py:65" *) setup__index;
  assign \$21  = \$17  & (* src = "/home/lofty/torii/instantiate-usb.py:65" *) \$19 ;
  assign \$23  = setup__received & (* src = "/home/lofty/torii/instantiate-usb.py:39" *) \$21 ;
  assign \$25  = setup__type == (* src = "/home/lofty/torii/instantiate-usb.py:65" *) 2'h1;
  assign \$27  = ! (* src = "/home/lofty/torii/instantiate-usb.py:65" *) setup__index;
  assign \$29  = \$25  & (* src = "/home/lofty/torii/instantiate-usb.py:65" *) \$27 ;
  assign \$31  = setup__received & (* src = "/home/lofty/torii/instantiate-usb.py:39" *) \$29 ;
  assign \$33  = status_requested | (* src = "/home/lofty/torii/instantiate-usb.py:59" *) data_requested;
  assign \$3  = ! (* src = "/home/lofty/torii/instantiate-usb.py:65" *) setup__index;
  assign \$5  = \$1  & (* src = "/home/lofty/torii/instantiate-usb.py:65" *) \$3 ;
  assign \$7  = setup__received & (* src = "/home/lofty/torii/instantiate-usb.py:39" *) \$5 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$3 ) begin end
    ack = 1'h0;
    (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
    if (\$7 ) begin
      (* src = "/home/lofty/torii/instantiate-usb.py:40" *)
      casez (setup__request)
        /* src = "/home/lofty/torii/instantiate-usb.py:44" */
        8'h20:
            (* src = "/home/lofty/torii/instantiate-usb.py:47" *)
            if (rx_ready_for_response) begin
              ack = 1'h1;
            end
      endcase
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$3 ) begin end
    tx__valid = 1'h0;
    (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
    if (\$15 ) begin
      (* src = "/home/lofty/torii/instantiate-usb.py:40" *)
      casez (setup__request)
        /* src = "/home/lofty/torii/instantiate-usb.py:44" */
        8'h20:
            (* src = "/home/lofty/torii/instantiate-usb.py:51" *)
            if (status_requested) begin
              tx__valid = 1'h1;
            end
      endcase
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$3 ) begin end
    tx__last = 1'h0;
    (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
    if (\$23 ) begin
      (* src = "/home/lofty/torii/instantiate-usb.py:40" *)
      casez (setup__request)
        /* src = "/home/lofty/torii/instantiate-usb.py:44" */
        8'h20:
            (* src = "/home/lofty/torii/instantiate-usb.py:51" *)
            if (status_requested) begin
              tx__last = 1'h1;
            end
      endcase
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$3 ) begin end
    stall = 1'h0;
    (* src = "/home/lofty/torii/instantiate-usb.py:39" *)
    if (\$31 ) begin
      (* full_case = 32'd1 *)
      (* src = "/home/lofty/torii/instantiate-usb.py:40" *)
      casez (setup__request)
        /* src = "/home/lofty/torii/instantiate-usb.py:44" */
        8'h20:
            /* empty */;
        /* src = "/home/lofty/torii/instantiate-usb.py:54" */
        default:
            (* src = "/home/lofty/torii/instantiate-usb.py:59" *)
            if (\$33 ) begin
              stall = 1'h1;
            end
      endcase
    end
  end
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.StallOnlyRequestHandler (setup__type, setup__index, data_requested, status_requested, stall, setup__recipient);
  reg \$auto$verilog_backend.cc:2434:dump_module$4  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [1:0] setup__type;
  wire [1:0] setup__type;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__index;
  wire [15:0] setup__index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  input data_requested;
  wire data_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  input status_requested;
  wire status_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output stall;
  reg stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [4:0] setup__recipient;
  wire [4:0] setup__recipient;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:433" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/instantiate-usb.py:65" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:130" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:134" *)
  wire \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:204" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *)
  wire \$9 ;
  assign \$9  = \$5  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *) \$7 ;
  assign \$11  = setup__type == (* src = "/home/lofty/torii/instantiate-usb.py:65" *) 2'h1;
  assign \$13  = ! (* src = "/home/lofty/torii/instantiate-usb.py:65" *) setup__index;
  assign \$15  = \$11  & (* src = "/home/lofty/torii/instantiate-usb.py:65" *) \$13 ;
  assign \$4  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:134" *) { \$15 , \$9  };
  assign \$3  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/control.py:130" *) \$4 ;
  assign \$1  = data_requested | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:433" *) status_requested;
  assign \$5  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *) setup__type;
  assign \$7  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:204" *) setup__recipient;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$4 ) begin end
    stall = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:433" *)
    if (\$1 ) begin
      (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:436" *)
      if (\$3 ) begin
        stall = 1'h1;
      end
    end
  end
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.StandardRequestHandler (usb_clk, setup__recipient, setup__type, setup__request, setup__value, setup__length, setup__received, data_requested, status_requested, ack, active_config, address_changed, new_address, config_changed, new_config, tx__valid, tx_data_pid, \ack$1 , stall, tx__data, tx__first
, tx__last, tx__ready, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$5  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [4:0] setup__recipient;
  wire [4:0] setup__recipient;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [1:0] setup__type;
  wire [1:0] setup__type;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [7:0] setup__request;
  wire [7:0] setup__request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__value;
  wire [15:0] setup__value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__length;
  wire [15:0] setup__length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input setup__received;
  wire setup__received;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  input data_requested;
  wire data_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  input status_requested;
  wire status_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input ack;
  wire ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  input [7:0] active_config;
  wire [7:0] active_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  output address_changed;
  reg address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  output [6:0] new_address;
  reg [6:0] new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  output config_changed;
  reg config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  output [7:0] new_config;
  reg [7:0] new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__valid;
  reg tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  output tx_data_pid;
  reg tx_data_pid = 1'h1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \ack$1 ;
  reg \ack$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output stall;
  reg stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output [7:0] tx__data;
  reg [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__first;
  reg tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__last;
  reg tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:204" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:102" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:106" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
  wire \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:105" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:496" *)
  wire [7:0] \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:162" *)
  wire [11:0] \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:162" *)
  wire [11:0] \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:170" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:143" *)
  reg expecting_ack = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:143" *)
  reg \expecting_ack$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:191" *)
  wire [15:0] get_descriptor_length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:197" *)
  wire get_descriptor_stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:193" *)
  reg get_descriptor_start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:194" *)
  reg [10:0] get_descriptor_start_position = 11'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:194" *)
  reg [10:0] \get_descriptor_start_position$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  wire [7:0] get_descriptor_tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  wire get_descriptor_tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  wire get_descriptor_tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  reg get_descriptor_tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  wire get_descriptor_tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:190" *)
  wire [15:0] get_descriptor_value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:410" *)
  reg [7:0] transmitter_datum_0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:410" *)
  reg [7:0] transmitter_datum_1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:416" *)
  reg [1:0] transmitter_max_length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:407" *)
  reg transmitter_start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  wire [7:0] transmitter_stream__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  wire transmitter_stream__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  wire transmitter_stream__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  reg transmitter_stream__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  wire transmitter_stream__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  reg \tx_data_pid$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:170" *) tx_data_pid;
  assign \$11  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *) setup__type;
  assign \$13  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:204" *) setup__recipient;
  assign \$15  = \$11  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:203" *) \$13 ;
  assign \$17  = setup__received & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:102" *) \$15 ;
  assign \$23  = data_requested | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *) status_requested;
  assign \$25  = data_requested | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *) status_requested;
  assign \$27  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:496" *) setup__value[6:0];
  assign \$2  = ack & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *) expecting_ack;
  assign \$29  = ack & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *) expecting_ack;
  always @(posedge usb_clk)
    get_descriptor_start_position <= \get_descriptor_start_position$next ;
  always @(posedge usb_clk)
    tx_data_pid <= \tx_data_pid$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    expecting_ack <= \expecting_ack$next ;
  assign \$5  = get_descriptor_start_position + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:162" *) 7'h40;
  assign \$7  = ack & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *) expecting_ack;
  \usb_device.USBControlEndpoint.StandardRequestHandler.get_descriptor  get_descriptor (
    .length(get_descriptor_length),
    .stall(get_descriptor_stall),
    .start(get_descriptor_start),
    .start_position(get_descriptor_start_position),
    .tx__data(get_descriptor_tx__data),
    .tx__first(get_descriptor_tx__first),
    .tx__last(get_descriptor_tx__last),
    .tx__ready(get_descriptor_tx__ready),
    .tx__valid(get_descriptor_tx__valid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .value(get_descriptor_value)
  );
  \usb_device.USBControlEndpoint.StandardRequestHandler.transmitter  transmitter (
    .datum_0(transmitter_datum_0),
    .datum_1(transmitter_datum_1),
    .max_length(transmitter_max_length),
    .start(transmitter_start),
    .stream__data(transmitter_stream__data),
    .stream__first(transmitter_stream__first),
    .stream__last(transmitter_stream__last),
    .stream__ready(transmitter_stream__ready),
    .stream__valid(transmitter_stream__valid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    transmitter_datum_0 = 8'h00;
    transmitter_datum_1 = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          { transmitter_datum_1, transmitter_datum_0 } = 16'h0000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          transmitter_datum_0 = active_config;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    transmitter_max_length = 2'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          transmitter_max_length = 2'h2;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          transmitter_max_length = 2'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    transmitter_start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:79" *)
          if (data_requested) begin
            transmitter_start = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:79" *)
          if (data_requested) begin
            transmitter_start = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    \ack$1  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:83" *)
          if (status_requested) begin
            \ack$1  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:177" *)
          if (status_requested) begin
            \ack$1  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:83" *)
          if (status_requested) begin
            \ack$1  = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    stall = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          stall = get_descriptor_stall;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:191" */
      /* \torii.decoding  = "UNHANDLED/6" */
      3'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *)
          if (\$25 ) begin
            stall = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    address_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            address_changed = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    new_address = 7'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            new_address = setup__value[6:0];
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    config_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            config_changed = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    new_config = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            new_config = \$27 ;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    \get_descriptor_start_position$next  = get_descriptor_start_position;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          \get_descriptor_start_position$next  = 11'h000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
          if (\$2 ) begin
            \get_descriptor_start_position$next  = \$5 [10:0];
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \get_descriptor_start_position$next  = 11'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    get_descriptor_tx__ready = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          get_descriptor_tx__ready = tx__ready;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    get_descriptor_start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:151" *)
          if (data_requested) begin
            get_descriptor_start = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    \expecting_ack$next  = expecting_ack;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:151" *)
          if (data_requested) begin
            \expecting_ack$next  = 1'h1;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
          if (\$29 ) begin
            \expecting_ack$next  = 1'h0;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:182" *)
          if (get_descriptor_stall) begin
            \expecting_ack$next  = 1'h0;
          end
        end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \expecting_ack$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    \tx_data_pid$next  = tx_data_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          \tx_data_pid$next  = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:157" *)
          if (\$7 ) begin
            \tx_data_pid$next  = \$9 ;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \tx_data_pid$next  = 1'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:102" *)
          if (\$17 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:106" *)
            if (\$19 ) begin
              (* full_case = 32'd1 *)
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:109" *)
              casez (setup__request)
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:111" */
                8'h00:
                    \fsm_state$next  = 3'h1;
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:113" */
                8'h05:
                    \fsm_state$next  = 3'h2;
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:115" */
                8'h09:
                    \fsm_state$next  = 3'h3;
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:117" */
                8'h06:
                    \fsm_state$next  = 3'h4;
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:119" */
                8'h08:
                    \fsm_state$next  = 3'h5;
                /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:121" */
                default:
                    \fsm_state$next  = 3'h6;
              endcase
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:83" *)
          if (status_requested) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:46" *)
          if (ack) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:177" *)
          if (status_requested) begin
            \fsm_state$next  = 3'h0;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:182" *)
          if (get_descriptor_stall) begin
            \fsm_state$next  = 3'h0;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:83" *)
          if (status_requested) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:191" */
      /* \torii.decoding  = "UNHANDLED/6" */
      3'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:195" *)
          if (\$23 ) begin
            \fsm_state$next  = 3'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    tx__valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          tx__valid = transmitter_stream__valid;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:37" *)
          if (status_requested) begin
            tx__valid = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:37" *)
          if (status_requested) begin
            tx__valid = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          tx__valid = get_descriptor_tx__valid;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          tx__valid = transmitter_stream__valid;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    tx__first = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          tx__first = transmitter_stream__first;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          tx__first = get_descriptor_tx__first;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          tx__first = transmitter_stream__first;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    tx__last = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          tx__last = transmitter_stream__last;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:37" *)
          if (status_requested) begin
            tx__last = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/control.py:37" *)
          if (status_requested) begin
            tx__last = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          tx__last = get_descriptor_tx__last;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          tx__last = transmitter_stream__last;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    tx__data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          tx__data = transmitter_stream__data;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          tx__data = get_descriptor_tx__data;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          tx__data = transmitter_stream__data;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$5 ) begin end
    transmitter_stream__ready = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:88" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:91" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:126" */
      /* \torii.decoding  = "GET_STATUS/1" */
      3'h1:
          transmitter_stream__ready = tx__ready;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:132" */
      /* \torii.decoding  = "SET_ADDRESS/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:136" */
      /* \torii.decoding  = "SET_CONFIGURATION/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:141" */
      /* \torii.decoding  = "GET_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/request/standard.py:187" */
      /* \torii.decoding  = "GET_CONFIGURATION/5" */
      3'h5:
          transmitter_stream__ready = tx__ready;
    endcase
  end
  assign \$4  = \$5 ;
  assign get_descriptor_length = setup__length;
  assign get_descriptor_value = setup__value;
  assign \$20  = 1'h0;
  assign \$19  = 1'h1;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.StandardRequestHandler.get_descriptor (usb_clk, value, length, start_position, tx__valid, tx__first, tx__last, tx__data, tx__ready, stall, start, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$6  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:190" *)
  input [15:0] value;
  wire [15:0] value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:191" *)
  input [15:0] length;
  wire [15:0] length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:194" *)
  input [10:0] start_position;
  wire [10:0] start_position;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  output tx__valid;
  reg tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  output tx__first;
  reg tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  output tx__last;
  reg tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  output [7:0] tx__data;
  reg [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:196" *)
  input tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:197" *)
  output stall;
  reg stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:193" *)
  input start;
  wire start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
  wire \$100 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$102 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$111 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$113 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$116 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$117 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$119 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$121 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$123 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$125 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$127 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:505" *)
  wire [7:0] \$130 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:505" *)
  wire [2:0] \$131 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/rtlil.py:608" *)
  wire [6:0] \$133 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:413" *)
  wire \$136 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$138 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$140 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$142 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$144 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$146 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$148 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:398" *)
  wire [16:0] \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:519" *)
  wire [16:0] \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:519" *)
  wire [16:0] \$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
  wire \$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:470" *)
  wire [8:0] \$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:470" *)
  wire [8:0] \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:484" *)
  wire [32:0] \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:484" *)
  wire [32:0] \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:484" *)
  wire [32:0] \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:504" *)
  wire [6:0] \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:497" *)
  wire [5:0] \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:504" *)
  wire [6:0] \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:399" *)
  wire \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$44 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$46 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$48 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$50 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$52 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *)
  wire [6:0] \$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *)
  wire [6:0] \$56 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *)
  wire [6:0] \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *)
  wire [6:0] \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:398" *)
  wire [16:0] \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:443" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
  wire \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:471" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$68 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:398" *)
  wire [16:0] \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$70 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$72 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$74 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$76 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$78 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  wire [16:0] \$82 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$84 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$86 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire [16:0] \$88 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$90 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *)
  wire \$92 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:518" *)
  wire [6:0] \$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:518" *)
  wire [6:0] \$96 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:443" *)
  wire \$98 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:406" *)
  reg [15:0] bytes_sent = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:406" *)
  reg [15:0] \bytes_sent$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:410" *)
  reg [5:0] descriptor_data_base_address = 6'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:410" *)
  reg [5:0] \descriptor_data_base_address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:409" *)
  reg [15:0] descriptor_length = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:409" *)
  reg [15:0] \descriptor_length$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:361" *)
  wire [7:0] index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:393" *)
  reg [15:0] \length$1  = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:393" *)
  reg [15:0] \length$1$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  reg [5:0] position_in_stream = 6'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *)
  reg [5:0] \position_in_stream$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:375" *)
  reg [5:0] rom_r_addr;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:375" *)
  wire [31:0] rom_r_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:375" *)
  wire rom_r_en;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:360" *)
  wire [7:0] type_number;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:373" *)
  reg [31:0] rom [58:0];
  initial begin
    rom[0] = 32'd0;
    rom[1] = 32'd65552;
    rom[2] = 32'd65556;
    rom[3] = 32'd262168;
    rom[4] = 32'd1179688;
    rom[5] = 32'd3211324;
    rom[6] = 32'd262256;
    rom[7] = 32'd3407988;
    rom[8] = 32'd3539112;
    rom[9] = 32'd786656;
    rom[10] = 32'd302055426;
    rom[11] = 32'd4009886016;
    rom[12] = 32'd152230842;
    rom[13] = 32'd1048834;
    rom[14] = 32'd65536;
    rom[15] = 32'd151138560;
    rom[16] = 32'd33620864;
    rom[17] = 32'd839451648;
    rom[18] = 32'd514;
    rom[19] = 32'd2308;
    rom[20] = 32'd16777738;
    rom[21] = 32'd7;
    rom[22] = 32'd92340744;
    rom[23] = 32'd67333;
    rom[24] = 32'd16910336;
    rom[25] = 32'd17304320;
    rom[26] = 32'd33686016;
    rom[27] = 32'd0;
    rom[28] = 32'd67307780;
    rom[29] = 32'd872630272;
    rom[30] = 32'd1862299136;
    rom[31] = 32'd1694529792;
    rom[32] = 32'd536891392;
    rom[33] = 32'd1761633024;
    rom[34] = 32'd1795189760;
    rom[35] = 32'd1694524416;
    rom[36] = 32'd536891392;
    rom[37] = 32'd1694523648;
    rom[38] = 32'd1660971008;
    rom[39] = 32'd1694528256;
    rom[40] = 32'd536889600;
    rom[41] = 32'd1845519104;
    rom[42] = 32'd906192640;
    rom[43] = 32'd1711288576;
    rom[44] = 32'd939536384;
    rom[45] = 32'd1828741888;
    rom[46] = 32'd1962942464;
    rom[47] = 32'd1124100096;
    rom[48] = 32'd1694528256;
    rom[49] = 32'd1929388032;
    rom[50] = 32'd1392538624;
    rom[51] = 32'd1694527488;
    rom[52] = 32'd1879075072;
    rom[53] = 32'd1845520128;
    rom[54] = 32'd536887552;
    rom[55] = 32'd805306368;
    rom[56] = 32'd201540352;
    rom[57] = 32'd1744856320;
    rom[58] = 32'd1929409280;
  end
  reg [31:0] _0_;
  always @(posedge usb_clk) begin
    _0_ <= rom[rom_r_addr];
  end
  initial _0_ = 32'd0;
  assign rom_r_data = _0_;
  assign \$100  = index >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *) rom_r_data[31:16];
  assign \$103  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$105  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$107  = $signed(\$103 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$105 );
  assign \$10  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$109  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$111  = \$109  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$113  = \$107  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$111 ;
  assign \$102  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$113 ;
  assign \$117  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$119  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$121  = $signed(\$117 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$119 );
  assign \$123  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$125  = \$123  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$127  = \$121  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$125 ;
  assign \$116  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$127 ;
  assign \$12  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$131  = 2'h3 - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:505" *) position_in_stream[1:0];
  assign \$133  = \$131  * (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/rtlil.py:608" *) 4'h8;
  assign \$130  = rom_r_data >> \$133 ;
  assign \$136  = position_in_stream == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:413" *) start_position;
  assign \$138  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$140  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$142  = $signed(\$138 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$140 );
  assign \$144  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$146  = \$144  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$148  = \$142  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$146 ;
  assign \$14  = $signed(\$10 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$12 );
  always @(posedge usb_clk)
    \length$1  <= \length$1$next ;
  always @(posedge usb_clk)
    bytes_sent <= \bytes_sent$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    position_in_stream <= \position_in_stream$next ;
  always @(posedge usb_clk)
    descriptor_data_base_address <= \descriptor_data_base_address$next ;
  always @(posedge usb_clk)
    descriptor_length <= \descriptor_length$next ;
  assign \$16  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$18  = \$16  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$20  = \$14  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$18 ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$20 ;
  assign \$24  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:519" *) 1'h1;
  assign \$26  = index >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *) rom_r_data[31:16];
  assign \$2  = length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:398" *) start_position;
  assign \$29  = rom_r_data[7:2] + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:470" *) index;
  assign \$32  = rom_r_data + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:484" *) position_in_stream;
  assign \$39  = descriptor_data_base_address + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:504" *) \$37 ;
  assign \$42  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$44  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$46  = $signed(\$42 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$44 );
  assign \$48  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$4  = $signed(\$2 ) <= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:399" *) $signed(17'h00040);
  assign \$50  = \$48  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$52  = \$46  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$50 ;
  assign \$41  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$52 ;
  assign \$57  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *) 1'h1;
  assign \$59  = descriptor_data_base_address + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:522" *) \$56 [5:2];
  assign \$61  = type_number <= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:443" *) 6'h03;
  assign \$63  = index >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *) rom_r_data[31:16];
  assign \$65  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:471" *) \length$1 ;
  assign \$68  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$70  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$72  = $signed(\$68 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$70 );
  assign \$74  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$76  = \$74  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$78  = \$72  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$76 ;
  assign \$7  = length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:398" *) start_position;
  assign \$67  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$78 ;
  assign \$82  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:405" *) position_in_stream;
  assign \$84  = descriptor_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$86  = $signed(\$82 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) $signed(\$84 );
  assign \$88  = bytes_sent + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) 1'h1;
  assign \$90  = \$88  >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \length$1 ;
  assign \$92  = \$86  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:414" *) \$90 ;
  assign \$81  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *) \$92 ;
  assign \$96  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:518" *) 1'h1;
  assign \$98  = type_number <= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:443" *) 6'h03;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    tx__valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          tx__valid = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:536" */
      /* \torii.decoding  = "SEND_ZLP/3" */
      3'h3:
          tx__valid = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    tx__data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          tx__data = \$130 ;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    tx__first = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          tx__first = \$136 ;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    tx__last = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          tx__last = \$148 ;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:536" */
      /* \torii.decoding  = "SEND_ZLP/3" */
      3'h3:
          tx__last = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:399" *)
    if (\$4 ) begin
      \length$1$next  = \$7 [15:0];
    end else begin
      \length$1$next  = 16'h0040;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \length$1$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    \bytes_sent$next  = bytes_sent;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          \bytes_sent$next  = 16'h0000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$9 ) begin
              \bytes_sent$next  = \$24 [15:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \bytes_sent$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    rom_r_addr = 6'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          rom_r_addr = type_number[5:0];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          rom_r_addr = type_number[5:0];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
          if (\$26 ) begin
          end else begin
            rom_r_addr = \$29 [5:0];
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          rom_r_addr = \$34 [5:0];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
        begin
          rom_r_addr = \$39 [5:0];
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$41 ) begin
              rom_r_addr = \$59 [5:0];
            end
          end
        end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:432" *)
          if (start) begin
            \fsm_state$next  = 3'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:446" *)
          if (\$61 ) begin
            \fsm_state$next  = 3'h2;
          end else begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
          if (\$63 ) begin
            \fsm_state$next  = 3'h0;
          end else begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:471" *)
            if (\$65 ) begin
              \fsm_state$next  = 3'h3;
            end else begin
              \fsm_state$next  = 3'h4;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          \fsm_state$next  = 3'h5;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$67 ) begin
            end else begin
              \fsm_state$next  = 3'h0;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:536" */
      /* \torii.decoding  = "SEND_ZLP/3" */
      3'h3:
          \fsm_state$next  = 3'h0;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    \position_in_stream$next  = position_in_stream;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          \position_in_stream$next  = start_position[5:0];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$81 ) begin
              \position_in_stream$next  = \$96 [5:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \position_in_stream$next  = 6'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    stall = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:446" *)
          if (\$98 ) begin
          end else begin
            stall = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:464" *)
          if (\$100 ) begin
            stall = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    \descriptor_data_base_address$next  = descriptor_data_base_address;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          \descriptor_data_base_address$next  = rom_r_data[7:2];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$102 ) begin
            end else begin
              \descriptor_data_base_address$next  = 6'h00;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \descriptor_data_base_address$next  = 6'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$6 ) begin end
    \descriptor_length$next  = descriptor_length;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:420" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:423" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:436" */
      /* \torii.decoding  = "START/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:457" */
      /* \torii.decoding  = "LOOKUP_TYPE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:480" */
      /* \torii.decoding  = "LOOKUP_DESCRIPTOR/4" */
      3'h4:
          \descriptor_length$next  = rom_r_data[31:16];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:496" */
      /* \torii.decoding  = "SEND_DESCRIPTOR/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:513" *)
          if (tx__ready) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/descriptor.py:516" *)
            if (\$116 ) begin
            end else begin
              \descriptor_length$next  = 16'h0000;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \descriptor_length$next  = 16'h0000;
    end
  end
  assign \$6  = \$7 ;
  assign \$23  = \$24 ;
  assign \$28  = \$29 ;
  assign \$31  = \$34 ;
  assign \$36  = \$39 ;
  assign \$56  = \$57 ;
  assign \$55  = \$59 ;
  assign \$95  = \$96 ;
  assign rom_r_en = 1'h1;
  assign type_number = value[15:8];
  assign index = value[7:0];
  assign \$34  = { 2'h0, \$32 [32:2] };
  assign \$37  = { 2'h0, position_in_stream[5:2] };
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.StandardRequestHandler.transmitter (usb_clk, stream__valid, stream__first, stream__last, stream__data, stream__ready, datum_0, datum_1, max_length, start, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$7  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  output stream__valid;
  wire stream__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  output stream__first;
  wire stream__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  output stream__last;
  wire stream__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  output [7:0] stream__data;
  reg [7:0] stream__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:411" *)
  input stream__ready;
  wire stream__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:410" *)
  input [7:0] datum_0;
  wire [7:0] datum_0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:410" *)
  input [7:0] datum_1;
  wire [7:0] datum_1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:416" *)
  input [1:0] max_length;
  wire [1:0] max_length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:407" *)
  input start;
  wire start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:427" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:433" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:440" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire [1:0] \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *)
  wire [1:0] \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:465" *)
  wire [1:0] \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:432" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:465" *)
  wire [1:0] \$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:449" *)
  wire \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:449" *)
  wire \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire [1:0] \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire \$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *)
  wire [1:0] \$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *)
  wire \$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *)
  wire \$44 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:424" *)
  wire [2:0] \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *)
  wire [2:0] \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:408" *)
  reg done;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
  reg [1:0] fsm_state = 2'h1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
  reg [1:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:424" *)
  reg position_in_stream = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:424" *)
  reg \position_in_stream$next ;
  assign \$9  = max_length - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *) 1'h1;
  assign \$11  = $signed(\$7 ) == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *) $signed(\$9 );
  assign \$13  = \$5  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:428" *) \$11 ;
  assign \$15  = \$13  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:433" *) stream__valid;
  assign \$17  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:440" *) fsm_state;
  assign \$1  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:427" *) position_in_stream;
  assign \$19  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) 1'h1;
  assign \$21  = \$19  < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) max_length;
  assign \$23  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *) 1'h1;
  assign \$25  = \$23  < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *) 2'h2;
  assign \$27  = \$21  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) \$25 ;
  assign \$30  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:465" *) 1'h1;
  assign \$32  = max_length > (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:449" *) 1'h0;
  assign \$34  = start & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:449" *) \$32 ;
  assign \$36  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) 1'h1;
  assign \$38  = \$36  < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) max_length;
  assign \$3  = \$1  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:432" *) stream__valid;
  assign \$40  = position_in_stream + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *) 1'h1;
  assign \$42  = \$40  < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:461" *) 2'h2;
  assign \$44  = \$38  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:460" *) \$42 ;
  always @(posedge usb_clk)
    position_in_stream <= \position_in_stream$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  assign \$7  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:424" *) position_in_stream;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$7 ) begin end
    \position_in_stream$next  = position_in_stream;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:443" */
      /* \torii.decoding  = "IDLE/1" */
      2'h1:
          \position_in_stream$next  = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:453" */
      /* \torii.decoding  = "STREAMING/0" */
      2'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:457" *)
          if (stream__ready) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:464" *)
            if (\$27 ) begin
              \position_in_stream$next  = \$30 [0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \position_in_stream$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$7 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:443" */
      /* \torii.decoding  = "IDLE/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:449" *)
          if (\$34 ) begin
            \fsm_state$next  = 2'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:453" */
      /* \torii.decoding  = "STREAMING/0" */
      2'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:457" *)
          if (stream__ready) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:464" *)
            if (\$44 ) begin
            end else begin
              \fsm_state$next  = 2'h2;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:472" */
      /* \torii.decoding  = "DONE/2" */
      2'h2:
          \fsm_state$next  = 2'h1;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 2'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$7 ) begin end
    stream__data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:443" */
      /* \torii.decoding  = "IDLE/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:453" */
      /* \torii.decoding  = "STREAMING/0" */
      2'h0:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:454" *)
          casez (position_in_stream)
            1'h0:
                stream__data = datum_0;
            1'h?:
                stream__data = datum_1;
          endcase
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$7 ) begin end
    done = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:439" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:443" */
      /* \torii.decoding  = "IDLE/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:453" */
      /* \torii.decoding  = "STREAMING/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/stream/generator.py:472" */
      /* \torii.decoding  = "DONE/2" */
      2'h2:
          done = 1'h1;
    endcase
  end
  assign \$29  = \$30 ;
  assign stream__valid = \$17 ;
  assign stream__last = \$15 ;
  assign stream__first = \$3 ;
  assign \$5  = position_in_stream;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.request_mux (setup__type, setup__is_in_request, setup__request, setup__value, setup__index, setup__length, setup__received, tokenizer__pid, tokenizer__address, tokenizer__endpoint, tokenizer__new_token, tokenizer__ready_for_response, tokenizer__frame, tokenizer__new_frame, tokenizer__is_in, tokenizer__is_out, tokenizer__is_setup, tokenizer__is_ping, tx__valid, tx__first, tx__last
, tx__data, tx__ready, ack, nak, stall, \ack$1 , \nak$2 , \stall$3 , nyet, address_changed, new_address, active_config, config_changed, new_config, tx_data_pid, data_requested, valid, next, data, rx_ready_for_response, rx_invalid
, status_requested, \setup__recipient$4 , \setup__type$5 , \setup__request$6 , \setup__value$7 , \setup__length$8 , \setup__received$9 , \data_requested$10 , \status_requested$11 , \ack$12 , \active_config$13 , \setup__type$14 , \setup__request$15 , \setup__index$16 , \setup__received$17 , \data_requested$18 , \status_requested$19 , \rx_ready_for_response$20 , \setup__recipient$21 , \setup__type$22 , \setup__index$23 
, \data_requested$24 , \status_requested$25 , \address_changed$26 , \new_address$27 , \config_changed$28 , \new_config$29 , \tx__valid$30 , \tx_data_pid$31 , \tx__valid$32 , \ack$33 , \ack$34 , \stall$35 , \stall$36 , \stall$37 , \tx__data$38 , \tx__first$39 , \tx__last$40 , \tx__last$41 , \tx__ready$42 , setup__recipient);
  reg \$auto$verilog_backend.cc:2434:dump_module$8  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [1:0] setup__type;
  wire [1:0] setup__type;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input setup__is_in_request;
  wire setup__is_in_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [7:0] setup__request;
  wire [7:0] setup__request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__value;
  wire [15:0] setup__value;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__index;
  wire [15:0] setup__index;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [15:0] setup__length;
  wire [15:0] setup__length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input setup__received;
  wire setup__received;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input [3:0] tokenizer__pid;
  wire [3:0] tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input [6:0] tokenizer__address;
  wire [6:0] tokenizer__address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input [3:0] tokenizer__endpoint;
  wire [3:0] tokenizer__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__new_token;
  wire tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__ready_for_response;
  wire tokenizer__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input [10:0] tokenizer__frame;
  wire [10:0] tokenizer__frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__new_frame;
  wire tokenizer__new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__is_in;
  wire tokenizer__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__is_out;
  wire tokenizer__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__is_setup;
  wire tokenizer__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  input tokenizer__is_ping;
  wire tokenizer__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__first;
  wire tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__last;
  wire tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output ack;
  wire ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output nak;
  wire nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output stall;
  wire stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \ack$1 ;
  wire \ack$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \nak$2 ;
  wire \nak$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \stall$3 ;
  wire \stall$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input nyet;
  wire nyet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  output address_changed;
  reg address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  output [6:0] new_address;
  reg [6:0] new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  input [7:0] active_config;
  wire [7:0] active_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  output config_changed;
  reg config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  output [7:0] new_config;
  reg [7:0] new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  output tx_data_pid;
  reg tx_data_pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  input data_requested;
  wire data_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input valid;
  wire valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input next;
  wire next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input [7:0] data;
  wire [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  input rx_ready_for_response;
  wire rx_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:77" *)
  input rx_invalid;
  wire rx_invalid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  input status_requested;
  wire status_requested;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [4:0] \setup__recipient$4 ;
  wire [4:0] \setup__recipient$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [1:0] \setup__type$5 ;
  wire [1:0] \setup__type$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [7:0] \setup__request$6 ;
  wire [7:0] \setup__request$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [15:0] \setup__value$7 ;
  wire [15:0] \setup__value$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [15:0] \setup__length$8 ;
  wire [15:0] \setup__length$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output \setup__received$9 ;
  wire \setup__received$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  output \data_requested$10 ;
  wire \data_requested$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  output \status_requested$11 ;
  wire \status_requested$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \ack$12 ;
  wire \ack$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  output [7:0] \active_config$13 ;
  wire [7:0] \active_config$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [1:0] \setup__type$14 ;
  wire [1:0] \setup__type$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [7:0] \setup__request$15 ;
  wire [7:0] \setup__request$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [15:0] \setup__index$16 ;
  wire [15:0] \setup__index$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output \setup__received$17 ;
  wire \setup__received$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  output \data_requested$18 ;
  wire \data_requested$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  output \status_requested$19 ;
  wire \status_requested$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  output \rx_ready_for_response$20 ;
  wire \rx_ready_for_response$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [4:0] \setup__recipient$21 ;
  wire [4:0] \setup__recipient$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [1:0] \setup__type$22 ;
  wire [1:0] \setup__type$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  output [15:0] \setup__index$23 ;
  wire [15:0] \setup__index$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:64" *)
  output \data_requested$24 ;
  wire \data_requested$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:65" *)
  output \status_requested$25 ;
  wire \status_requested$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  input \address_changed$26 ;
  wire \address_changed$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  input [6:0] \new_address$27 ;
  wire [6:0] \new_address$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  input \config_changed$28 ;
  wire \config_changed$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  input [7:0] \new_config$29 ;
  wire [7:0] \new_config$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__valid$30 ;
  wire \tx__valid$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  input \tx_data_pid$31 ;
  wire \tx_data_pid$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__valid$32 ;
  wire \tx__valid$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \ack$33 ;
  wire \ack$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \ack$34 ;
  wire \ack$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \stall$35 ;
  wire \stall$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \stall$36 ;
  wire \stall$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \stall$37 ;
  wire \stall$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input [7:0] \tx__data$38 ;
  wire [7:0] \tx__data$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__first$39 ;
  wire \tx__first$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__last$40 ;
  wire \tx__last$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__last$41 ;
  wire \tx__last$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output \tx__ready$42 ;
  wire \tx__ready$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  input [4:0] setup__recipient;
  wire [4:0] setup__recipient;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:391" *)
  wire \$124 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:392" *)
  wire \$127 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:393" *)
  wire \$132 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \ack$104 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \ack$125 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \ack$79 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  wire [7:0] \active_config$108 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:70" *)
  wire [7:0] \active_config$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  wire \address_changed$114 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:67" *)
  wire \address_changed$115 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  wire \config_changed$118 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:71" *)
  wire \config_changed$119 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire [7:0] \data$111 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire [7:0] \data$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire [7:0] \data$86 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$128 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$129 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$130 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$56 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$80 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  wire [6:0] \new_address$116 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:68" *)
  wire [6:0] \new_address$117 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  wire [7:0] \new_config$120 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:72" *)
  wire [7:0] \new_config$121 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \next$110 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \next$60 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \next$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nyet$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nyet$58 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nyet$82 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:77" *)
  wire \rx_invalid$113 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:77" *)
  wire \rx_invalid$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:77" *)
  wire \rx_invalid$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  wire \rx_ready_for_response$112 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:76" *)
  wire \rx_ready_for_response$62 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \setup__index$44 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \setup__is_in_request$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \setup__is_in_request$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \setup__is_in_request$88 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \setup__length$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \setup__length$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire \setup__received$92 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [4:0] \setup__recipient$64 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [7:0] \setup__request$89 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \setup__value$66 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:61" *)
  wire [15:0] \setup__value$90 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \stall$106 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \stall$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \stall$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [6:0] \tokenizer__address$46 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [6:0] \tokenizer__address$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [6:0] \tokenizer__address$94 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__endpoint$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__endpoint$70 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__endpoint$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [10:0] \tokenizer__frame$50 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [10:0] \tokenizer__frame$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [10:0] \tokenizer__frame$98 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_in$100 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_in$52 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_in$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_out$101 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_out$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_out$76 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_ping$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_ping$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_ping$78 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_setup$102 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_setup$54 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__is_setup$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_frame$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_frame$74 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_frame$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_token$48 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_token$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__new_token$96 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__pid$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__pid$68 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire [3:0] \tokenizer__pid$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__ready_for_response$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__ready_for_response$72 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:62" *)
  wire \tokenizer__ready_for_response$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  wire \tx_data_pid$122 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:82" *)
  wire \tx_data_pid$123 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire [7:0] tx_mux_output__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire tx_mux_tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \valid$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \valid$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  wire \valid$84 ;
  assign \$124  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:391" *) { \ack$125 , \ack$34 , \ack$33  };
  assign \$132  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:393" *) { \stall$37 , \stall$36 , \stall$35  };
  \usb_device.USBControlEndpoint.request_mux.tx_mux  tx_mux (
    .output__data(tx_mux_output__data),
    .output__first(tx_mux_output__first),
    .output__last(tx_mux_output__last),
    .output__ready(tx_mux_output__ready),
    .output__valid(tx_mux_output__valid),
    .tx__data(\tx__data$38 ),
    .tx__first(\tx__first$39 ),
    .tx__last(\tx__last$40 ),
    .\tx__last$3 (\tx__last$41 ),
    .tx__ready(\tx__ready$42 ),
    .tx__valid(\tx__valid$30 ),
    .\tx__valid$1 (\tx__valid$32 ),
    .\tx__valid$2 (1'h0)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$8 ) begin end
    tx_data_pid = 1'h1;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:387" *)
    if (\tx__valid$30 ) begin
      tx_data_pid = \tx_data_pid$31 ;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:387" *)
    if (\tx__valid$32 ) begin
      tx_data_pid = 1'h1;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:387" *)
    if (tx_mux_tx__valid) begin
      tx_data_pid = 1'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$8 ) begin end
    address_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:325" *)
    if (\address_changed$26 ) begin
      address_changed = \address_changed$26 ;
    end else if (\address_changed$114 ) begin
      address_changed = 1'h0;
    end else if (\address_changed$115 ) begin
      address_changed = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$8 ) begin end
    new_address = 7'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:325" *)
    if (\address_changed$26 ) begin
      new_address = \new_address$27 ;
    end else if (\address_changed$114 ) begin
      new_address = 7'h00;
    end else if (\address_changed$115 ) begin
      new_address = 7'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$8 ) begin end
    config_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:325" *)
    if (\config_changed$28 ) begin
      config_changed = \config_changed$28 ;
    end else if (\config_changed$118 ) begin
      config_changed = 1'h0;
    end else if (\config_changed$119 ) begin
      config_changed = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$8 ) begin end
    new_config = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:325" *)
    if (\config_changed$28 ) begin
      new_config = \new_config$29 ;
    end else if (\config_changed$118 ) begin
      new_config = 8'h00;
    end else if (\config_changed$119 ) begin
      new_config = 8'h00;
    end
  end
  assign tx_mux_tx__valid = 1'h0;
  assign \address_changed$114  = 1'h0;
  assign \address_changed$115  = 1'h0;
  assign \new_address$116  = 7'h00;
  assign \new_address$117  = 7'h00;
  assign \config_changed$118  = 1'h0;
  assign \config_changed$119  = 1'h0;
  assign \new_config$120  = 8'h00;
  assign \new_config$121  = 8'h00;
  assign \tx_data_pid$122  = 1'h1;
  assign \tx_data_pid$123  = 1'h1;
  assign \ack$125  = 1'h0;
  assign \nak$128  = 1'h0;
  assign \nak$129  = 1'h0;
  assign \nak$130  = 1'h0;
  assign stall = \$132 ;
  assign nak = \$127 ;
  assign ack = \$124 ;
  assign tx_mux_output__ready = tx__ready;
  assign tx__data = tx_mux_output__data;
  assign tx__last = tx_mux_output__last;
  assign tx__first = tx_mux_output__first;
  assign tx__valid = tx_mux_output__valid;
  assign \rx_invalid$113  = rx_invalid;
  assign \rx_ready_for_response$112  = rx_ready_for_response;
  assign \data$111  = data;
  assign \next$110  = next;
  assign \valid$109  = valid;
  assign \active_config$108  = active_config;
  assign \nyet$107  = nyet;
  assign \stall$106  = \stall$3 ;
  assign \nak$105  = \nak$2 ;
  assign \ack$104  = \ack$1 ;
  assign \status_requested$25  = status_requested;
  assign \data_requested$24  = data_requested;
  assign \tokenizer__is_ping$103  = tokenizer__is_ping;
  assign \tokenizer__is_setup$102  = tokenizer__is_setup;
  assign \tokenizer__is_out$101  = tokenizer__is_out;
  assign \tokenizer__is_in$100  = tokenizer__is_in;
  assign \tokenizer__new_frame$99  = tokenizer__new_frame;
  assign \tokenizer__frame$98  = tokenizer__frame;
  assign \tokenizer__ready_for_response$97  = tokenizer__ready_for_response;
  assign \tokenizer__new_token$96  = tokenizer__new_token;
  assign \tokenizer__endpoint$95  = tokenizer__endpoint;
  assign \tokenizer__address$94  = tokenizer__address;
  assign \tokenizer__pid$93  = tokenizer__pid;
  assign \setup__received$92  = setup__received;
  assign \setup__length$91  = setup__length;
  assign \setup__index$23  = setup__index;
  assign \setup__value$90  = setup__value;
  assign \setup__request$89  = setup__request;
  assign \setup__is_in_request$88  = setup__is_in_request;
  assign \setup__type$22  = setup__type;
  assign \setup__recipient$21  = setup__recipient;
  assign \rx_invalid$87  = rx_invalid;
  assign \rx_ready_for_response$20  = rx_ready_for_response;
  assign \data$86  = data;
  assign \next$85  = next;
  assign \valid$84  = valid;
  assign \active_config$83  = active_config;
  assign \nyet$82  = nyet;
  assign \stall$81  = \stall$3 ;
  assign \nak$80  = \nak$2 ;
  assign \ack$79  = \ack$1 ;
  assign \status_requested$19  = status_requested;
  assign \data_requested$18  = data_requested;
  assign \tokenizer__is_ping$78  = tokenizer__is_ping;
  assign \tokenizer__is_setup$77  = tokenizer__is_setup;
  assign \tokenizer__is_out$76  = tokenizer__is_out;
  assign \tokenizer__is_in$75  = tokenizer__is_in;
  assign \tokenizer__new_frame$74  = tokenizer__new_frame;
  assign \tokenizer__frame$73  = tokenizer__frame;
  assign \tokenizer__ready_for_response$72  = tokenizer__ready_for_response;
  assign \tokenizer__new_token$71  = tokenizer__new_token;
  assign \tokenizer__endpoint$70  = tokenizer__endpoint;
  assign \tokenizer__address$69  = tokenizer__address;
  assign \tokenizer__pid$68  = tokenizer__pid;
  assign \setup__received$17  = setup__received;
  assign \setup__length$67  = setup__length;
  assign \setup__index$16  = setup__index;
  assign \setup__value$66  = setup__value;
  assign \setup__request$15  = setup__request;
  assign \setup__is_in_request$65  = setup__is_in_request;
  assign \setup__type$14  = setup__type;
  assign \setup__recipient$64  = setup__recipient;
  assign \rx_invalid$63  = rx_invalid;
  assign \rx_ready_for_response$62  = rx_ready_for_response;
  assign \data$61  = data;
  assign \next$60  = next;
  assign \valid$59  = valid;
  assign \active_config$13  = active_config;
  assign \nyet$58  = nyet;
  assign \stall$57  = \stall$3 ;
  assign \nak$56  = \nak$2 ;
  assign \ack$12  = \ack$1 ;
  assign \status_requested$11  = status_requested;
  assign \data_requested$10  = data_requested;
  assign \tokenizer__is_ping$55  = tokenizer__is_ping;
  assign \tokenizer__is_setup$54  = tokenizer__is_setup;
  assign \tokenizer__is_out$53  = tokenizer__is_out;
  assign \tokenizer__is_in$52  = tokenizer__is_in;
  assign \tokenizer__new_frame$51  = tokenizer__new_frame;
  assign \tokenizer__frame$50  = tokenizer__frame;
  assign \tokenizer__ready_for_response$49  = tokenizer__ready_for_response;
  assign \tokenizer__new_token$48  = tokenizer__new_token;
  assign \tokenizer__endpoint$47  = tokenizer__endpoint;
  assign \tokenizer__address$46  = tokenizer__address;
  assign \tokenizer__pid$45  = tokenizer__pid;
  assign \setup__received$9  = setup__received;
  assign \setup__length$8  = setup__length;
  assign \setup__index$44  = setup__index;
  assign \setup__value$7  = setup__value;
  assign \setup__request$6  = setup__request;
  assign \setup__is_in_request$43  = setup__is_in_request;
  assign \setup__type$5  = setup__type;
  assign \setup__recipient$4  = setup__recipient;
  assign \$127  = 1'h0;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.request_mux.tx_mux (output__first, output__last, output__data, output__ready, tx__valid, \tx__valid$1 , \tx__valid$2 , tx__data, tx__first, tx__last, \tx__last$3 , tx__ready, output__valid);
  reg \$auto$verilog_backend.cc:2434:dump_module$9  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__first;
  wire output__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__last;
  wire output__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output [7:0] output__data;
  reg [7:0] output__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  input output__ready;
  wire output__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__valid$1 ;
  wire \tx__valid$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__valid$2 ;
  wire \tx__valid$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input tx__first;
  wire tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input tx__last;
  wire tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  input \tx__last$3 ;
  wire \tx__last$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  output tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__valid;
  wire output__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  wire [2:0] encoder_i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  wire [1:0] encoder_o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire [7:0] \tx__data$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire [7:0] \tx__data$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \tx__first$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \tx__first$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \tx__last$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \tx__ready$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:79" *)
  wire \tx__ready$16 ;
  assign \$12  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *) { \tx__last$13 , \tx__last$3 , tx__last };
  assign \$6  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *) { \tx__valid$2 , \tx__valid$1 , tx__valid };
  \usb_device.USBControlEndpoint.request_mux.tx_mux.encoder  encoder (
    .i(encoder_i),
    .o(encoder_o)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$9 ) begin end
    output__data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:119" *)
    casez (encoder_o)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h0:
          output__data = tx__data;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h1:
          output__data = 8'h00;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h2:
          output__data = 8'h00;
    endcase
  end
  assign \tx__data$4  = 8'h00;
  assign \tx__data$5  = 8'h00;
  assign \tx__first$9  = 1'h0;
  assign \tx__first$10  = 1'h0;
  assign \tx__last$13  = 1'h0;
  assign \tx__ready$16  = output__ready;
  assign \tx__ready$15  = output__ready;
  assign tx__ready = output__ready;
  assign output__last = \$12 ;
  assign output__first = \$8 ;
  assign output__valid = \$6 ;
  assign encoder_i[2] = \tx__valid$2 ;
  assign encoder_i[1] = \tx__valid$1 ;
  assign encoder_i[0] = tx__valid;
  assign \$8  = tx__first;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.request_mux.tx_mux.encoder (o, i);
  reg \$auto$verilog_backend.cc:2434:dump_module$10  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  output [1:0] o;
  reg [1:0] o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  input [2:0] i;
  wire [2:0] i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:40" *)
  reg n;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$10 ) begin end
    o = 2'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h1:
          o = 2'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h2:
          o = 2'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h4:
          o = 2'h2;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$10 ) begin end
    n = 1'h0;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:48" */
      default:
          n = 1'h1;
    endcase
  end
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.setup_decoder (rx_valid, usb_rst, usb_clk, rx_active, data_crc__start, data_crc__crc, tokenizer__pid, tokenizer__new_token, speed, timer__tx_allowed, timer__start, packet__recipient, packet__type, packet__is_in_request, packet__request, packet__value, packet__index, packet__length, packet__received, ack, rx_data
);
  reg \$auto$verilog_backend.cc:2434:dump_module$11  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:149" *)
  output data_crc__start;
  wire data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:149" *)
  input [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  input [3:0] tokenizer__pid;
  wire [3:0] tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:150" *)
  input tokenizer__new_token;
  wire tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:152" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  input timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:151" *)
  output timer__start;
  wire timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [4:0] packet__recipient;
  reg [4:0] packet__recipient = 5'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [1:0] packet__type;
  reg [1:0] packet__type = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output packet__is_in_request;
  reg packet__is_in_request = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [7:0] packet__request;
  reg [7:0] packet__request = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [15:0] packet__value;
  reg [15:0] packet__value = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [15:0] packet__index;
  reg [15:0] packet__index = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output [15:0] packet__length;
  reg [15:0] packet__length = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  output packet__received;
  reg packet__received = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:155" *)
  output ack;
  reg ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:193" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:197" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:889" *)
  wire [15:0] data_handler_data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:889" *)
  wire data_handler_data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:895" *)
  wire [3:0] data_handler_length;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:891" *)
  wire data_handler_new_packet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_2;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_3;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_4;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_5;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_6;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  wire [7:0] data_handler_packet_7;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
  reg [1:0] fsm_state = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
  reg [1:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [15:0] \packet__index$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg \packet__is_in_request$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [15:0] \packet__length$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg \packet__received$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [4:0] \packet__recipient$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [7:0] \packet__request$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [1:0] \packet__type$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:154" *)
  reg [15:0] \packet__value$next ;
  assign \$9  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *) speed;
  assign \$11  = timer__tx_allowed | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *) \$9 ;
  assign \$13  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$15  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$17  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$1  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$19  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$21  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$23  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  assign \$25  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *) speed;
  assign \$27  = timer__tx_allowed | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *) \$25 ;
  always @(posedge usb_clk)
    packet__received <= \packet__received$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    packet__recipient <= \packet__recipient$next ;
  always @(posedge usb_clk)
    packet__type <= \packet__type$next ;
  always @(posedge usb_clk)
    packet__is_in_request <= \packet__is_in_request$next ;
  always @(posedge usb_clk)
    packet__request <= \packet__request$next ;
  always @(posedge usb_clk)
    packet__value <= \packet__value$next ;
  always @(posedge usb_clk)
    packet__index <= \packet__index$next ;
  always @(posedge usb_clk)
    packet__length <= \packet__length$next ;
  assign \$3  = tokenizer__pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:193" *) 4'hd;
  assign \$5  = \$3  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:197" *) tokenizer__new_token;
  assign \$7  = data_handler_length == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *) 4'h8;
  \usb_device.USBControlEndpoint.setup_decoder.data_handler  data_handler (
    .data_crc__crc(data_handler_data_crc__crc),
    .data_crc__start(data_handler_data_crc__start),
    .length(data_handler_length),
    .new_packet(data_handler_new_packet),
    .packet_0(data_handler_packet_0),
    .packet_1(data_handler_packet_1),
    .packet_2(data_handler_packet_2),
    .packet_3(data_handler_packet_3),
    .packet_4(data_handler_packet_4),
    .packet_5(data_handler_packet_5),
    .packet_6(data_handler_packet_6),
    .packet_7(data_handler_packet_7),
    .rx_active(rx_active),
    .rx_data(rx_data),
    .rx_valid(rx_valid),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__index$next  = packet__index;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$19 ) begin
              \packet__index$next  = { data_handler_packet_5, data_handler_packet_4 };
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__index$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__length$next  = packet__length;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$21 ) begin
              \packet__length$next  = { data_handler_packet_7, data_handler_packet_6 };
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__length$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    ack = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$23 ) begin
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
              if (\$27 ) begin
                ack = 1'h1;
              end
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:254" */
      /* \torii.decoding  = "INTERPACKET_DELAY/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:257" *)
          if (timer__tx_allowed) begin
            ack = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__received$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$1 ) begin
              \packet__received$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__received$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:197" *)
          if (\$5 ) begin
            \fsm_state$next  = 2'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:206" *)
          if (tokenizer__new_token) begin
            \fsm_state$next  = 2'h0;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$7 ) begin
              (* full_case = 32'd1 *)
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:237" *)
              if (\$11 ) begin
                \fsm_state$next  = 2'h0;
              end else begin
                \fsm_state$next  = 2'h2;
              end
            end else begin
              \fsm_state$next  = 2'h0;
            end
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:254" */
      /* \torii.decoding  = "INTERPACKET_DELAY/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:257" *)
          if (timer__tx_allowed) begin
            \fsm_state$next  = 2'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__recipient$next  = packet__recipient;
    \packet__type$next  = packet__type;
    \packet__is_in_request$next  = packet__is_in_request;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$13 ) begin
              { \packet__is_in_request$next , \packet__type$next , \packet__recipient$next  } = data_handler_packet_0;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__recipient$next  = 5'h00;
      \packet__type$next  = 2'h0;
      \packet__is_in_request$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__request$next  = packet__request;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$15 ) begin
              \packet__request$next  = data_handler_packet_1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__request$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$11 ) begin end
    \packet__value$next  = packet__value;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:189" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:192" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:202" */
      /* \torii.decoding  = "READ_DATA/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:210" *)
          if (data_handler_new_packet) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/request.py:213" *)
            if (\$17 ) begin
              \packet__value$next  = { data_handler_packet_3, data_handler_packet_2 };
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet__value$next  = 16'h0000;
    end
  end
  assign timer__start = data_handler_new_packet;
  assign data_handler_data_crc__crc = data_crc__crc;
  assign data_crc__start = data_handler_data_crc__start;
endmodule

(* generator = "Torii" *)
module \usb_device.USBControlEndpoint.setup_decoder.data_handler (rx_valid, usb_rst, usb_clk, rx_active, data_crc__start, data_crc__crc, new_packet, length, packet_0, packet_1, packet_2, packet_3, packet_4, packet_5, packet_6, packet_7, rx_data);
  reg \$auto$verilog_backend.cc:2434:dump_module$12  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:889" *)
  output data_crc__start;
  reg data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:889" *)
  input [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:891" *)
  output new_packet;
  reg new_packet = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:895" *)
  output [3:0] length;
  reg [3:0] length = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_0;
  reg [7:0] packet_0 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_1;
  reg [7:0] packet_1 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_2;
  reg [7:0] packet_2 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_3;
  reg [7:0] packet_3 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_4;
  reg [7:0] packet_4 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_5;
  reg [7:0] packet_5 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_6;
  reg [7:0] packet_6 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  output [7:0] packet_7;
  reg [7:0] packet_7 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$100 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$102 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$104 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$106 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1003" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire [3:0] \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire [3:0] \$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:977" *)
  wire [4:0] \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:977" *)
  wire [4:0] \$46 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
  wire \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire [3:0] \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:991" *)
  wire [4:0] \$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:991" *)
  wire [4:0] \$74 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$76 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$78 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$80 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$82 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$84 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$86 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$88 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$90 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$92 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$94 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
  wire \$96 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
  wire \$98 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$48  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$48$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$49  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$49$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$50  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$50$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$51  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$51$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$52  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$52$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$53  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$53$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$54  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$54$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$55  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$55$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$56  = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$56$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:922" *)
  reg [7:0] \$signal$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:919" *)
  reg [3:0] active_pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:919" *)
  reg [3:0] \active_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
  reg [1:0] fsm_state = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
  reg [1:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:915" *)
  reg [15:0] last_byte_crc = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:915" *)
  reg [15:0] \last_byte_crc$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:926" *)
  reg [15:0] last_word = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:926" *)
  reg [15:0] \last_word$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:916" *)
  reg [15:0] last_word_crc = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:916" *)
  reg [15:0] \last_word_crc$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:895" *)
  reg [3:0] \length$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:891" *)
  reg \new_packet$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_0$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_1$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_2$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_3$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_4$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_5$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_6$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:894" *)
  reg [7:0] \packet_7$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:893" *)
  reg [3:0] packet_id = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:893" *)
  reg [3:0] \packet_id$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:923" *)
  reg [3:0] position_in_packet = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:923" *)
  reg [3:0] \position_in_packet$next ;
  assign \$9  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) \$7 ;
  assign \$100  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$102  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$104  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$106  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  always @(posedge usb_clk)
    new_packet <= \new_packet$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    active_pid <= \active_pid$next ;
  always @(posedge usb_clk)
    position_in_packet <= \position_in_packet$next ;
  always @(posedge usb_clk)
    \$signal  <= \$signal$next ;
  always @(posedge usb_clk)
    \$signal$48  <= \$signal$48$next ;
  always @(posedge usb_clk)
    \$signal$49  <= \$signal$49$next ;
  always @(posedge usb_clk)
    \$signal$50  <= \$signal$50$next ;
  always @(posedge usb_clk)
    \$signal$51  <= \$signal$51$next ;
  always @(posedge usb_clk)
    \$signal$52  <= \$signal$52$next ;
  always @(posedge usb_clk)
    \$signal$53  <= \$signal$53$next ;
  always @(posedge usb_clk)
    \$signal$54  <= \$signal$54$next ;
  assign \$11  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *) 2'h3;
  always @(posedge usb_clk)
    \$signal$55  <= \$signal$55$next ;
  always @(posedge usb_clk)
    \$signal$56  <= \$signal$56$next ;
  always @(posedge usb_clk)
    last_word <= \last_word$next ;
  always @(posedge usb_clk)
    last_word_crc <= \last_word_crc$next ;
  always @(posedge usb_clk)
    last_byte_crc <= \last_byte_crc$next ;
  always @(posedge usb_clk)
    packet_id <= \packet_id$next ;
  always @(posedge usb_clk)
    length <= \length$next ;
  always @(posedge usb_clk)
    packet_0 <= \packet_0$next ;
  always @(posedge usb_clk)
    packet_1 <= \packet_1$next ;
  always @(posedge usb_clk)
    packet_2 <= \packet_2$next ;
  always @(posedge usb_clk)
    packet_3 <= \packet_3$next ;
  always @(posedge usb_clk)
    packet_4 <= \packet_4$next ;
  always @(posedge usb_clk)
    packet_5 <= \packet_5$next ;
  always @(posedge usb_clk)
    packet_6 <= \packet_6$next ;
  always @(posedge usb_clk)
    packet_7 <= \packet_7$next ;
  assign \$13  = \$9  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *) \$11 ;
  assign \$15  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$17  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$1  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$19  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$21  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1003" *) rx_active;
  assign \$23  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *) rx_active;
  assign \$25  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) rx_data[7:4];
  assign \$27  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) \$25 ;
  assign \$29  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *) 2'h3;
  assign \$31  = \$27  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *) \$29 ;
  assign \$33  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *) rx_active;
  assign \$35  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) rx_data[7:4];
  assign \$37  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) \$35 ;
  assign \$3  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$39  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:949" *) 2'h3;
  assign \$41  = \$37  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *) \$39 ;
  assign \$43  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$46  = position_in_packet + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:977" *) 1'h1;
  assign \$57  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$5  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *) rx_active;
  assign \$59  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$61  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$63  = position_in_packet >= (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *) 4'ha;
  assign \$65  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$67  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$69  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$71  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$74  = position_in_packet - (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:991" *) 2'h2;
  assign \$76  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$78  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$7  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:950" *) rx_data[7:4];
  assign \$80  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$82  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$84  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$86  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$88  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$90  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$92  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$94  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  assign \$96  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *) rx_active;
  assign \$98  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *) last_word;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \new_packet$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$1 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$3 ) begin
              \new_packet$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \new_packet$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    data_crc__start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          data_crc__start = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \last_word$next  = last_word;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$59 ) begin
            end else begin
              \last_word$next  = { rx_data, last_word[15:8] };
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_word$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \last_word_crc$next  = last_word_crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$61 ) begin
            end else begin
              \last_word_crc$next  = last_byte_crc;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_word_crc$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \last_byte_crc$next  = last_byte_crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$63 ) begin
            end else begin
              \last_byte_crc$next  = data_crc__crc;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_byte_crc$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_id$next  = packet_id;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$65 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$67 ) begin
              \packet_id$next  = active_pid;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_id$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \length$next  = length;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$69 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$71 ) begin
              \length$next  = \$74 [3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \length$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \fsm_state$next  = fsm_state;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:937" *)
          if (rx_active) begin
            \fsm_state$next  = 2'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
          if (\$5 ) begin
            \fsm_state$next  = 2'h0;
          end else if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
            if (\$13 ) begin
              \fsm_state$next  = 2'h2;
            end else begin
              \fsm_state$next  = 2'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$15 ) begin
              \fsm_state$next  = 2'h3;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$17 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$19 ) begin
              \fsm_state$next  = 2'h0;
            end
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1001" */
      /* \torii.decoding  = "IRRELEVANT/3" */
      2'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1003" *)
          if (\$21 ) begin
            \fsm_state$next  = 2'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_0$next  = packet_0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$76 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$78 ) begin
              \packet_0$next  = \$signal ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_0$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_1$next  = packet_1;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$80 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$82 ) begin
              \packet_1$next  = \$signal$48 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_1$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_2$next  = packet_2;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$84 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$86 ) begin
              \packet_2$next  = \$signal$49 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_2$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_3$next  = packet_3;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$88 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$90 ) begin
              \packet_3$next  = \$signal$50 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_3$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_4$next  = packet_4;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$92 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$94 ) begin
              \packet_4$next  = \$signal$51 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_4$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_5$next  = packet_5;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$96 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$98 ) begin
              \packet_5$next  = \$signal$52 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_5$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_6$next  = packet_6;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$100 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$102 ) begin
              \packet_6$next  = \$signal$53 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_6$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \packet_7$next  = packet_7;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:986" *)
          if (\$104 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:988" *)
            if (\$106 ) begin
              \packet_7$next  = \$signal$54 ;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_7$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \active_pid$next  = active_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
          if (\$23 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
            if (\$31 ) begin
              \active_pid$next  = rx_data[3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \active_pid$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \position_in_packet$next  = position_in_packet;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:945" *)
          if (\$33 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:953" *)
            if (\$41 ) begin
              \position_in_packet$next  = 4'h0;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$43 ) begin
            end else begin
              \position_in_packet$next  = \$46 [3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \position_in_packet$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$12 ) begin end
    \$signal$next  = \$signal ;
    \$signal$48$next  = \$signal$48 ;
    \$signal$49$next  = \$signal$49 ;
    \$signal$50$next  = \$signal$50 ;
    \$signal$51$next  = \$signal$51 ;
    \$signal$52$next  = \$signal$52 ;
    \$signal$53$next  = \$signal$53 ;
    \$signal$54$next  = \$signal$54 ;
    \$signal$55$next  = \$signal$55 ;
    \$signal$56$next  = \$signal$56 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:932" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:935" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:941" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:964" */
      /* \torii.decoding  = "CAPTURE_DATA/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:967" *)
          if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:970" *)
            if (\$57 ) begin
            end else begin
              (* full_case = 32'd1 *)
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:976" *)
              casez (position_in_packet)
                4'h0:
                    \$signal$next  = rx_data;
                4'h1:
                    \$signal$48$next  = rx_data;
                4'h2:
                    \$signal$49$next  = rx_data;
                4'h3:
                    \$signal$50$next  = rx_data;
                4'h4:
                    \$signal$51$next  = rx_data;
                4'h5:
                    \$signal$52$next  = rx_data;
                4'h6:
                    \$signal$53$next  = rx_data;
                4'h7:
                    \$signal$54$next  = rx_data;
                4'h8:
                    \$signal$55$next  = rx_data;
                4'h?:
                    \$signal$56$next  = rx_data;
              endcase
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \$signal$next  = 8'h00;
      \$signal$48$next  = 8'h00;
      \$signal$49$next  = 8'h00;
      \$signal$50$next  = 8'h00;
      \$signal$51$next  = 8'h00;
      \$signal$52$next  = 8'h00;
      \$signal$53$next  = 8'h00;
      \$signal$54$next  = 8'h00;
      \$signal$55$next  = 8'h00;
      \$signal$56$next  = 8'h00;
    end
  end
  assign \$45  = \$46 ;
  assign \$73  = \$74 ;
endmodule

(* generator = "Torii" *)
module \usb_device.data_crc (rx_valid, tx_valid, tx_data, usb_rst, usb_clk, crc__start, crc__crc, data_crc__start, data_crc__crc, \data_crc__start$1 , \data_crc__crc$2 , rx_data);
  reg \$auto$verilog_backend.cc:2434:dump_module$13  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:525" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:528" *)
  input tx_valid;
  wire tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:527" *)
  input [7:0] tx_data;
  wire [7:0] tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  input crc__start;
  wire crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  output [15:0] crc__crc;
  wire [15:0] crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  input data_crc__start;
  wire data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  output [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  input \data_crc__start$1 ;
  wire \data_crc__start$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  output [15:0] \data_crc__crc$2 ;
  wire [15:0] \data_crc__crc$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:524" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$101 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$111 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$113 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$115 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$117 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$119 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$121 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$123 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$125 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *)
  wire \$127 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *)
  wire \$129 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$131 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$133 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$135 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:596" *)
  wire [15:0] \$137 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:582" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *)
  wire \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *)
  wire \$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *)
  wire \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *)
  wire \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *)
  wire \$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$79 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *)
  wire \$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *)
  wire \$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$89 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *)
  wire \$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *)
  wire \$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:575" *)
  reg [15:0] crc = 16'hffff;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:575" *)
  reg [15:0] \crc$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:578" *)
  wire [15:0] output_crc;
  assign \$9  = \$5  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) \$7 ;
  assign \$99  = \$95  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) \$97 ;
  assign \$101  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) tx_data[4:3];
  assign \$103  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) crc[12:11];
  assign \$105  = \$101  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) \$103 ;
  assign \$107  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) tx_data[3:2];
  assign \$109  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) crc[13:12];
  assign \$111  = \$107  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) \$109 ;
  assign \$113  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) tx_data[2:1];
  assign \$115  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) crc[14:13];
  assign \$117  = \$113  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) \$115 ;
  assign \$11  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) rx_data[6:0];
  assign \$119  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) tx_data[1:0];
  assign \$121  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) crc[15:14];
  assign \$123  = \$119  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) \$121 ;
  assign \$125  = \$123  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) crc[0];
  assign \$127  = tx_data[0] ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *) crc[1];
  assign \$129  = \$127  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *) crc[15];
  assign \$131  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) tx_data;
  assign \$133  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) crc[15:7];
  assign \$135  = \$131  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) \$133 ;
  assign \$137  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:596" *) { crc[0], crc[1], crc[2], crc[3], crc[4], crc[5], crc[6], crc[7], crc[8], crc[9], crc[10], crc[11], crc[12], crc[13], crc[14], crc[15] };
  always @(posedge usb_clk)
    crc <= \crc$next ;
  assign \$13  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) crc[15:9];
  assign \$15  = \$11  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) \$13 ;
  assign \$17  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) rx_data[7:6];
  assign \$19  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) crc[9:8];
  assign \$21  = \$17  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) \$19 ;
  assign \$23  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) rx_data[6:5];
  assign \$25  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) crc[10:9];
  assign \$27  = \$23  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) \$25 ;
  assign \$29  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) rx_data[5:4];
  assign \$31  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) crc[11:10];
  assign \$33  = \$29  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) \$31 ;
  assign \$35  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) rx_data[4:3];
  assign \$37  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) crc[12:11];
  assign \$3  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:582" *) { \data_crc__start$1 , data_crc__start, crc__start };
  assign \$39  = \$35  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:557" *) \$37 ;
  assign \$41  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) rx_data[3:2];
  assign \$43  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) crc[13:12];
  assign \$45  = \$41  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:558" *) \$43 ;
  assign \$47  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) rx_data[2:1];
  assign \$49  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) crc[14:13];
  assign \$51  = \$47  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:559" *) \$49 ;
  assign \$53  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) rx_data[1:0];
  assign \$55  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) crc[15:14];
  assign \$57  = \$53  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) \$55 ;
  assign \$5  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) rx_data;
  assign \$59  = \$57  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:561" *) crc[0];
  assign \$61  = rx_data[0] ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *) crc[1];
  assign \$63  = \$61  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:562" *) crc[15];
  assign \$65  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) rx_data;
  assign \$67  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) crc[15:7];
  assign \$69  = \$65  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:568" *) \$67 ;
  assign \$71  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) tx_data;
  assign \$73  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) crc[15:8];
  assign \$75  = \$71  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) \$73 ;
  assign \$77  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) tx_data[6:0];
  assign \$7  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:552" *) crc[15:8];
  assign \$79  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) crc[15:9];
  assign \$81  = \$77  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:553" *) \$79 ;
  assign \$83  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) tx_data[7:6];
  assign \$85  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) crc[9:8];
  assign \$87  = \$83  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:554" *) \$85 ;
  assign \$89  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) tx_data[6:5];
  assign \$91  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) crc[10:9];
  assign \$93  = \$89  ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:555" *) \$91 ;
  assign \$95  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) tx_data[5:4];
  assign \$97  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:556" *) crc[11:10];
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$13 ) begin end
    \crc$next  = crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:586" *)
    if (\$3 ) begin
      \crc$next  = 16'hffff;
    end else if (rx_valid) begin
      \crc$next  = { \$69 , crc[6:2], \$63 , \$59 , \$51 , \$45 , \$39 , \$33 , \$27 , \$21 , \$15 , \$9  };
    end else if (tx_valid) begin
      \crc$next  = { \$135 , crc[6:2], \$129 , \$125 , \$117 , \$111 , \$105 , \$99 , \$93 , \$87 , \$81 , \$75  };
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \crc$next  = 16'hffff;
    end
  end
  assign \data_crc__crc$2  = output_crc;
  assign data_crc__crc = output_crc;
  assign crc__crc = output_crc;
  assign output_crc = \$137 ;
endmodule

(* generator = "Torii" *)
module \usb_device.endpoint_mux (tokenizer__address, tokenizer__endpoint, tokenizer__new_token, tokenizer__ready_for_response, tokenizer__frame, tokenizer__new_frame, tokenizer__is_in, tokenizer__is_out, tokenizer__is_setup, tokenizer__is_ping, ack, nak, stall, nyet, speed, active_config, active_address, valid, next, data, rx_complete
, rx_invalid, rx_ready_for_response, rx_pid_toggle, tx__valid, tx__first, tx__last, tx__data, tx__ready, \ack$1 , \nak$2 , \stall$3 , tx_pid_toggle, address_changed, new_address, config_changed, new_config, usb_rst, usb_clk, data_crc__start, data_crc__crc, timer__start
, timer__tx_allowed, timer__tx_timeout, timer__rx_timeout, \data_crc__crc$4 , \timer__tx_allowed$5 , \timer__tx_timeout$6 , \timer__rx_timeout$7 , \ack$8 , \nak$9 , \stall$10 , \nyet$11 , \tokenizer__pid$12 , \tokenizer__address$13 , \tokenizer__endpoint$14 , \tokenizer__new_token$15 , \tokenizer__ready_for_response$16 , \tokenizer__frame$17 , \tokenizer__new_frame$18 , \tokenizer__is_in$19 , \tokenizer__is_out$20 , \tokenizer__is_setup$21 
, \tokenizer__is_ping$22 , \valid$23 , \next$24 , \data$25 , \rx_ready_for_response$26 , \rx_invalid$27 , \speed$28 , \active_config$29 , \tokenizer__endpoint$30 , \tokenizer__new_token$31 , \tokenizer__is_in$32 , \tokenizer__is_out$33 , \valid$34 , \next$35 , \data$36 , \address_changed$37 , \new_address$38 , \config_changed$39 , \new_config$40 , \ack$41 , \nak$42 
, \stall$43 , \data_crc__start$44 , \timer__start$45 , \tx__valid$46 , \tx__valid$47 , \tx_pid_toggle$48 , \tx__data$49 , \tx__data$50 , \tx__first$51 , \tx__last$52 , \tx__ready$53 , \tx__ready$54 , tokenizer__pid);
  reg \$auto$verilog_backend.cc:2434:dump_module$14  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [6:0] tokenizer__address;
  wire [6:0] tokenizer__address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [3:0] tokenizer__endpoint;
  wire [3:0] tokenizer__endpoint;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__new_token;
  wire tokenizer__new_token;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__ready_for_response;
  wire tokenizer__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [10:0] tokenizer__frame;
  wire [10:0] tokenizer__frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__new_frame;
  wire tokenizer__new_frame;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_in;
  wire tokenizer__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_out;
  wire tokenizer__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_setup;
  wire tokenizer__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input tokenizer__is_ping;
  wire tokenizer__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input ack;
  wire ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input nak;
  wire nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input stall;
  wire stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input nyet;
  wire nyet;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  input [7:0] active_config;
  wire [7:0] active_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:83" *)
  input [6:0] active_address;
  wire [6:0] active_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input valid;
  wire valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input next;
  wire next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  input [7:0] data;
  wire [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:92" *)
  input rx_complete;
  wire rx_complete;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  input rx_invalid;
  wire rx_invalid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  input rx_ready_for_response;
  wire rx_ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:95" *)
  input [1:0] rx_pid_toggle;
  wire [1:0] rx_pid_toggle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__first;
  wire tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__last;
  wire tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \ack$1 ;
  wire \ack$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \nak$2 ;
  wire \nak$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \stall$3 ;
  wire \stall$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  output [1:0] tx_pid_toggle;
  reg [1:0] tx_pid_toggle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  output address_changed;
  reg address_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  output [6:0] new_address;
  reg [6:0] new_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  output config_changed;
  reg config_changed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  output [7:0] new_config;
  reg [7:0] new_config;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  output data_crc__start;
  wire data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  input [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output timer__start;
  wire timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__tx_timeout;
  wire timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input timer__rx_timeout;
  wire timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  output [15:0] \data_crc__crc$4 ;
  wire [15:0] \data_crc__crc$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output \timer__tx_allowed$5 ;
  wire \timer__tx_allowed$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output \timer__tx_timeout$6 ;
  wire \timer__tx_timeout$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output \timer__rx_timeout$7 ;
  wire \timer__rx_timeout$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \ack$8 ;
  wire \ack$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \nak$9 ;
  wire \nak$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \stall$10 ;
  wire \stall$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output \nyet$11 ;
  wire \nyet$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [3:0] \tokenizer__pid$12 ;
  wire [3:0] \tokenizer__pid$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [6:0] \tokenizer__address$13 ;
  wire [6:0] \tokenizer__address$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [3:0] \tokenizer__endpoint$14 ;
  wire [3:0] \tokenizer__endpoint$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__new_token$15 ;
  wire \tokenizer__new_token$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__ready_for_response$16 ;
  wire \tokenizer__ready_for_response$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [10:0] \tokenizer__frame$17 ;
  wire [10:0] \tokenizer__frame$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__new_frame$18 ;
  wire \tokenizer__new_frame$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_in$19 ;
  wire \tokenizer__is_in$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_out$20 ;
  wire \tokenizer__is_out$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_setup$21 ;
  wire \tokenizer__is_setup$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_ping$22 ;
  wire \tokenizer__is_ping$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output \valid$23 ;
  wire \valid$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output \next$24 ;
  wire \next$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output [7:0] \data$25 ;
  wire [7:0] \data$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  output \rx_ready_for_response$26 ;
  wire \rx_ready_for_response$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  output \rx_invalid$27 ;
  wire \rx_invalid$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  output [1:0] \speed$28 ;
  wire [1:0] \speed$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  output [7:0] \active_config$29 ;
  wire [7:0] \active_config$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output [3:0] \tokenizer__endpoint$30 ;
  wire [3:0] \tokenizer__endpoint$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__new_token$31 ;
  wire \tokenizer__new_token$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_in$32 ;
  wire \tokenizer__is_in$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  output \tokenizer__is_out$33 ;
  wire \tokenizer__is_out$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output \valid$34 ;
  wire \valid$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output \next$35 ;
  wire \next$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output [7:0] \data$36 ;
  wire [7:0] \data$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  input \address_changed$37 ;
  wire \address_changed$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  input [6:0] \new_address$38 ;
  wire [6:0] \new_address$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  input \config_changed$39 ;
  wire \config_changed$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  input [7:0] \new_config$40 ;
  wire [7:0] \new_config$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \ack$41 ;
  wire \ack$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \nak$42 ;
  wire \nak$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  input \stall$43 ;
  wire \stall$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  input \data_crc__start$44 ;
  wire \data_crc__start$44 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input \timer__start$45 ;
  wire \timer__start$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input \tx__valid$46 ;
  wire \tx__valid$46 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input \tx__valid$47 ;
  wire \tx__valid$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  input [1:0] \tx_pid_toggle$48 ;
  wire [1:0] \tx_pid_toggle$48 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input [7:0] \tx__data$49 ;
  wire [7:0] \tx__data$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input [7:0] \tx__data$50 ;
  wire [7:0] \tx__data$50 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input \tx__first$51 ;
  wire \tx__first$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input \tx__last$52 ;
  wire \tx__last$52 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output \tx__ready$53 ;
  wire \tx__ready$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output \tx__ready$54 ;
  wire \tx__ready$54 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  input [3:0] tokenizer__pid;
  wire [3:0] tokenizer__pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  wire \$102 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:183" *)
  wire \$84 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:183" *)
  wire \$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:183" *)
  wire \$90 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:183" *)
  wire \$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:183" *)
  wire \$96 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  wire \$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  (* \torii.sample_reg  = 32'd1 *)
  reg \$sample$s$tx__valid$usb$1  = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  (* \torii.sample_reg  = 32'd1 *)
  reg \$sample$s$tx__valid$usb$1$101  = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  wire \$sample$s$tx__valid$usb$1$101$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
  wire \$sample$s$tx__valid$usb$1$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \ack$62 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \ack$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:83" *)
  wire [6:0] \active_address$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:83" *)
  wire [6:0] \active_address$79 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:87" *)
  wire [7:0] \active_config$78 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:84" *)
  wire \address_changed$80 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:88" *)
  wire \config_changed$82 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire [15:0] \data_crc__crc$58 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:77" *)
  wire \data_crc__start$94 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nak$88 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:85" *)
  wire [6:0] \new_address$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:89" *)
  wire [7:0] \new_config$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \nyet$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:92" *)
  wire \rx_complete$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:92" *)
  wire \rx_complete$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:94" *)
  wire \rx_invalid$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:95" *)
  wire [1:0] \rx_pid_toggle$56 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:95" *)
  wire [1:0] \rx_pid_toggle$76 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:93" *)
  wire \rx_ready_for_response$74 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:81" *)
  wire [1:0] \speed$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \stall$64 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  wire \stall$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire \timer__rx_timeout$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire \timer__start$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire \timer__tx_allowed$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  wire \timer__tx_timeout$60 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [6:0] \tokenizer__address$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [10:0] \tokenizer__frame$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \tokenizer__is_ping$72 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \tokenizer__is_setup$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \tokenizer__new_frame$70 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire [3:0] \tokenizer__pid$66 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:78" *)
  wire \tokenizer__ready_for_response$68 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire [7:0] tx_mux_output__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  wire tx_mux_output__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:98" *)
  wire [1:0] \tx_pid_toggle$104 ;
  assign \$99  = \tx__valid$46  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *) \$sample$s$tx__valid$usb$1 ;
  assign \$102  = \tx__valid$47  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *) \$sample$s$tx__valid$usb$1$101 ;
  always @(posedge usb_clk)
    \$sample$s$tx__valid$usb$1  <= \$sample$s$tx__valid$usb$1$next ;
  always @(posedge usb_clk)
    \$sample$s$tx__valid$usb$1$101  <= \$sample$s$tx__valid$usb$1$101$next ;
  \usb_device.endpoint_mux.tx_mux  tx_mux (
    .output__data(tx_mux_output__data),
    .output__first(tx_mux_output__first),
    .output__last(tx_mux_output__last),
    .output__ready(tx_mux_output__ready),
    .output__valid(tx_mux_output__valid),
    .tx__data(\tx__data$49 ),
    .\tx__data$2 (\tx__data$50 ),
    .tx__first(\tx__first$51 ),
    .tx__last(\tx__last$52 ),
    .tx__ready(\tx__ready$53 ),
    .\tx__ready$3 (\tx__ready$54 ),
    .tx__valid(\tx__valid$46 ),
    .\tx__valid$1 (\tx__valid$47 )
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$14 ) begin end
    address_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:163" *)
    if (\address_changed$37 ) begin
      address_changed = \address_changed$37 ;
    end else if (\address_changed$80 ) begin
      address_changed = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$14 ) begin end
    new_address = 7'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:163" *)
    if (\address_changed$37 ) begin
      new_address = \new_address$38 ;
    end else if (\address_changed$80 ) begin
      new_address = 7'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$14 ) begin end
    config_changed = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:163" *)
    if (\config_changed$39 ) begin
      config_changed = \config_changed$39 ;
    end else if (\config_changed$82 ) begin
      config_changed = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$14 ) begin end
    new_config = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:163" *)
    if (\config_changed$39 ) begin
      new_config = \new_config$40 ;
    end else if (\config_changed$82 ) begin
      new_config = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$14 ) begin end
    tx_pid_toggle = 2'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:259" *)
    if (\$99 ) begin
      tx_pid_toggle = \tx_pid_toggle$48 ;
    end else if (\$102 ) begin
      tx_pid_toggle = 2'h0;
    end
  end
  assign \address_changed$80  = 1'h0;
  assign \new_address$81  = 7'h00;
  assign \config_changed$82  = 1'h0;
  assign \new_config$83  = 8'h00;
  assign \ack$85  = 1'h0;
  assign \nak$88  = 1'h0;
  assign \stall$91  = 1'h0;
  assign \data_crc__start$94  = 1'h0;
  assign \timer__start$97  = 1'h0;
  assign \tx_pid_toggle$104  = 2'h0;
  assign \$sample$s$tx__valid$usb$1$101$next  = \tx__valid$47 ;
  assign \$sample$s$tx__valid$usb$1$next  = \tx__valid$46 ;
  assign timer__start = \$96 ;
  assign data_crc__start = \$93 ;
  assign \stall$3  = \$90 ;
  assign \nak$2  = \$87 ;
  assign \ack$1  = \$84 ;
  assign tx_mux_output__ready = tx__ready;
  assign tx__data = tx_mux_output__data;
  assign tx__last = tx_mux_output__last;
  assign tx__first = tx_mux_output__first;
  assign tx__valid = tx_mux_output__valid;
  assign \active_address$79  = active_address;
  assign \active_config$78  = active_config;
  assign \speed$77  = speed;
  assign \rx_pid_toggle$76  = rx_pid_toggle;
  assign \rx_invalid$75  = rx_invalid;
  assign \rx_ready_for_response$74  = rx_ready_for_response;
  assign \rx_complete$73  = rx_complete;
  assign \data$36  = data;
  assign \next$35  = next;
  assign \valid$34  = valid;
  assign \tokenizer__is_ping$72  = tokenizer__is_ping;
  assign \tokenizer__is_setup$71  = tokenizer__is_setup;
  assign \tokenizer__is_out$33  = tokenizer__is_out;
  assign \tokenizer__is_in$32  = tokenizer__is_in;
  assign \tokenizer__new_frame$70  = tokenizer__new_frame;
  assign \tokenizer__frame$69  = tokenizer__frame;
  assign \tokenizer__ready_for_response$68  = tokenizer__ready_for_response;
  assign \tokenizer__new_token$31  = tokenizer__new_token;
  assign \tokenizer__endpoint$30  = tokenizer__endpoint;
  assign \tokenizer__address$67  = tokenizer__address;
  assign \tokenizer__pid$66  = tokenizer__pid;
  assign \nyet$65  = nyet;
  assign \stall$64  = stall;
  assign \nak$63  = nak;
  assign \ack$62  = ack;
  assign \timer__rx_timeout$61  = timer__rx_timeout;
  assign \timer__tx_timeout$60  = timer__tx_timeout;
  assign \timer__tx_allowed$59  = timer__tx_allowed;
  assign \data_crc__crc$58  = data_crc__crc;
  assign \active_address$57  = active_address;
  assign \active_config$29  = active_config;
  assign \speed$28  = speed;
  assign \rx_pid_toggle$56  = rx_pid_toggle;
  assign \rx_invalid$27  = rx_invalid;
  assign \rx_ready_for_response$26  = rx_ready_for_response;
  assign \rx_complete$55  = rx_complete;
  assign \data$25  = data;
  assign \next$24  = next;
  assign \valid$23  = valid;
  assign \tokenizer__is_ping$22  = tokenizer__is_ping;
  assign \tokenizer__is_setup$21  = tokenizer__is_setup;
  assign \tokenizer__is_out$20  = tokenizer__is_out;
  assign \tokenizer__is_in$19  = tokenizer__is_in;
  assign \tokenizer__new_frame$18  = tokenizer__new_frame;
  assign \tokenizer__frame$17  = tokenizer__frame;
  assign \tokenizer__ready_for_response$16  = tokenizer__ready_for_response;
  assign \tokenizer__new_token$15  = tokenizer__new_token;
  assign \tokenizer__endpoint$14  = tokenizer__endpoint;
  assign \tokenizer__address$13  = tokenizer__address;
  assign \tokenizer__pid$12  = tokenizer__pid;
  assign \nyet$11  = nyet;
  assign \stall$10  = stall;
  assign \nak$9  = nak;
  assign \ack$8  = ack;
  assign \timer__rx_timeout$7  = timer__rx_timeout;
  assign \timer__tx_timeout$6  = timer__tx_timeout;
  assign \timer__tx_allowed$5  = timer__tx_allowed;
  assign \data_crc__crc$4  = data_crc__crc;
  assign \$84  = \ack$41 ;
  assign \$87  = \nak$42 ;
  assign \$90  = \stall$43 ;
  assign \$93  = \data_crc__start$44 ;
  assign \$96  = \timer__start$45 ;
endmodule

(* generator = "Torii" *)
module \usb_device.endpoint_mux.tx_mux (output__first, output__last, output__data, output__ready, tx__valid, \tx__valid$1 , tx__data, \tx__data$2 , tx__first, tx__last, tx__ready, \tx__ready$3 , output__valid);
  reg \$auto$verilog_backend.cc:2434:dump_module$15  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__first;
  wire output__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__last;
  wire output__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output [7:0] output__data;
  reg [7:0] output__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  input output__ready;
  wire output__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__valid;
  wire tx__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input \tx__valid$1 ;
  wire \tx__valid$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input [7:0] tx__data;
  wire [7:0] tx__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input [7:0] \tx__data$2 ;
  wire [7:0] \tx__data$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__first;
  wire tx__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  input tx__last;
  wire tx__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output tx__ready;
  wire tx__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  output \tx__ready$3 ;
  wire \tx__ready$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:66" *)
  output output__valid;
  wire output__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  wire [1:0] encoder_i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  wire encoder_o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \tx__first$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:97" *)
  wire \tx__last$10 ;
  assign \$4  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *) { \tx__valid$1 , tx__valid };
  \usb_device.endpoint_mux.tx_mux.encoder  encoder (
    .i(encoder_i),
    .o(encoder_o)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$15 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:119" *)
    casez (encoder_o)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      1'h0:
          output__data = tx__data;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      1'h1:
          output__data = \tx__data$2 ;
    endcase
  end
  assign \tx__first$7  = 1'h0;
  assign \tx__last$10  = 1'h0;
  assign \tx__ready$3  = output__ready;
  assign tx__ready = output__ready;
  assign output__last = \$9 ;
  assign output__first = \$6 ;
  assign output__valid = \$4 ;
  assign encoder_i[1] = \tx__valid$1 ;
  assign encoder_i[0] = tx__valid;
  assign \$6  = tx__first;
  assign \$9  = tx__last;
endmodule

(* generator = "Torii" *)
module \usb_device.endpoint_mux.tx_mux.encoder (o, i);
  reg \$auto$verilog_backend.cc:2434:dump_module$16  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  output o;
  reg o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  input [1:0] i;
  wire [1:0] i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:40" *)
  reg n;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$16 ) begin end
    o = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      2'h1:
          o = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      2'h2:
          o = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$16 ) begin end
    n = 1'h0;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      2'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:48" */
      default:
          n = 1'h1;
    endcase
  end
endmodule

(* generator = "Torii" *)
module \usb_device.handshake_detector (rx_valid, ack, nak, stall, nyet, usb_rst, usb_clk, rx_active, rx_data);
  reg \$auto$verilog_backend.cc:2434:dump_module$17  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output ack;
  reg ack = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output nak;
  reg nak = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output stall;
  reg stall = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  output nyet;
  reg nyet = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:467" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:468" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *)
  wire [3:0] \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:480" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *)
  wire [3:0] \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:465" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:466" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \ack$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:422" *)
  reg [3:0] active_pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:422" *)
  reg [3:0] \active_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
  reg [1:0] fsm_state = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
  reg [1:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \nak$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \nyet$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:53" *)
  reg \stall$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *) rx_active;
  assign \$11  = active_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:467" *) 4'he;
  assign \$13  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *) rx_active;
  assign \$15  = active_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:468" *) 3'h6;
  assign \$17  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *) rx_active;
  assign \$1  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *) rx_active;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *) rx_data[7:4];
  assign \$21  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *) \$19 ;
  assign \$23  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *) rx_active;
  assign \$25  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:480" *) rx_active;
  assign \$27  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *) rx_active;
  assign \$29  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *) rx_data[7:4];
  assign \$31  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:446" *) \$29 ;
  always @(posedge usb_clk)
    ack <= \ack$next ;
  always @(posedge usb_clk)
    nak <= \nak$next ;
  always @(posedge usb_clk)
    stall <= \stall$next ;
  always @(posedge usb_clk)
    nyet <= \nyet$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    active_pid <= \active_pid$next ;
  assign \$3  = active_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:465" *) 2'h2;
  assign \$5  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *) rx_active;
  assign \$7  = active_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:466" *) 4'ha;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \ack$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:459" */
      /* \torii.decoding  = "AWAIT_COMPLETION/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
          if (\$1 ) begin
            \ack$next  = \$3 ;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \ack$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \nak$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:459" */
      /* \torii.decoding  = "AWAIT_COMPLETION/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
          if (\$5 ) begin
            \nak$next  = \$7 ;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \nak$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \stall$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:459" */
      /* \torii.decoding  = "AWAIT_COMPLETION/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
          if (\$9 ) begin
            \stall$next  = \$11 ;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \stall$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \nyet$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:459" */
      /* \torii.decoding  = "AWAIT_COMPLETION/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
          if (\$13 ) begin
            \nyet$next  = \$15 ;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \nyet$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \fsm_state$next  = fsm_state;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:436" *)
          if (rx_active) begin
            \fsm_state$next  = 2'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *)
          if (\$17 ) begin
            \fsm_state$next  = 2'h0;
          end else if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:449" *)
            if (\$21 ) begin
              \fsm_state$next  = 2'h2;
            end else begin
              \fsm_state$next  = 2'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:459" */
      /* \torii.decoding  = "AWAIT_COMPLETION/2" */
      2'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:463" *)
          if (\$23 ) begin
            \fsm_state$next  = 2'h0;
          end else if (rx_valid) begin
            \fsm_state$next  = 2'h3;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:478" */
      /* \torii.decoding  = "IRRELEVANT/3" */
      2'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:480" *)
          if (\$25 ) begin
            \fsm_state$next  = 2'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$17 ) begin end
    \active_pid$next  = active_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:432" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:435" */
      /* \torii.decoding  = "IDLE/0" */
      2'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:440" */
      /* \torii.decoding  = "READ_PID/1" */
      2'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:442" *)
          if (\$27 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:449" *)
            if (\$31 ) begin
              \active_pid$next  = rx_data[3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \active_pid$next  = 4'h0;
    end
  end
endmodule

(* generator = "Torii" *)
module \usb_device.handshake_generator (issue_nak, issue_stall, usb_rst, usb_clk, valid, data, ready, issue_ack);
  reg \$auto$verilog_backend.cc:2434:dump_module$18  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1205" *)
  input issue_nak;
  wire issue_nak;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1206" *)
  input issue_stall;
  wire issue_stall;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output valid;
  reg valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output [7:0] data;
  reg [7:0] data = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input ready;
  wire ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1204" *)
  input issue_ack;
  wire issue_ack;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  reg [7:0] \data$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1213" *)
  reg fsm_state = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1213" *)
  reg \fsm_state$next ;
  always @(posedge usb_clk)
    data <= \data$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$18 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1213" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1216" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          valid = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1236" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
          valid = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$18 ) begin end
    \data$next  = data;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1213" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1216" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1223" *)
          if (issue_ack) begin
            \data$next  = 8'hd2;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1227" *)
          if (issue_nak) begin
            \data$next  = 8'h5a;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1231" *)
          if (issue_stall) begin
            \data$next  = 8'h1e;
          end
        end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \data$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$18 ) begin end
    \fsm_state$next  = fsm_state;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1213" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1216" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1223" *)
          if (issue_ack) begin
            \fsm_state$next  = 1'h1;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1227" *)
          if (issue_nak) begin
            \fsm_state$next  = 1'h1;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1231" *)
          if (issue_stall) begin
            \fsm_state$next  = 1'h1;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1236" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1241" *)
          if (ready) begin
            \fsm_state$next  = 1'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 1'h0;
    end
  end
endmodule

(* generator = "Torii" *)
module \usb_device.receiver (rx_valid, valid, next, data, packet_complete, crc_mismatch, ready_for_response, active_pid, usb_rst, usb_clk, rx_active, data_crc__start, data_crc__crc, timer__start, timer__tx_allowed, rx_data);
  reg \$auto$verilog_backend.cc:2434:dump_module$19  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output valid;
  reg valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output next;
  reg next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/stream.py:69" *)
  output [7:0] data;
  reg [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:668" *)
  output packet_complete;
  reg packet_complete = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:670" *)
  output crc_mismatch;
  reg crc_mismatch = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:669" *)
  output ready_for_response;
  reg ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:666" *)
  output [3:0] active_pid;
  reg [3:0] active_pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  output data_crc__start;
  reg data_crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:662" *)
  input [15:0] data_crc__crc;
  wire [15:0] data_crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  output timer__start;
  reg timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  input timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *)
  wire [3:0] \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:733" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:759" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:845" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *)
  wire [3:0] \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:733" *)
  wire \$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *)
  wire \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
  wire \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
  wire \$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
  wire \$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
  wire \$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:666" *)
  reg [3:0] \active_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:670" *)
  reg \crc_mismatch$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:703" *)
  reg [15:0] data_pipeline = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:703" *)
  reg [15:0] \data_pipeline$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:699" *)
  reg [15:0] last_byte_crc = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:699" *)
  reg [15:0] \last_byte_crc$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:700" *)
  reg [15:0] last_word_crc = 16'h0000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:700" *)
  reg [15:0] \last_word_crc$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:668" *)
  reg \packet_complete$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:671" *)
  reg [3:0] packet_id = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:671" *)
  reg [3:0] \packet_id$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *) rx_active;
  assign \$11  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *) rx_data[7:4];
  assign \$13  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *) \$11 ;
  assign \$15  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:733" *) 2'h3;
  assign \$17  = \$13  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *) \$15 ;
  assign \$1  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *) rx_active;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:759" *) rx_active;
  assign \$21  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *) rx_active;
  assign \$23  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *) rx_active;
  assign \$25  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *) data_pipeline;
  assign \$27  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:845" *) rx_active;
  assign \$29  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *) rx_active;
  assign \$31  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *) rx_data[7:4];
  assign \$33  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:734" *) \$31 ;
  assign \$35  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:733" *) 2'h3;
  assign \$37  = \$33  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *) \$35 ;
  assign \$3  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *) data_pipeline;
  assign \$39  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *) rx_active;
  assign \$41  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *) rx_active;
  assign \$43  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:777" *) rx_active;
  assign \$45  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *) rx_active;
  assign \$47  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *) data_pipeline;
  assign \$49  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *) rx_active;
  assign \$51  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *) data_pipeline;
  always @(posedge usb_clk)
    packet_complete <= \packet_complete$next ;
  always @(posedge usb_clk)
    crc_mismatch <= \crc_mismatch$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    active_pid <= \active_pid$next ;
  always @(posedge usb_clk)
    data_pipeline <= \data_pipeline$next ;
  always @(posedge usb_clk)
    last_byte_crc <= \last_byte_crc$next ;
  always @(posedge usb_clk)
    last_word_crc <= \last_word_crc$next ;
  assign \$5  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *) rx_active;
  always @(posedge usb_clk)
    packet_id <= \packet_id$next ;
  assign \$7  = last_word_crc == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *) data_pipeline;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \packet_complete$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
          if (\$1 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
            if (\$3 ) begin
              \packet_complete$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_complete$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \crc_mismatch$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
          if (\$5 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
            if (\$7 ) begin
            end else begin
              \crc_mismatch$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \crc_mismatch$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:786" *)
          if (rx_valid) begin
            data = data_pipeline[7:0];
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \packet_id$next  = packet_id;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
          if (\$45 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
            if (\$47 ) begin
              \packet_id$next  = active_pid;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \packet_id$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    timer__start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
          if (\$49 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
            if (\$51 ) begin
              timer__start = 1'h1;
            end
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    ready_for_response = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:836" */
      /* \torii.decoding  = "INTERPACKET_DELAY/6" */
      3'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:838" *)
          if (timer__tx_allowed) begin
            ready_for_response = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    next = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:786" *)
          if (rx_valid) begin
            next = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    data_crc__start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          data_crc__start = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:720" *)
          if (rx_active) begin
            \fsm_state$next  = 3'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *)
          if (\$9 ) begin
            \fsm_state$next  = 3'h0;
          end else if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *)
            if (\$17 ) begin
              \fsm_state$next  = 3'h2;
            end else begin
              \fsm_state$next  = 3'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:750" *)
          if (rx_valid) begin
            \fsm_state$next  = 3'h4;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:759" *)
          if (\$19 ) begin
            \fsm_state$next  = 3'h0;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:765" *)
          if (rx_valid) begin
            \fsm_state$next  = 3'h5;
          end else if (\$21 ) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:806" *)
          if (\$23 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:809" *)
            if (\$25 ) begin
              \fsm_state$next  = 3'h6;
            end else begin
              \fsm_state$next  = 3'h0;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:836" */
      /* \torii.decoding  = "INTERPACKET_DELAY/6" */
      3'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:838" *)
          if (timer__tx_allowed) begin
            \fsm_state$next  = 3'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:843" */
      /* \torii.decoding  = "IRRELEVANT/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:845" *)
          if (\$27 ) begin
            \fsm_state$next  = 3'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \active_pid$next  = active_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:729" *)
          if (\$29 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:737" *)
            if (\$37 ) begin
              \active_pid$next  = rx_data[3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \active_pid$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \data_pipeline$next  = data_pipeline;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:750" *)
          if (rx_valid) begin
            \data_pipeline$next [15:8] = rx_data;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:765" *)
          if (rx_valid) begin
            \data_pipeline$next [15:8] = rx_data;
            \data_pipeline$next [7:0] = data_pipeline[15:8];
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:786" *)
          if (rx_valid) begin
            \data_pipeline$next [15:8] = rx_data;
            \data_pipeline$next [7:0] = data_pipeline[15:8];
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \data_pipeline$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \last_byte_crc$next  = last_byte_crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:750" *)
          if (rx_valid) begin
            \last_byte_crc$next  = data_crc__crc;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:765" *)
          if (rx_valid) begin
            \last_byte_crc$next  = data_crc__crc;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:786" *)
          if (rx_valid) begin
            \last_byte_crc$next  = data_crc__crc;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_byte_crc$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    \last_word_crc$next  = last_word_crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:765" *)
          if (rx_valid) begin
            \last_word_crc$next  = last_byte_crc;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:786" *)
          if (rx_valid) begin
            \last_word_crc$next  = last_byte_crc;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_word_crc$next  = 16'h0000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$19 ) begin end
    valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:715" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:718" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:724" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:748" */
      /* \torii.decoding  = "RECEIVE_FIRST_BYTE/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:763" */
      /* \torii.decoding  = "RECEIVE_SECOND_BYTE/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:783" */
      /* \torii.decoding  = "RECEIVE_AND_EMIT/5" */
      3'h5:
          valid = 1'h1;
    endcase
  end
endmodule

(* generator = "Torii" *)
module \usb_device.reset_sequencer (vbus_connected, line_state, bus_reset, low_speed_only, full_speed_only, operating_mode, current_speed, termination_select, suspended, usb_rst, usb_clk, valid, data, bus_busy);
  reg \$auto$verilog_backend.cc:2434:dump_module$20  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:125" *)
  input vbus_connected;
  wire vbus_connected;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:126" *)
  input [1:0] line_state;
  wire [1:0] line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:128" *)
  output bus_reset;
  reg bus_reset;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:121" *)
  input low_speed_only;
  wire low_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:122" *)
  input full_speed_only;
  wire full_speed_only;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:132" *)
  output [1:0] operating_mode;
  reg [1:0] operating_mode = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:131" *)
  output [1:0] current_speed;
  reg [1:0] current_speed = 2'h1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:133" *)
  output termination_select;
  reg termination_select = 1'h1;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:129" *)
  output suspended;
  reg suspended;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output valid;
  reg valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output [7:0] data;
  reg [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:124" *)
  input bus_busy;
  wire bus_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *)
  wire [18:0] \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
  wire \$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:333" *)
  wire \$101 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:338" *)
  wire \$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:342" *)
  wire \$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:349" *)
  wire \$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *)
  wire \$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *)
  wire \$111 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *)
  wire \$113 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:377" *)
  wire \$115 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:381" *)
  wire \$117 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
  wire \$119 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
  wire \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
  wire \$121 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
  wire \$123 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$125 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$127 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$129 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$131 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$133 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
  wire \$135 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
  wire \$137 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
  wire \$139 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
  wire \$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *)
  wire \$141 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *)
  wire \$143 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *)
  wire \$145 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
  wire \$147 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
  wire \$149 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
  wire \$151 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *)
  wire \$153 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
  wire \$155 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
  wire \$157 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
  wire \$159 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
  wire \$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
  wire \$161 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
  wire \$163 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *)
  wire \$165 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *)
  wire \$167 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:372" *)
  wire [2:0] \$169 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:372" *)
  wire [2:0] \$170 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *)
  wire [18:0] \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
  wire \$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:470" *)
  wire \$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
  wire \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
  wire \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *)
  wire [18:0] \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *)
  wire [18:0] \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:223" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:201" *)
  wire \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
  wire \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *)
  wire \$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *)
  wire \$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
  wire \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
  wire \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *)
  wire \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:167" *)
  wire \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:172" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:168" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:173" *)
  wire \$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:175" *)
  wire \$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
  wire \$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *)
  wire \$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *)
  wire \$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *)
  wire \$79 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:238" *)
  wire \$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *)
  wire \$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *)
  wire \$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *)
  wire \$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
  wire \$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:264" *)
  wire \$89 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:284" *)
  wire \$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:288" *)
  wire \$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
  wire \$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:319" *)
  wire \$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *)
  wire \$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:164" *)
  reg bus_idle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:131" *)
  reg [1:0] \current_speed$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
  reg [3:0] fsm_state = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
  reg [3:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:148" *)
  reg [17:0] line_state_time = 18'h00000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:148" *)
  reg [17:0] \line_state_time$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:132" *)
  reg [1:0] \operating_mode$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:133" *)
  reg \termination_select$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:144" *)
  reg [17:0] timer = 18'h00000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:144" *)
  reg [17:0] \timer$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:152" *)
  reg [1:0] valid_pairs = 2'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:152" *)
  reg [1:0] \valid_pairs$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:155" *)
  reg was_hs_pre_suspend = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:155" *)
  reg \was_hs_pre_suspend$next ;
  assign \$99  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *) 2'h2;
  assign \$101  = line_state_time == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:333" *) 8'h96;
  assign \$103  = line_state != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:338" *) 2'h2;
  assign \$105  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:342" *) 18'h249f0;
  assign \$107  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:349" *) 18'h249f0;
  assign \$10  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *) 18'h2bf20;
  assign \$109  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *) 1'h1;
  assign \$111  = line_state_time == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *) 8'h96;
  assign \$113  = valid_pairs == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *) 2'h2;
  assign \$115  = line_state != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:377" *) 1'h1;
  assign \$117  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:381" *) 18'h249f0;
  assign \$119  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *) line_state;
  assign \$121  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *) 14'h2ee0;
  assign \$123  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *) 1'h1;
  assign \$125  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) 1'h1;
  assign \$127  = low_speed_only & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) \$125 ;
  assign \$12  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *) 17'h1d4c0;
  assign \$129  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) low_speed_only;
  assign \$131  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) 2'h2;
  assign \$133  = \$129  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) \$131 ;
  assign \$135  = \$127  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *) \$133 ;
  assign \$137  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *) 8'h96;
  assign \$139  = low_speed_only | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *) full_speed_only;
  assign \$141  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *) vbus_connected;
  assign \$143  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *) 9'h12c;
  assign \$145  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *) vbus_connected;
  assign \$147  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *) 14'h2ee0;
  assign \$14  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *) line_state;
  assign \$149  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *) 1'h1;
  assign \$151  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *) 8'h96;
  assign \$153  = line_state_time == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *) 18'h2bf20;
  assign \$155  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *) 14'h2ee0;
  assign \$157  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *) 1'h1;
  assign \$159  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *) 18'h2bf20;
  assign \$161  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *) 18'h2bf20;
  assign \$163  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *) 17'h1d4c0;
  assign \$165  = line_state_time == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *) 8'h96;
  assign \$167  = valid_pairs == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *) 2'h2;
  assign \$16  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *) 14'h2ee0;
  assign \$170  = valid_pairs + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:372" *) 1'h1;
  always @(posedge usb_clk)
    timer <= \timer$next ;
  always @(posedge usb_clk)
    line_state_time <= \line_state_time$next ;
  always @(posedge usb_clk)
    current_speed <= \current_speed$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    was_hs_pre_suspend <= \was_hs_pre_suspend$next ;
  always @(posedge usb_clk)
    operating_mode <= \operating_mode$next ;
  always @(posedge usb_clk)
    termination_select <= \termination_select$next ;
  always @(posedge usb_clk)
    valid_pairs <= \valid_pairs$next ;
  assign \$18  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) 1'h1;
  assign \$20  = low_speed_only & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) \$18 ;
  assign \$22  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) low_speed_only;
  assign \$24  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) 2'h2;
  assign \$26  = \$22  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) \$24 ;
  assign \$28  = \$20  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *) \$26 ;
  assign \$2  = timer + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *) 1'h1;
  assign \$30  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:470" *) line_state;
  assign \$32  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *) 8'h96;
  assign \$34  = low_speed_only | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *) full_speed_only;
  assign \$37  = line_state_time + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:34" *) 1'h1;
  assign \$39  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:223" *) bus_idle;
  assign \$41  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *) 2'h2;
  assign \$43  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *) 1'h1;
  assign \$45  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *) line_state;
  assign \$47  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) 1'h1;
  assign \$4  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:201" *) line_state;
  assign \$49  = low_speed_only & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:451" *) \$47 ;
  assign \$51  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) low_speed_only;
  assign \$53  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) 2'h2;
  assign \$55  = \$51  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:452" *) \$53 ;
  assign \$57  = \$49  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *) \$55 ;
  assign \$59  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *) 8'h96;
  assign \$61  = low_speed_only | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *) full_speed_only;
  assign \$63  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:167" *) current_speed;
  assign \$65  = current_speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:172" *) 2'h1;
  assign \$67  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:168" *) line_state;
  assign \$6  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *) vbus_connected;
  assign \$69  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:173" *) 1'h1;
  assign \$71  = line_state == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:175" *) 2'h2;
  assign \$73  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *) 18'h2bf20;
  assign \$75  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *) 9'h12c;
  assign \$77  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *) low_speed_only;
  assign \$79  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *) full_speed_only;
  assign \$81  = \$77  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *) \$79 ;
  assign \$83  = line_state_time == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *) 18'h2bf20;
  assign \$85  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *) vbus_connected;
  assign \$87  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *) 18'h2bf20;
  assign \$8  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:238" *) line_state;
  assign \$89  = full_speed_only | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:264" *) low_speed_only;
  assign \$91  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:284" *) bus_busy;
  assign \$93  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:288" *) bus_busy;
  assign \$95  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *) 17'h1d4c0;
  assign \$97  = timer == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:319" *) 18'h249f0;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \timer$next  = \$2 [17:0];
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          \timer$next  = 18'h00000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:201" *)
          if (\$4 ) begin
            \timer$next  = 18'h00000;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *)
          if (\$6 ) begin
            \timer$next  = 18'h00000;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:238" *)
          if (\$8 ) begin
            \timer$next  = 18'h00000;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
          if (\$10 ) begin
            \timer$next  = 18'h00000;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          \timer$next  = 18'h00000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
          if (\$12 ) begin
            \timer$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \timer$next  = 18'h00000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
          if (\$14 ) begin
            \timer$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
          if (\$16 ) begin
            \timer$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:447" */
      /* \torii.decoding  = "SUSPENDED/3" */
      4'h3:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
          if (\$28 ) begin
            \timer$next  = 18'h00000;
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:457" *)
            if (was_hs_pre_suspend) begin
            end else begin
              \timer$next  = 18'h00000;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:470" *)
          if (\$30 ) begin
            \timer$next  = 18'h00000;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
          if (\$32 ) begin
            \timer$next  = 18'h00000;
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
            if (\$34 ) begin
              \timer$next  = 18'h00000;
            end
          end
        end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \timer$next  = 18'h00000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \line_state_time$next  = \$37 [17:0];
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          \line_state_time$next  = 18'h00000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:223" *)
          if (\$39 ) begin
            \line_state_time$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *)
          if (\$41 ) begin
            \line_state_time$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *)
          if (\$43 ) begin
            \line_state_time$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \line_state_time$next  = 18'h00000;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
          if (\$45 ) begin
            \line_state_time$next  = 18'h00000;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:447" */
      /* \torii.decoding  = "SUSPENDED/3" */
      4'h3:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
          if (\$57 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:457" *)
            if (was_hs_pre_suspend) begin
            end else begin
              \line_state_time$next  = 18'h00000;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
          if (\$59 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
            if (\$61 ) begin
              \line_state_time$next  = 18'h00000;
            end
          end
        end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \line_state_time$next  = 18'h00000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          data = 8'h00;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \valid_pairs$next  = valid_pairs;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
          if (\$163 ) begin
            \valid_pairs$next  = 2'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *)
          if (\$165 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *)
            if (\$167 ) begin
            end else begin
              \valid_pairs$next  = \$170 [1:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \valid_pairs$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    suspended = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:447" */
      /* \torii.decoding  = "SUSPENDED/3" */
      4'h3:
          suspended = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:167" *)
    if (\$63 ) begin
      bus_idle = \$67 ;
    end else if (\$65 ) begin
      bus_idle = \$69 ;
    end else begin
      bus_idle = \$71 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \current_speed$next  = current_speed;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:186" *)
          if (low_speed_only) begin
            \current_speed$next  = 2'h2;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
          if (\$73 ) begin
            \current_speed$next  = 2'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          \current_speed$next  = 2'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \current_speed$next  = 2'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:409" *)
          if (low_speed_only) begin
            \current_speed$next  = 2'h2;
          end else begin
            \current_speed$next  = 2'h1;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_speed$next  = 2'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          \fsm_state$next  = 4'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *)
          if (\$75 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:219" *)
            if (\$81 ) begin
              \fsm_state$next  = 4'h2;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *)
          if (\$83 ) begin
            \fsm_state$next  = 4'h3;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *)
          if (\$85 ) begin
            \fsm_state$next  = 4'h5;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
          if (\$87 ) begin
            \fsm_state$next  = 4'h6;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:264" *)
          if (\$89 ) begin
            \fsm_state$next  = 4'h5;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          \fsm_state$next  = 4'h7;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:284" *)
          if (\$91 ) begin
            \fsm_state$next  = 4'h8;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:288" *)
          if (\$93 ) begin
            \fsm_state$next  = 4'h9;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:306" *)
          if (\$95 ) begin
            \fsm_state$next  = 4'ha;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:319" *)
          if (\$97 ) begin
            \fsm_state$next  = 4'h5;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:323" *)
          if (\$99 ) begin
            \fsm_state$next  = 4'hb;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:333" *)
          if (\$101 ) begin
            \fsm_state$next  = 4'hc;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:338" *)
          if (\$103 ) begin
            \fsm_state$next  = 4'ha;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:342" *)
          if (\$105 ) begin
            \fsm_state$next  = 4'h5;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:349" *)
          if (\$107 ) begin
            \fsm_state$next  = 4'h5;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:353" *)
          if (\$109 ) begin
            \fsm_state$next  = 4'hd;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:363" *)
          if (\$111 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:367" *)
            if (\$113 ) begin
              \fsm_state$next  = 4'he;
            end else begin
              \fsm_state$next  = 4'ha;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:377" *)
          if (\$115 ) begin
            \fsm_state$next  = 4'hc;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:381" *)
          if (\$117 ) begin
            \fsm_state$next  = 4'h5;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \fsm_state$next  = 4'h4;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:417" *)
          if (\$119 ) begin
            \fsm_state$next  = 4'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
          if (\$121 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
            if (\$123 ) begin
              \fsm_state$next  = 4'h3;
            end else begin
              \fsm_state$next  = 4'h2;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:447" */
      /* \torii.decoding  = "SUSPENDED/3" */
      4'h3:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:453" *)
          if (\$135 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:457" *)
            if (was_hs_pre_suspend) begin
              \fsm_state$next  = 4'he;
            end else begin
              \fsm_state$next  = 4'h1;
            end
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
          if (\$137 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:480" *)
            if (\$139 ) begin
              \fsm_state$next  = 4'h1;
            end else begin
              \fsm_state$next  = 4'h2;
            end
          end
        end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    bus_reset = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:208" *)
          if (\$141 ) begin
            bus_reset = 1'h1;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:215" *)
          if (\$143 ) begin
            bus_reset = 1'h1;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:244" *)
          if (\$145 ) begin
            bus_reset = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
          if (\$147 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
            if (\$149 ) begin
            end else begin
              bus_reset = 1'h1;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:447" */
      /* \torii.decoding  = "SUSPENDED/3" */
      4'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:475" *)
          if (\$151 ) begin
            bus_reset = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \was_hs_pre_suspend$next  = was_hs_pre_suspend;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:228" *)
          if (\$153 ) begin
            \was_hs_pre_suspend$next  = 1'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:426" */
      /* \torii.decoding  = "DETECT_HS_SUSPEND/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:431" *)
          if (\$155 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:435" *)
            if (\$157 ) begin
              \was_hs_pre_suspend$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \was_hs_pre_suspend$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \operating_mode$next  = operating_mode;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
          if (\$159 ) begin
            \operating_mode$next  = 2'h0;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          \operating_mode$next  = 2'h2;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \operating_mode$next  = 2'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          \operating_mode$next  = 2'h0;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \operating_mode$next  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    \termination_select$next  = termination_select;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:252" *)
          if (\$161 ) begin
            \termination_select$next  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          \termination_select$next  = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:315" */
      /* \torii.decoding  = "AWAIT_HOST_K/10" */
      4'ha:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:329" */
      /* \torii.decoding  = "IN_HOST_K/11" */
      4'hb:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:346" */
      /* \torii.decoding  = "AWAIT_HOST_J/12" */
      4'hc:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:359" */
      /* \torii.decoding  = "IN_HOST_J/13" */
      4'hd:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:386" */
      /* \torii.decoding  = "IS_HIGH_SPEED/14" */
      4'he:
          \termination_select$next  = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:402" */
      /* \torii.decoding  = "IS_LOW_OR_FULL_SPEED/5" */
      4'h5:
          \termination_select$next  = 1'h1;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \termination_select$next  = 1'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$20 ) begin end
    valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:180" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:183" */
      /* \torii.decoding  = "INITIALIZE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:197" */
      /* \torii.decoding  = "LS_FS_NON_RESET/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:234" */
      /* \torii.decoding  = "HS_NON_RESET/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:268" */
      /* \torii.decoding  = "START_HS_DETECTION/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:283" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_0/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:287" */
      /* \torii.decoding  = "PREPARE_FOR_CHIRP_1/8" */
      4'h8:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/reset.py:293" */
      /* \torii.decoding  = "DEVICE_CHIRP/9" */
      4'h9:
          valid = 1'h1;
    endcase
  end
  assign \$1  = \$2 ;
  assign \$36  = \$37 ;
  assign \$169  = \$170 ;
endmodule

(* generator = "Torii" *)
module \usb_device.timer (usb_rst, usb_clk, timer__start, timer__tx_allowed, \timer__start$1 , \timer__tx_allowed$2 , timer__tx_timeout, timer__rx_timeout, speed);
  reg \$auto$verilog_backend.cc:2434:dump_module$21  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  input timer__start;
  wire timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  output timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  input \timer__start$1 ;
  wire \timer__start$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output \timer__tx_allowed$2 ;
  wire \timer__tx_allowed$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output timer__tx_timeout;
  wire timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/endpoint.py:79" *)
  output timer__rx_timeout;
  wire timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1317" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1363" *)
  wire \$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1369" *)
  wire \$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1376" *)
  wire \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1364" *)
  wire \$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1370" *)
  wire \$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1377" *)
  wire \$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1347" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1365" *)
  wire \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1371" *)
  wire \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1378" *)
  wire \$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1352" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *)
  wire [10:0] \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *)
  wire [10:0] \$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1343" *)
  reg [9:0] counter = 10'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1343" *)
  reg [9:0] \counter$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1336" *)
  reg rx_to_tx_at_max;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1335" *)
  reg rx_to_tx_at_min;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  wire \timer__rx_timeout$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:663" *)
  wire \timer__tx_timeout$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1337" *)
  reg tx_to_rx_timeout;
  assign \$10  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  assign \$12  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$14  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1363" *) 1'h1;
  assign \$16  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1369" *) 4'ha;
  assign \$18  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1376" *) 1'h1;
  assign \$20  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  assign \$22  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$24  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1364" *) 5'h18;
  assign \$26  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1370" *) 6'h20;
  assign \$28  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1377" *) 5'h18;
  assign \$30  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  assign \$32  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$34  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1365" *) 7'h5c;
  assign \$36  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1371" *) 7'h50;
  assign \$38  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1378" *) 7'h5c;
  assign \$3  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1347" *) { \timer__start$1 , timer__start };
  always @(posedge usb_clk)
    counter <= \counter$next ;
  assign \$5  = counter < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1352" *) 10'h281;
  assign \$8  = counter + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *) 1'h1;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$21 ) begin end
    \counter$next  = counter;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1350" *)
    if (\$3 ) begin
      \counter$next  = 10'h000;
    end else if (\$5 ) begin
      \counter$next  = \$8 [9:0];
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \counter$next  = 10'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$21 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$10 ) begin
      rx_to_tx_at_min = \$14 ;
    end else if (\$12 ) begin
      rx_to_tx_at_min = \$16 ;
    end else begin
      rx_to_tx_at_min = \$18 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$21 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$20 ) begin
      rx_to_tx_at_max = \$24 ;
    end else if (\$22 ) begin
      rx_to_tx_at_max = \$26 ;
    end else begin
      rx_to_tx_at_max = \$28 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$21 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$30 ) begin
      tx_to_rx_timeout = \$34 ;
    end else if (\$32 ) begin
      tx_to_rx_timeout = \$36 ;
    end else begin
      tx_to_rx_timeout = \$38 ;
    end
  end
  assign \$7  = \$8 ;
  assign timer__rx_timeout = tx_to_rx_timeout;
  assign timer__tx_timeout = rx_to_tx_at_max;
  assign \timer__tx_allowed$2  = rx_to_tx_at_min;
  assign \timer__rx_timeout$41  = tx_to_rx_timeout;
  assign \timer__tx_timeout$40  = rx_to_tx_at_max;
  assign timer__tx_allowed = rx_to_tx_at_min;
endmodule

(* generator = "Torii" *)
module \usb_device.token_detector (rx_data, rx_valid, speed, interface__pid, interface__address, interface__endpoint, interface__new_token, interface__ready_for_response, interface__frame, interface__new_frame, interface__is_in, interface__is_out, interface__is_setup, interface__is_ping, usb_rst, usb_clk, rx_active, address);
  reg \$auto$verilog_backend.cc:2434:dump_module$22  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  input [7:0] rx_data;
  wire [7:0] rx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  input rx_valid;
  wire rx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:221" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output [3:0] interface__pid;
  reg [3:0] interface__pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output [6:0] interface__address;
  reg [6:0] interface__address = 7'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output [3:0] interface__endpoint;
  reg [3:0] interface__endpoint = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__new_token;
  reg interface__new_token = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__ready_for_response;
  wire interface__ready_for_response;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output [10:0] interface__frame;
  reg [10:0] interface__frame = 11'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__new_frame;
  reg interface__new_frame = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__is_in;
  wire interface__is_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__is_out;
  wire interface__is_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__is_setup;
  wire interface__is_setup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  output interface__is_ping;
  wire interface__is_ping;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  input rx_active;
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:222" *)
  input [6:0] address;
  wire [6:0] address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:264" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$101 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *)
  wire \$103 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$105 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$107 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *)
  wire \$109 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:290" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:291" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *)
  wire [3:0] \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:265" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *)
  wire \$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:235" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$45 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$47 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *)
  wire \$49 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:266" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$51 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:387" *)
  wire \$53 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *)
  wire \$55 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:290" *)
  wire \$57 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:291" *)
  wire \$59 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
  wire \$61 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *)
  wire [3:0] \$63 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *)
  wire \$65 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
  wire \$67 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *)
  wire \$69 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:267" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  wire [10:0] \$71 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *)
  wire \$73 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$75 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:235" *)
  wire \$77 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$78 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$81 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$83 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *)
  wire \$85 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *)
  wire \$87 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$89 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$91 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$93 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
  wire \$95 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *)
  wire \$97 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
  wire \$99 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:245" *)
  reg [3:0] current_pid = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:245" *)
  reg [3:0] \current_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg [6:0] \interface__address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg [3:0] \interface__endpoint$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg [10:0] \interface__frame$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg \interface__new_frame$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg \interface__new_token$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:220" *)
  reg [3:0] \interface__pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1317" *)
  wire [1:0] timer_speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  reg timer_timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  wire timer_timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:244" *)
  reg [10:0] token_data = 11'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:244" *)
  reg [10:0] \token_data$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$99  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$101  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$103  = token_data[6:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *) address;
  assign \$105  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$107  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$109  = token_data[6:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *) address;
  always @(posedge usb_clk)
    interface__new_frame <= \interface__new_frame$next ;
  always @(posedge usb_clk)
    interface__new_token <= \interface__new_token$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    current_pid <= \current_pid$next ;
  always @(posedge usb_clk)
    token_data <= \token_data$next ;
  always @(posedge usb_clk)
    interface__frame <= \interface__frame$next ;
  always @(posedge usb_clk)
    interface__pid <= \interface__pid$next ;
  always @(posedge usb_clk)
    interface__address <= \interface__address$next ;
  always @(posedge usb_clk)
    interface__endpoint <= \interface__endpoint$next ;
  assign \$11  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$13  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$15  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$17  = token_data[6:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *) address;
  assign \$1  = interface__pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:264" *) 4'h9;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *) rx_active;
  assign \$21  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:290" *) 1'h1;
  assign \$23  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:291" *) 4'h4;
  assign \$25  = \$21  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *) \$23 ;
  assign \$27  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *) rx_data[7:4];
  assign \$29  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *) \$27 ;
  assign \$31  = \$25  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *) \$29 ;
  assign \$33  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *) rx_active;
  assign \$35  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *) rx_active;
  assign \$37  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[0], token_data[6:5], token_data[2:0] };
  assign \$3  = interface__pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:265" *) 4'h1;
  assign \$40  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[1], token_data[7:6], token_data[3:0] };
  assign \$39  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:235" *) \$40 ;
  assign \$43  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[2], rx_data[0], token_data[7], token_data[4:0] };
  assign \$45  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[1], token_data[6], token_data[4:3], token_data[0] };
  assign \$47  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[2], token_data[7], token_data[5:4], token_data[1:0] };
  assign \$49  = rx_data[7:3] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *) { \$47 , \$45 , \$43 , \$39 , \$37  };
  assign \$51  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$53  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:387" *) rx_active;
  assign \$55  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *) rx_active;
  assign \$57  = rx_data[1:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:290" *) 1'h1;
  assign \$5  = interface__pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:266" *) 4'hd;
  assign \$59  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:291" *) 4'h4;
  assign \$61  = \$57  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *) \$59 ;
  assign \$63  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *) rx_data[7:4];
  assign \$65  = rx_data[3:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:292" *) \$63 ;
  assign \$67  = \$61  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *) \$65 ;
  assign \$69  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *) rx_active;
  assign \$71  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *) rx_data;
  assign \$73  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *) rx_active;
  assign \$75  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[0], token_data[6:5], token_data[2:0] };
  assign \$78  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[1], token_data[7:6], token_data[3:0] };
  assign \$7  = interface__pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:267" *) 4'h4;
  assign \$77  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:235" *) \$78 ;
  assign \$81  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[2], rx_data[0], token_data[7], token_data[4:0] };
  assign \$83  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[1], token_data[6], token_data[4:3], token_data[0] };
  assign \$85  = ^ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:230" *) { rx_data[2], token_data[7], token_data[5:4], token_data[1:0] };
  assign \$87  = rx_data[7:3] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *) { \$85 , \$83 , \$81 , \$77 , \$75  };
  assign \$89  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$91  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$93  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *) rx_active;
  assign \$95  = current_pid == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *) 3'h5;
  assign \$97  = token_data[6:0] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:363" *) address;
  \usb_device.token_detector.timer  timer (
    .speed(timer_speed),
    .timer__start(timer_timer__start),
    .timer__tx_allowed(timer_timer__tx_allowed),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \token_data$next  = token_data;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *)
          if (\$69 ) begin
          end else if (rx_valid) begin
            \token_data$next  = \$71 ;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *)
          if (\$73 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *)
            if (\$87 ) begin
              \token_data$next [10:8] = rx_data[2:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \token_data$next  = 11'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \interface__frame$next  = interface__frame;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$89 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$91 ) begin
              \interface__frame$next  = token_data;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \interface__frame$next  = 11'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \interface__pid$next  = interface__pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$93 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$95 ) begin
            end else begin
              (* full_case = 32'd1 *)
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:364" *)
              if (\$97 ) begin
                \interface__pid$next  = current_pid;
              end else begin
                \interface__pid$next  = 4'h0;
              end
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \interface__pid$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \interface__address$next  = interface__address;
    \interface__endpoint$next  = interface__endpoint;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$99 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$101 ) begin
            end else begin
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:364" *)
              if (\$103 ) begin
                { \interface__endpoint$next , \interface__address$next  } = token_data;
              end
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \interface__address$next  = 7'h00;
      \interface__endpoint$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    timer_timer__start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$105 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$107 ) begin
            end else begin
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:364" *)
              if (\$109 ) begin
                timer_timer__start = 1'h1;
              end
            end
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \interface__new_frame$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$9 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$11 ) begin
              \interface__new_frame$next  = 1'h1;
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \interface__new_frame$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \interface__new_token$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$13 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:351" *)
            if (\$15 ) begin
            end else begin
              (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:364" *)
              if (\$17 ) begin
                \interface__new_token$next  = 1'h1;
              end
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \interface__new_token$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:280" *)
          if (rx_active) begin
            \fsm_state$next  = 3'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *)
          if (\$19 ) begin
            \fsm_state$next  = 3'h0;
          end else if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
            if (\$31 ) begin
              \fsm_state$next  = 3'h2;
            end else begin
              \fsm_state$next  = 3'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:305" */
      /* \torii.decoding  = "READ_TOKEN_0/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:310" *)
          if (\$33 ) begin
            \fsm_state$next  = 3'h0;
          end else if (rx_valid) begin
            \fsm_state$next  = 3'h4;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:318" */
      /* \torii.decoding  = "READ_TOKEN_1/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:320" *)
          if (\$35 ) begin
            \fsm_state$next  = 3'h0;
          end else if (rx_valid) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:330" *)
            if (\$49 ) begin
              \fsm_state$next  = 3'h5;
            end else begin
              \fsm_state$next  = 3'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:341" */
      /* \torii.decoding  = "TOKEN_COMPLETE/5" */
      3'h5:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:345" *)
          if (\$51 ) begin
            \fsm_state$next  = 3'h0;
          end else if (rx_valid) begin
            \fsm_state$next  = 3'h3;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:385" */
      /* \torii.decoding  = "IRRELEVANT/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:387" *)
          if (\$53 ) begin
            \fsm_state$next  = 3'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$22 ) begin end
    \current_pid$next  = current_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:276" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:279" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:284" */
      /* \torii.decoding  = "READ_PID/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:286" *)
          if (\$55 ) begin
          end else if (rx_valid) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:297" *)
            if (\$67 ) begin
              \current_pid$next  = rx_data[3:0];
            end
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_pid$next  = 4'h0;
    end
  end
  assign interface__is_ping = \$7 ;
  assign interface__is_setup = \$5 ;
  assign interface__is_out = \$3 ;
  assign interface__is_in = \$1 ;
  assign interface__ready_for_response = timer_timer__tx_allowed;
  assign timer_speed = speed;
endmodule

(* generator = "Torii" *)
module \usb_device.token_detector.timer (usb_clk, speed, timer__tx_allowed, timer__start, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$23  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1317" *)
  input [1:0] speed;
  wire [1:0] speed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  output timer__tx_allowed;
  wire timer__tx_allowed;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  input timer__start;
  wire timer__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1347" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1363" *)
  wire \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1369" *)
  wire \$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1376" *)
  wire \$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1364" *)
  wire \$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1370" *)
  wire \$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1377" *)
  wire \$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1352" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *)
  wire \$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1365" *)
  wire \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1371" *)
  wire \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1378" *)
  wire \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *)
  wire [10:0] \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *)
  wire [10:0] \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
  wire \$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1343" *)
  reg [9:0] counter = 10'h000;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1343" *)
  reg [9:0] \counter$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1336" *)
  reg rx_to_tx_at_max;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1335" *)
  reg rx_to_tx_at_min;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  wire timer__rx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:254" *)
  wire timer__tx_timeout;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1337" *)
  reg tx_to_rx_timeout;
  assign \$10  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$12  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1363" *) 1'h1;
  assign \$14  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1369" *) 4'ha;
  assign \$16  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1376" *) 1'h1;
  assign \$18  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  assign \$20  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$22  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1364" *) 5'h18;
  assign \$24  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1370" *) 6'h20;
  assign \$26  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1377" *) 5'h18;
  assign \$28  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  assign \$30  = speed == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1367" *) 2'h1;
  assign \$32  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1365" *) 7'h5c;
  assign \$34  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1371" *) 7'h50;
  assign \$36  = counter == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1378" *) 7'h5c;
  always @(posedge usb_clk)
    counter <= \counter$next ;
  assign \$3  = counter < (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1352" *) 10'h281;
  assign \$6  = counter + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1353" *) 1'h1;
  assign \$8  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *) speed;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$23 ) begin end
    \counter$next  = counter;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1350" *)
    if (\$1 ) begin
      \counter$next  = 10'h000;
    end else if (\$3 ) begin
      \counter$next  = \$6 [9:0];
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \counter$next  = 10'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$23 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$8 ) begin
      rx_to_tx_at_min = \$12 ;
    end else if (\$10 ) begin
      rx_to_tx_at_min = \$14 ;
    end else begin
      rx_to_tx_at_min = \$16 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$23 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$18 ) begin
      rx_to_tx_at_max = \$22 ;
    end else if (\$20 ) begin
      rx_to_tx_at_max = \$24 ;
    end else begin
      rx_to_tx_at_max = \$26 ;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$23 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1360" *)
    if (\$28 ) begin
      tx_to_rx_timeout = \$32 ;
    end else if (\$30 ) begin
      tx_to_rx_timeout = \$34 ;
    end else begin
      tx_to_rx_timeout = \$36 ;
    end
  end
  assign \$5  = \$6 ;
  assign timer__rx_timeout = tx_to_rx_timeout;
  assign timer__tx_timeout = rx_to_tx_at_max;
  assign timer__tx_allowed = rx_to_tx_at_min;
  assign \$1  = timer__start;
endmodule

(* generator = "Torii" *)
module \usb_device.translator (session_end, line_state, rx_data, rx_valid, tx_data, tx_valid, tx_ready, dm_pulldown, dp_pulldown, op_mode, xcvr_select, term_select, usb_rst, usb_clk, ulpi__clk__i, ulpi__data__oe, ulpi__dir__i, ulpi__nxt__i, ulpi__data__i, ulpi__data__o, ulpi__stp__o
, rx_active, busy);
  reg \$auto$verilog_backend.cc:2434:dump_module$24  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  output session_end;
  wire session_end;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  output [1:0] line_state;
  wire [1:0] line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  output [7:0] rx_data;
  reg [7:0] rx_data = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  output rx_valid;
  reg rx_valid = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:774" *)
  input [7:0] tx_data;
  wire [7:0] tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:775" *)
  input tx_valid;
  wire tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:776" *)
  output tx_ready;
  wire tx_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  input dm_pulldown;
  wire dm_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  input dp_pulldown;
  wire dp_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  input [1:0] op_mode;
  wire [1:0] op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  input [1:0] xcvr_select;
  wire [1:0] xcvr_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  input term_select;
  wire term_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  output usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input ulpi__clk__i;
  wire ulpi__clk__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output [7:0] ulpi__data__oe;
  wire [7:0] ulpi__data__oe;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:945" *)
  input ulpi__dir__i;
  wire ulpi__dir__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input ulpi__nxt__i;
  wire ulpi__nxt__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input [7:0] ulpi__data__i;
  wire [7:0] ulpi__data__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output [7:0] ulpi__data__o;
  reg [7:0] ulpi__data__o;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  output ulpi__stp__o;
  reg ulpi__stp__o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  output rx_active;
  reg rx_active = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:768" *)
  output busy;
  wire busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire [7:0] \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:902" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:902" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:908" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:948" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:2023" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:2023" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:951" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:858" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:858" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:945" *)
  (* \torii.sample_reg  = 32'd1 *)
  reg \$sample$s$ulpi__dir__i$usb$1  = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:945" *)
  wire \$sample$s$ulpi__dir__i$usb$1$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire chrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:420" *)
  wire control_translator_bus_idle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:433" *)
  wire control_translator_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:430" *)
  wire control_translator_chrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:431" *)
  wire control_translator_dischrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:428" *)
  wire control_translator_dm_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:427" *)
  wire control_translator_dp_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:426" *)
  wire control_translator_id_pullup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:423" *)
  wire [1:0] control_translator_op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:424" *)
  wire control_translator_suspend;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:422" *)
  wire control_translator_term_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:436" *)
  wire control_translator_use_external_vbus_indicator;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:421" *)
  wire [1:0] control_translator_xcvr_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire dischrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire host_disconnect;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire id_digital;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire id_pullup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:790" *)
  wire [7:0] last_rx_command;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:98" *)
  wire [5:0] register_window_address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:97" *)
  wire register_window_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:99" *)
  wire register_window_done;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:101" *)
  wire register_window_read_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:90" *)
  wire [7:0] register_window_ulpi_data_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:91" *)
  wire [7:0] register_window_ulpi_data_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:93" *)
  wire register_window_ulpi_dir;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:94" *)
  wire register_window_ulpi_next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:95" *)
  wire register_window_ulpi_stop;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:105" *)
  wire [7:0] register_window_write_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:104" *)
  wire register_window_write_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:779" *)
  reg \rx_active$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:771" *)
  reg [7:0] \rx_data$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire rx_error;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:772" *)
  reg \rx_valid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:315" *)
  wire rxevent_decoder_host_disconnect;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:316" *)
  wire rxevent_decoder_id_digital;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:310" *)
  wire [7:0] rxevent_decoder_last_rx_command;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:312" *)
  wire [1:0] rxevent_decoder_line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:307" *)
  wire rxevent_decoder_register_operation_in_progress;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:314" *)
  wire rxevent_decoder_rx_error;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:322" *)
  wire rxevent_decoder_rx_start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:323" *)
  wire rxevent_decoder_rx_stop;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:319" *)
  wire rxevent_decoder_session_end;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:318" *)
  wire rxevent_decoder_session_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:317" *)
  wire rxevent_decoder_vbus_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire session_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire suspend;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:591" *)
  wire transmit_translator_bus_idle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:598" *)
  wire transmit_translator_busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:590" *)
  wire [1:0] transmit_translator_op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:586" *)
  wire [7:0] transmit_translator_tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:588" *)
  wire transmit_translator_tx_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:587" *)
  wire transmit_translator_tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:594" *)
  wire [7:0] transmit_translator_ulpi_data_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:595" *)
  wire transmit_translator_ulpi_nxt;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:593" *)
  wire transmit_translator_ulpi_out_req;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:596" *)
  wire transmit_translator_ulpi_stp;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:787" *)
  wire use_external_vbus_indicator;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:783" *)
  wire vbus_valid;
  assign \$9  = \$7  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__dir__i;
  assign \$11  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:902" *) control_translator_busy;
  assign \$13  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__dir__i;
  assign \$15  = \$11  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:902" *) \$13 ;
  assign \$17  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:908" *) transmit_translator_busy;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__dir__i;
  assign \$21  = \$19  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:948" *) rxevent_decoder_rx_stop;
  assign \$23  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:2023" *) \$sample$s$ulpi__dir__i$usb$1 ;
  assign \$25  = \$23  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/ast.py:2023" *) ulpi__dir__i;
  assign \$27  = \$25  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__nxt__i;
  assign \$2  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__dir__i;
  assign \$29  = \$27  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:951" *) rxevent_decoder_rx_start;
  assign \$31  = ulpi__nxt__i & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) rx_active;
  always @(posedge usb_clk)
    \$sample$s$ulpi__dir__i$usb$1  <= \$sample$s$ulpi__dir__i$usb$1$next ;
  always @(posedge usb_clk)
    rx_active <= \rx_active$next ;
  always @(posedge usb_clk)
    rx_data <= \rx_data$next ;
  always @(posedge usb_clk)
    rx_valid <= \rx_valid$next ;
  assign \$1  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) \$2 ;
  assign \$5  = register_window_busy | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:858" *) transmit_translator_busy;
  assign \$7  = \$5  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:858" *) control_translator_busy;
  \usb_device.translator.control_translator  control_translator (
    .address(register_window_address),
    .bus_idle(control_translator_bus_idle),
    .busy(register_window_busy),
    .\busy$1 (control_translator_busy),
    .chrg_vbus(1'h0),
    .dischrg_vbus(1'h0),
    .dm_pulldown(control_translator_dm_pulldown),
    .done(register_window_done),
    .dp_pulldown(control_translator_dp_pulldown),
    .id_pullup(1'h0),
    .op_mode(control_translator_op_mode),
    .read_request(register_window_read_request),
    .suspend(1'h0),
    .term_select(control_translator_term_select),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .use_external_vbus_indicator(1'h0),
    .write_data(register_window_write_data),
    .write_request(register_window_write_request),
    .xcvr_select(control_translator_xcvr_select)
  );
  \usb_device.translator.register_window  register_window (
    .address(register_window_address),
    .busy(register_window_busy),
    .done(register_window_done),
    .read_request(register_window_read_request),
    .ulpi_data_in(register_window_ulpi_data_in),
    .ulpi_data_out(register_window_ulpi_data_out),
    .ulpi_dir(register_window_ulpi_dir),
    .ulpi_next(register_window_ulpi_next),
    .ulpi_stop(register_window_ulpi_stop),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .write_data(register_window_write_data),
    .write_request(register_window_write_request)
  );
  \usb_device.translator.rxevent_decoder  rxevent_decoder (
    .host_disconnect(rxevent_decoder_host_disconnect),
    .id_digital(rxevent_decoder_id_digital),
    .last_rx_command(rxevent_decoder_last_rx_command),
    .line_state(rxevent_decoder_line_state),
    .register_operation_in_progress(rxevent_decoder_register_operation_in_progress),
    .rx_error(rxevent_decoder_rx_error),
    .rx_start(rxevent_decoder_rx_start),
    .rx_stop(rxevent_decoder_rx_stop),
    .session_end(rxevent_decoder_session_end),
    .session_valid(rxevent_decoder_session_valid),
    .ulpi__data__i(ulpi__data__i),
    .ulpi__dir__i(ulpi__dir__i),
    .ulpi__nxt__i(ulpi__nxt__i),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst),
    .vbus_valid(rxevent_decoder_vbus_valid)
  );
  \usb_device.translator.transmit_translator  transmit_translator (
    .bus_idle(transmit_translator_bus_idle),
    .busy(transmit_translator_busy),
    .op_mode(transmit_translator_op_mode),
    .tx_data(transmit_translator_tx_data),
    .tx_ready(transmit_translator_tx_ready),
    .tx_valid(transmit_translator_tx_valid),
    .ulpi_data_out(transmit_translator_ulpi_data_out),
    .ulpi_nxt(transmit_translator_ulpi_nxt),
    .ulpi_out_req(transmit_translator_ulpi_out_req),
    .ulpi_stp(transmit_translator_ulpi_stp),
    .usb_clk(usb_clk),
    .usb_rst(usb_rst)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$24 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:917" *)
    if (transmit_translator_ulpi_out_req) begin
      ulpi__data__o = transmit_translator_ulpi_data_out;
    end else begin
      ulpi__data__o = register_window_ulpi_data_out;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$24 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:917" *)
    if (transmit_translator_ulpi_out_req) begin
      ulpi__stp__o = transmit_translator_ulpi_stp;
    end else begin
      ulpi__stp__o = register_window_ulpi_stop;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$24 ) begin end
    \rx_active$next  = rx_active;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:948" *)
    if (\$21 ) begin
      \rx_active$next  = 1'h0;
    end else if (\$29 ) begin
      \rx_active$next  = 1'h1;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \rx_active$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$24 ) begin end
    \rx_data$next  = ulpi__data__i;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \rx_data$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$24 ) begin end
    \rx_valid$next  = \$31 ;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \rx_valid$next  = 1'h0;
    end
  end
  assign suspend = 1'h0;
  assign id_pullup = 1'h0;
  assign chrg_vbus = 1'h0;
  assign dischrg_vbus = 1'h0;
  assign use_external_vbus_indicator = 1'h0;
  assign \$sample$s$ulpi__dir__i$usb$1$next  = ulpi__dir__i;
  assign control_translator_use_external_vbus_indicator = 1'h0;
  assign control_translator_dischrg_vbus = 1'h0;
  assign control_translator_chrg_vbus = 1'h0;
  assign control_translator_dp_pulldown = dp_pulldown;
  assign control_translator_dm_pulldown = dm_pulldown;
  assign control_translator_id_pullup = 1'h0;
  assign control_translator_suspend = 1'h0;
  assign control_translator_op_mode = op_mode;
  assign control_translator_term_select = term_select;
  assign control_translator_xcvr_select = xcvr_select;
  assign id_digital = rxevent_decoder_id_digital;
  assign host_disconnect = rxevent_decoder_host_disconnect;
  assign rx_error = rxevent_decoder_rx_error;
  assign session_end = rxevent_decoder_session_end;
  assign session_valid = rxevent_decoder_session_valid;
  assign vbus_valid = rxevent_decoder_vbus_valid;
  assign line_state = rxevent_decoder_line_state;
  assign register_window_ulpi_next = ulpi__nxt__i;
  assign register_window_ulpi_dir = ulpi__dir__i;
  assign register_window_ulpi_data_in = ulpi__data__i;
  assign control_translator_bus_idle = \$17 ;
  assign tx_ready = transmit_translator_tx_ready;
  assign transmit_translator_tx_valid = tx_valid;
  assign transmit_translator_tx_data = tx_data;
  assign transmit_translator_bus_idle = \$15 ;
  assign transmit_translator_op_mode = op_mode;
  assign transmit_translator_ulpi_nxt = ulpi__nxt__i;
  assign last_rx_command = rxevent_decoder_last_rx_command;
  assign rxevent_decoder_register_operation_in_progress = register_window_busy;
  assign busy = \$9 ;
  assign ulpi__data__oe = \$1 ;
  assign usb_clk = ulpi__clk__i;
endmodule

(* generator = "Torii" *)
module \usb_device.translator.control_translator (usb_clk, busy, \busy$1 , bus_idle, xcvr_select, term_select, op_mode, suspend, id_pullup, dm_pulldown, dp_pulldown, chrg_vbus, dischrg_vbus, use_external_vbus_indicator, done, address, write_data, read_request, write_request, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$25  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:97" *)
  input busy;
  wire busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:433" *)
  output \busy$1 ;
  reg \busy$1  = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:420" *)
  input bus_idle;
  wire bus_idle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:421" *)
  input [1:0] xcvr_select;
  wire [1:0] xcvr_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:422" *)
  input term_select;
  wire term_select;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:423" *)
  input [1:0] op_mode;
  wire [1:0] op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:424" *)
  input suspend;
  wire suspend;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:426" *)
  input id_pullup;
  wire id_pullup;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:428" *)
  input dm_pulldown;
  wire dm_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:427" *)
  input dp_pulldown;
  wire dp_pulldown;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:430" *)
  input chrg_vbus;
  wire chrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:431" *)
  input dischrg_vbus;
  wire dischrg_vbus;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:436" *)
  input use_external_vbus_indicator;
  wire use_external_vbus_indicator;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:99" *)
  input done;
  wire done;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:98" *)
  output [5:0] address;
  reg [5:0] address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:105" *)
  output [7:0] write_data;
  reg [7:0] write_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:101" *)
  output read_request;
  wire read_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:104" *)
  output write_request;
  reg write_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *)
  wire \$10 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:481" *)
  wire \$12 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *)
  wire \$14 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *)
  wire \$16 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *)
  wire \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$20 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *)
  wire \$22 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$24 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$26 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *)
  wire \$28 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$30 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$32 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:539" *)
  wire \$34 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *)
  wire \$36 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$38 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:481" *)
  wire \$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *)
  wire \$40 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:539" *)
  wire \$42 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *)
  wire \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *)
  wire \$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:433" *)
  reg \busy$1$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:462" *)
  reg [7:0] current_register_value_04 = 8'h41;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:462" *)
  reg [7:0] \current_register_value_04$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:462" *)
  reg [7:0] current_register_value_0a = 8'h06;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:462" *)
  reg [7:0] \current_register_value_0a$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:467" *)
  reg write_done_04;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:467" *)
  reg write_done_0a;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:465" *)
  wire write_requested_04;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:465" *)
  wire write_requested_0a;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:466" *)
  reg [7:0] write_value_04 = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:466" *)
  reg [7:0] \write_value_04$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:466" *)
  reg [7:0] write_value_0a = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:466" *)
  reg [7:0] \write_value_0a$next ;
  assign \$10  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *) suspend;
  assign \$12  = current_register_value_0a != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:481" *) { use_external_vbus_indicator, 2'h0, chrg_vbus, dischrg_vbus, dm_pulldown, dp_pulldown, id_pullup };
  assign \$14  = current_register_value_0a != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *) { use_external_vbus_indicator, 2'h0, chrg_vbus, dischrg_vbus, dm_pulldown, dp_pulldown, id_pullup };
  assign \$16  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *) done;
  assign \$18  = write_requested_04 & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) \$16 ;
  assign \$20  = \$18  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) bus_idle;
  assign \$22  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *) done;
  assign \$24  = write_requested_0a & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) \$22 ;
  assign \$26  = \$24  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) bus_idle;
  assign \$28  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *) done;
  assign \$2  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *) suspend;
  assign \$30  = write_requested_04 & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) \$28 ;
  assign \$32  = \$30  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) bus_idle;
  assign \$34  = \$32  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:539" *) busy;
  assign \$36  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:524" *) done;
  assign \$38  = write_requested_0a & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) \$36 ;
  assign \$40  = \$38  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:523" *) bus_idle;
  assign \$42  = \$40  | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:539" *) busy;
  always @(posedge usb_clk)
    current_register_value_04 <= \current_register_value_04$next ;
  always @(posedge usb_clk)
    write_value_04 <= \write_value_04$next ;
  always @(posedge usb_clk)
    current_register_value_0a <= \current_register_value_0a$next ;
  always @(posedge usb_clk)
    write_value_0a <= \write_value_0a$next ;
  always @(posedge usb_clk)
    \busy$1  <= \busy$1$next ;
  assign \$4  = current_register_value_04 != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:481" *) { 1'h0, \$2 , 1'h0, op_mode, term_select, xcvr_select };
  assign \$6  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:489" *) suspend;
  assign \$8  = current_register_value_04 != (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *) { 1'h0, \$6 , 1'h0, op_mode, term_select, xcvr_select };
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    \current_register_value_04$next  = current_register_value_04;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:476" *)
    if (write_done_04) begin
      \current_register_value_04$next  = write_value_04;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_register_value_04$next  = 8'h41;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
      \busy$1$next  = \$34 ;
    end else if (write_requested_0a) begin
      \busy$1$next  = \$42 ;
    end else begin
      \busy$1$next  = busy;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \busy$1$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    write_done_0a = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
    end else if (write_requested_0a) begin
      write_done_0a = done;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    \write_value_04$next  = write_value_04;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *)
    if (\$8 ) begin
      \write_value_04$next  = { 1'h0, \$10 , 1'h0, op_mode, term_select, xcvr_select };
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \write_value_04$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    \current_register_value_0a$next  = current_register_value_0a;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:476" *)
    if (write_done_0a) begin
      \current_register_value_0a$next  = write_value_0a;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_register_value_0a$next  = 8'h06;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    \write_value_0a$next  = write_value_0a;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:482" *)
    if (\$14 ) begin
      \write_value_0a$next  = { use_external_vbus_indicator, 2'h0, chrg_vbus, dischrg_vbus, dm_pulldown, dp_pulldown, id_pullup };
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \write_value_0a$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    write_done_04 = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
      write_done_04 = done;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    address = 6'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
      address = 6'h04;
    end else if (write_requested_0a) begin
      address = 6'h0a;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    write_data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
      write_data = write_value_04;
    end else if (write_requested_0a) begin
      write_data = write_value_0a;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$25 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:517" *)
    if (write_requested_04) begin
      write_request = \$20 ;
    end else if (write_requested_0a) begin
      write_request = \$26 ;
    end else begin
      write_request = 1'h0;
    end
  end
  assign read_request = 1'h0;
  assign write_requested_0a = \$12 ;
  assign write_requested_04 = \$4 ;
endmodule

(* generator = "Torii" *)
module \usb_device.translator.register_window (usb_clk, busy, ulpi_data_in, ulpi_dir, ulpi_next, ulpi_data_out, ulpi_stop, done, address, write_data, read_request, write_request, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$26  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:97" *)
  output busy;
  wire busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:90" *)
  input [7:0] ulpi_data_in;
  wire [7:0] ulpi_data_in;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:93" *)
  input ulpi_dir;
  wire ulpi_dir;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:94" *)
  input ulpi_next;
  wire ulpi_next;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:91" *)
  output [7:0] ulpi_data_out;
  reg [7:0] ulpi_data_out = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:95" *)
  output ulpi_stop;
  reg ulpi_stop = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:99" *)
  output done;
  reg done = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:98" *)
  input [5:0] address;
  wire [5:0] address;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:105" *)
  input [7:0] write_data;
  wire [7:0] write_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:101" *)
  input read_request;
  wire read_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:104" *)
  input write_request;
  wire write_request;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:162" *)
  wire [7:0] \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:218" *)
  wire [7:0] \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:123" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:123" *)
  wire \$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:110" *)
  reg [5:0] current_address = 6'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:110" *)
  reg [5:0] \current_address$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:111" *)
  reg [7:0] current_write = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:111" *)
  reg [7:0] \current_write$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:99" *)
  reg \done$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
  reg [3:0] fsm_state = 4'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
  reg [3:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:102" *)
  reg [7:0] read_data = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:102" *)
  reg [7:0] \read_data$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:91" *)
  reg [7:0] \ulpi_data_out$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:92" *)
  reg ulpi_out_req = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:92" *)
  reg \ulpi_out_req$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:95" *)
  reg \ulpi_stop$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *) ulpi_dir;
  assign \$13  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *) ulpi_dir;
  assign \$17  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *) ulpi_dir;
  assign \$1  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *) ulpi_dir;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *) ulpi_dir;
  always @(posedge usb_clk)
    ulpi_out_req <= \ulpi_out_req$next ;
  always @(posedge usb_clk)
    ulpi_stop <= \ulpi_stop$next ;
  always @(posedge usb_clk)
    done <= \done$next ;
  always @(posedge usb_clk)
    ulpi_data_out <= \ulpi_data_out$next ;
  always @(posedge usb_clk)
    current_address <= \current_address$next ;
  always @(posedge usb_clk)
    current_write <= \current_write$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    read_data <= \read_data$next ;
  assign \$3  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *) ulpi_dir;
  assign \$6  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:123" *) fsm_state;
  assign \$5  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:123" *) \$6 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \ulpi_out_req$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
          if (\$1 ) begin
            \ulpi_out_req$next  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
        begin
          \ulpi_out_req$next  = 1'h1;
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:175" *)
          if (ulpi_dir) begin
            \ulpi_out_req$next  = 1'h0;
          end else if (ulpi_next) begin
            \ulpi_out_req$next  = 1'h0;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:210" */
      /* \torii.decoding  = "START_WRITE/2" */
      4'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
          if (\$3 ) begin
            \ulpi_out_req$next  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:224" */
      /* \torii.decoding  = "SEND_WRITE_ADDRESS/6" */
      4'h6:
        begin
          \ulpi_out_req$next  = 1'h1;
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:229" *)
          if (ulpi_dir) begin
            \ulpi_out_req$next  = 1'h0;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:240" */
      /* \torii.decoding  = "HOLD_WRITE/7" */
      4'h7:
        begin
          \ulpi_out_req$next  = 1'h1;
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:244" *)
          if (ulpi_dir) begin
            \ulpi_out_req$next  = 1'h0;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:257" */
      /* \torii.decoding  = "STOPPING/8" */
      4'h8:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:262" *)
          if (ulpi_dir) begin
            \ulpi_out_req$next  = 1'h0;
          end else begin
            \ulpi_out_req$next  = 1'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \ulpi_out_req$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \ulpi_stop$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:210" */
      /* \torii.decoding  = "START_WRITE/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:224" */
      /* \torii.decoding  = "SEND_WRITE_ADDRESS/6" */
      4'h6:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:240" */
      /* \torii.decoding  = "HOLD_WRITE/7" */
      4'h7:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:244" *)
          if (ulpi_dir) begin
          end else if (ulpi_next) begin
            \ulpi_stop$next  = 1'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:257" */
      /* \torii.decoding  = "STOPPING/8" */
      4'h8:
          \ulpi_stop$next  = 1'h0;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \ulpi_stop$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \done$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          \done$next  = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:210" */
      /* \torii.decoding  = "START_WRITE/2" */
      4'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:224" */
      /* \torii.decoding  = "SEND_WRITE_ADDRESS/6" */
      4'h6:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:240" */
      /* \torii.decoding  = "HOLD_WRITE/7" */
      4'h7:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:257" */
      /* \torii.decoding  = "STOPPING/8" */
      4'h8:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:262" *)
          if (ulpi_dir) begin
          end else begin
            \done$next  = 1'h1;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \done$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \ulpi_data_out$next  = ulpi_data_out;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          \ulpi_data_out$next  = 8'h00;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
          if (\$9 ) begin
            \ulpi_data_out$next  = \$11 ;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:175" *)
          if (ulpi_dir) begin
          end else if (ulpi_next) begin
            \ulpi_data_out$next  = 8'h00;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:210" */
      /* \torii.decoding  = "START_WRITE/2" */
      4'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
          if (\$13 ) begin
            \ulpi_data_out$next  = \$15 ;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:224" */
      /* \torii.decoding  = "SEND_WRITE_ADDRESS/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:229" *)
          if (ulpi_dir) begin
          end else if (ulpi_next) begin
            \ulpi_data_out$next  = write_data;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:240" */
      /* \torii.decoding  = "HOLD_WRITE/7" */
      4'h7:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:244" *)
          if (ulpi_dir) begin
          end else if (ulpi_next) begin
            \ulpi_data_out$next  = 8'h00;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \ulpi_data_out$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \current_address$next  = current_address;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          \current_address$next  = address;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_address$next  = 6'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \current_write$next  = current_write;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          \current_write$next  = write_data;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_write$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
        begin
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:143" *)
          if (read_request) begin
            \fsm_state$next  = 4'h1;
          end
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:146" *)
          if (write_request) begin
            \fsm_state$next  = 4'h2;
          end
        end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:157" *)
          if (\$17 ) begin
            \fsm_state$next  = 4'h3;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:175" *)
          if (ulpi_dir) begin
            \fsm_state$next  = 4'h1;
          end else if (ulpi_next) begin
            \fsm_state$next  = 4'h4;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          \fsm_state$next  = 4'h5;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          \fsm_state$next  = 4'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:210" */
      /* \torii.decoding  = "START_WRITE/2" */
      4'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:213" *)
          if (\$19 ) begin
            \fsm_state$next  = 4'h6;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:224" */
      /* \torii.decoding  = "SEND_WRITE_ADDRESS/6" */
      4'h6:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:229" *)
          if (ulpi_dir) begin
            \fsm_state$next  = 4'h2;
          end else if (ulpi_next) begin
            \fsm_state$next  = 4'h7;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:240" */
      /* \torii.decoding  = "HOLD_WRITE/7" */
      4'h7:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:244" *)
          if (ulpi_dir) begin
            \fsm_state$next  = 4'h2;
          end else if (ulpi_next) begin
            \fsm_state$next  = 4'h8;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:257" */
      /* \torii.decoding  = "STOPPING/8" */
      4'h8:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:262" *)
          if (ulpi_dir) begin
            \fsm_state$next  = 4'h2;
          end else begin
            \fsm_state$next  = 4'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$26 ) begin end
    \read_data$next  = read_data;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:120" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:126" */
      /* \torii.decoding  = "IDLE/0" */
      4'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:154" */
      /* \torii.decoding  = "START_READ/1" */
      4'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:170" */
      /* \torii.decoding  = "SEND_READ_ADDRESS/3" */
      4'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:190" */
      /* \torii.decoding  = "READ_TURNAROUND/4" */
      4'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:196" */
      /* \torii.decoding  = "READ_COMPLETE/5" */
      4'h5:
          \read_data$next  = ulpi_data_in;
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \read_data$next  = 8'h00;
    end
  end
  assign busy = \$5 ;
  assign \$11 [5:0] = address;
  assign \$11 [7:6] = 2'h3;
  assign \$15 [6:0] = { 1'h0, address };
  assign \$15 [7] = 1'h1;
endmodule

(* generator = "Torii" *)
module \usb_device.translator.rxevent_decoder (usb_clk, ulpi__dir__i, register_operation_in_progress, last_rx_command, ulpi__nxt__i, ulpi__data__i, line_state, vbus_valid, session_valid, session_end, rx_error, host_disconnect, id_digital, rx_stop, rx_start, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$27  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:945" *)
  input ulpi__dir__i;
  wire ulpi__dir__i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:307" *)
  input register_operation_in_progress;
  wire register_operation_in_progress;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:310" *)
  output [7:0] last_rx_command;
  reg [7:0] last_rx_command = 8'h00;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input ulpi__nxt__i;
  wire ulpi__nxt__i;
  (* src = "/home/lofty/torii/instantiate-usb.py:67" *)
  input [7:0] ulpi__data__i;
  wire [7:0] ulpi__data__i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:312" *)
  output [1:0] line_state;
  wire [1:0] line_state;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:317" *)
  output vbus_valid;
  wire vbus_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:318" *)
  output session_valid;
  wire session_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:319" *)
  output session_end;
  wire session_end;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:314" *)
  output rx_error;
  wire rx_error;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:315" *)
  output host_disconnect;
  wire host_disconnect;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:316" *)
  output id_digital;
  wire id_digital;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:323" *)
  output rx_stop;
  reg rx_stop = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:322" *)
  output rx_start;
  reg rx_start = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:353" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:353" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$19 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:355" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:355" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$33 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:362" *)
  wire \$35 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:363" *)
  wire \$37 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:364" *)
  wire \$39 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:366" *)
  wire \$41 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:367" *)
  wire \$43 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:335" *)
  reg direction_delayed = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:335" *)
  reg \direction_delayed$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:310" *)
  reg [7:0] \last_rx_command$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:338" *)
  wire receiving;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:313" *)
  wire rx_active;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:322" *)
  reg \rx_start$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:323" *)
  reg \rx_stop$next ;
  assign \$9  = \$5  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$7 ;
  assign \$11  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:353" *) rx_active;
  assign \$13  = \$11  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:353" *) ulpi__data__i[4];
  assign \$15  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__nxt__i;
  assign \$17  = receiving & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$15 ;
  assign \$1  = direction_delayed & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__dir__i;
  assign \$19  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) register_operation_in_progress;
  assign \$21  = \$17  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$19 ;
  assign \$23  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:355" *) ulpi__data__i[4];
  assign \$25  = rx_active & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:355" *) \$23 ;
  assign \$27  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__nxt__i;
  assign \$29  = receiving & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$27 ;
  assign \$31  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) register_operation_in_progress;
  assign \$33  = \$29  & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$31 ;
  assign \$35  = last_rx_command[3:2] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:362" *) 2'h3;
  assign \$37  = last_rx_command[3:2] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:363" *) 2'h2;
  assign \$3  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/rec.py:342" *) ulpi__nxt__i;
  assign \$39  = ! (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:364" *) last_rx_command[3:2];
  assign \$41  = last_rx_command[5:4] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:366" *) 2'h3;
  assign \$43  = last_rx_command[5:4] == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:367" *) 2'h2;
  always @(posedge usb_clk)
    direction_delayed <= \direction_delayed$next ;
  always @(posedge usb_clk)
    rx_start <= \rx_start$next ;
  always @(posedge usb_clk)
    rx_stop <= \rx_stop$next ;
  always @(posedge usb_clk)
    last_rx_command <= \last_rx_command$next ;
  assign \$5  = receiving & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) \$3 ;
  assign \$7  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *) register_operation_in_progress;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$27 ) begin end
    \direction_delayed$next  = ulpi__dir__i;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \direction_delayed$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$27 ) begin end
    \rx_start$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
    if (\$9 ) begin
      (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:353" *)
      if (\$13 ) begin
        \rx_start$next  = 1'h1;
      end
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \rx_start$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$27 ) begin end
    \rx_stop$next  = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
    if (\$21 ) begin
      (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:355" *)
      if (\$25 ) begin
        \rx_stop$next  = 1'h1;
      end
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \rx_stop$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$27 ) begin end
    \last_rx_command$next  = last_rx_command;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:348" *)
    if (\$33 ) begin
      \last_rx_command$next  = ulpi__data__i;
    end
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \last_rx_command$next  = 8'h00;
    end
  end
  assign id_digital = last_rx_command[6];
  assign host_disconnect = \$43 ;
  assign rx_error = \$41 ;
  assign rx_active = last_rx_command[4];
  assign session_end = \$39 ;
  assign session_valid = \$37 ;
  assign vbus_valid = \$35 ;
  assign line_state = last_rx_command[1:0];
  assign receiving = \$1 ;
endmodule

(* generator = "Torii" *)
module \usb_device.translator.transmit_translator (usb_clk, busy, ulpi_nxt, op_mode, bus_idle, tx_data, tx_valid, tx_ready, ulpi_out_req, ulpi_data_out, ulpi_stp, usb_rst);
  reg \$auto$verilog_backend.cc:2434:dump_module$28  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:598" *)
  output busy;
  wire busy;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:595" *)
  input ulpi_nxt;
  wire ulpi_nxt;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:590" *)
  input [1:0] op_mode;
  wire [1:0] op_mode;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:591" *)
  input bus_idle;
  wire bus_idle;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:586" *)
  input [7:0] tx_data;
  wire [7:0] tx_data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:587" *)
  input tx_valid;
  wire tx_valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:588" *)
  output tx_ready;
  reg tx_ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:593" *)
  output ulpi_out_req;
  reg ulpi_out_req = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:594" *)
  output [7:0] ulpi_data_out;
  reg [7:0] ulpi_data_out;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:596" *)
  output ulpi_stp;
  reg ulpi_stp;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:607" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *)
  wire \$15 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:632" *)
  wire [7:0] \$17 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:632" *)
  wire [6:0] \$18 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:607" *)
  wire \$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
  wire \$21 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *)
  wire \$23 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
  wire \$25 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *)
  wire \$27 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
  wire \$29 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
  wire \$31 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
  reg fsm_state = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
  reg \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:593" *)
  reg \ulpi_out_req$next ;
  assign \$9  = op_mode == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *) 2'h2;
  assign \$11  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *) tx_valid;
  assign \$13  = tx_valid & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *) bus_idle;
  assign \$15  = op_mode == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *) 2'h2;
  assign \$17  = + (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:632" *) \$18 ;
  assign \$21  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *) tx_valid;
  assign \$23  = op_mode == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *) 2'h2;
  assign \$25  = tx_valid & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *) bus_idle;
  assign \$27  = op_mode == (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:602" *) 2'h2;
  assign \$2  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:607" *) fsm_state;
  assign \$29  = tx_valid & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *) bus_idle;
  assign \$31  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *) tx_valid;
  always @(posedge usb_clk)
    ulpi_out_req <= \ulpi_out_req$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  assign \$5  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *) tx_valid;
  assign \$7  = tx_valid & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *) bus_idle;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$28 ) begin end
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:610" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          ulpi_stp = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:642" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
        begin
          ulpi_stp = 1'h0;
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
          if (\$5 ) begin
            ulpi_stp = 1'h1;
          end
        end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$28 ) begin end
    \ulpi_out_req$next  = ulpi_out_req;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:610" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
          if (\$7 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:619" *)
            if (\$9 ) begin
              \ulpi_out_req$next  = 1'h1;
            end else begin
              \ulpi_out_req$next  = 1'h1;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:642" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
          if (\$11 ) begin
            \ulpi_out_req$next  = 1'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \ulpi_out_req$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$28 ) begin end
    ulpi_data_out = 8'h00;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:610" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
          if (\$13 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:619" *)
            if (\$15 ) begin
              ulpi_data_out = 8'h40;
            end else begin
              ulpi_data_out = \$17 ;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:642" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
        begin
          ulpi_data_out = tx_data;
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
          if (\$21 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:659" *)
            if (\$23 ) begin
              ulpi_data_out = 8'hff;
            end else begin
              ulpi_data_out = 8'h00;
            end
          end
        end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$28 ) begin end
    tx_ready = 1'h0;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:610" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
          if (\$25 ) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:619" *)
            if (\$27 ) begin
              tx_ready = 1'h0;
            end else begin
              tx_ready = ulpi_nxt;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:642" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
          tx_ready = ulpi_nxt;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$28 ) begin end
    \fsm_state$next  = fsm_state;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:604" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:610" */
      /* \torii.decoding  = "IDLE/0" */
      1'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:614" *)
          if (\$29 ) begin
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:637" *)
            if (ulpi_nxt) begin
              \fsm_state$next  = 1'h1;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:642" */
      /* \torii.decoding  = "TRANSMIT/1" */
      1'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/ulpi.py:650" *)
          if (\$31 ) begin
            \fsm_state$next  = 1'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 1'h0;
    end
  end
  assign busy = \$1 ;
  assign \$18 [5:0] = { 2'h0, tx_data[3:0] };
  assign \$18 [6] = 1'h1;
  assign \$1  = fsm_state;
endmodule

(* generator = "Torii" *)
module \usb_device.transmitter (stream__first, stream__last, stream__data, stream__ready, data_pid, usb_rst, usb_clk, crc__start, data, valid, ready, crc__crc, stream__valid);
  reg \$auto$verilog_backend.cc:2434:dump_module$29  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  input stream__first;
  wire stream__first;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  input stream__last;
  wire stream__last;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  input [7:0] stream__data;
  wire [7:0] stream__data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  output stream__ready;
  reg stream__ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1044" *)
  input [1:0] data_pid;
  wire [1:0] data_pid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_rst;
  wire usb_rst;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/back/verilog.py:93" *)
  input usb_clk;
  wire usb_clk;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  output crc__start;
  reg crc__start;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output [7:0] data;
  reg [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output valid;
  reg valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input ready;
  wire ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1046" *)
  input [15:0] crc__crc;
  wire [15:0] crc__crc;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1047" *)
  input stream__valid;
  wire stream__valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *)
  wire \$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *)
  wire \$11 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *)
  wire \$13 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1104" *)
  wire \$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *)
  wire \$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1104" *)
  wire \$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1062" *)
  reg [7:0] current_data_pid = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1062" *)
  reg [7:0] \current_data_pid$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
  reg [2:0] \fsm_state$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1071" *)
  reg is_zlp = 1'h0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1071" *)
  reg \is_zlp$next ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1068" *)
  reg [7:0] remaining_crc = 8'h00;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1068" *)
  reg [7:0] \remaining_crc$next ;
  assign \$9  = ~ (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *) stream__valid;
  assign \$11  = stream__last | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *) \$9 ;
  assign \$13  = ready & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *) \$11 ;
  always @(posedge usb_clk)
    current_data_pid <= \current_data_pid$next ;
  always @(posedge usb_clk)
    is_zlp <= \is_zlp$next ;
  always @(posedge usb_clk)
    fsm_state <= \fsm_state$next ;
  always @(posedge usb_clk)
    remaining_crc <= \remaining_crc$next ;
  assign \$1  = stream__first & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *) stream__valid;
  assign \$3  = stream__last & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1104" *) stream__valid;
  assign \$5  = stream__first & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *) stream__valid;
  assign \$7  = stream__last & (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1104" *) stream__valid;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    stream__ready = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          stream__ready = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          stream__ready = 1'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1136" */
      /* \torii.decoding  = "SEND_PAYLOAD/3" */
      3'h3:
          stream__ready = ready;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    \current_data_pid$next  = current_data_pid;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* full_case = 32'd1 *)
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1095" *)
          casez (data_pid)
            2'h0:
                \current_data_pid$next  = 8'hc3;
            2'h1:
                \current_data_pid$next  = 8'h4b;
            2'h2:
                \current_data_pid$next  = 8'h87;
            2'h?:
                \current_data_pid$next  = 8'h0f;
          endcase
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \current_data_pid$next  = 8'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    \is_zlp$next  = is_zlp;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *)
          if (\$1 ) begin
            \is_zlp$next  = 1'h0;
          end else if (\$3 ) begin
            \is_zlp$next  = 1'h1;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \is_zlp$next  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    \fsm_state$next  = fsm_state;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1098" *)
          if (\$5 ) begin
            \fsm_state$next  = 3'h1;
          end else if (\$7 ) begin
            \fsm_state$next  = 3'h1;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1124" *)
          if (ready) begin
            (* full_case = 32'd1 *)
            (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1128" *)
            if (is_zlp) begin
              \fsm_state$next  = 3'h2;
            end else begin
              \fsm_state$next  = 3'h3;
            end
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1136" */
      /* \torii.decoding  = "SEND_PAYLOAD/3" */
      3'h3:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1143" *)
          if (\$13 ) begin
            \fsm_state$next  = 3'h2;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1147" */
      /* \torii.decoding  = "SEND_CRC_FIRST/2" */
      3'h2:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1159" *)
          if (ready) begin
            \fsm_state$next  = 3'h4;
          end
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1163" */
      /* \torii.decoding  = "SEND_CRC_SECOND/4" */
      3'h4:
          (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1172" *)
          if (ready) begin
            \fsm_state$next  = 3'h0;
          end
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \fsm_state$next  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    crc__start = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          crc__start = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          data = current_data_pid;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1136" */
      /* \torii.decoding  = "SEND_PAYLOAD/3" */
      3'h3:
          data = stream__data;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1147" */
      /* \torii.decoding  = "SEND_CRC_FIRST/2" */
      3'h2:
          data = crc__crc[7:0];
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1163" */
      /* \torii.decoding  = "SEND_CRC_SECOND/4" */
      3'h4:
          data = remaining_crc;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    valid = 1'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          valid = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1136" */
      /* \torii.decoding  = "SEND_PAYLOAD/3" */
      3'h3:
          valid = stream__valid;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1147" */
      /* \torii.decoding  = "SEND_CRC_FIRST/2" */
      3'h2:
          valid = 1'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1163" */
      /* \torii.decoding  = "SEND_CRC_SECOND/4" */
      3'h4:
          valid = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$29 ) begin end
    \remaining_crc$next  = remaining_crc;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1086" *)
    casez (fsm_state)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1089" */
      /* \torii.decoding  = "IDLE/0" */
      3'h0:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1109" */
      /* \torii.decoding  = "SEND_PID/1" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1136" */
      /* \torii.decoding  = "SEND_PAYLOAD/3" */
      3'h3:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/usb/usb2/packet.py:1147" */
      /* \torii.decoding  = "SEND_CRC_FIRST/2" */
      3'h2:
          \remaining_crc$next  = crc__crc[15:8];
    endcase
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/hdl/xfrm.py:576" *)
    if (usb_rst) begin
      \remaining_crc$next  = 8'h00;
    end
  end
endmodule

(* generator = "Torii" *)
module \usb_device.tx_multiplexer (valid, ready, \valid$1 , \data$2 , \data$3 , \valid$4 , \ready$5 , \valid$6 , \data$7 , \ready$8 , data);
  reg \$auto$verilog_backend.cc:2434:dump_module$30  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output valid;
  wire valid;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input ready;
  wire ready;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input \valid$1 ;
  wire \valid$1 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input [7:0] \data$2 ;
  wire [7:0] \data$2 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input [7:0] \data$3 ;
  wire [7:0] \data$3 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input \valid$4 ;
  wire \valid$4 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output \ready$5 ;
  wire \ready$5 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input \valid$6 ;
  wire \valid$6 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  input [7:0] \data$7 ;
  wire [7:0] \data$7 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output \ready$8 ;
  wire \ready$8 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  output [7:0] data;
  reg [7:0] data;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *)
  wire \$9 ;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  wire [2:0] encoder_i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  wire [1:0] encoder_o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/interface/utmi.py:50" *)
  wire \ready$11 ;
  assign \$9  = | (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:139" *) { \valid$6 , \valid$4 , \valid$1  };
  \usb_device.tx_multiplexer.encoder  encoder (
    .i(encoder_i),
    .o(encoder_o)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$30 ) begin end
    data = 8'h00;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:119" *)
    casez (encoder_o)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h0:
          data = \data$2 ;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h1:
          data = \data$3 ;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii_usb/utils/bus.py:123" */
      2'h2:
          data = \data$7 ;
    endcase
  end
  assign \ready$8  = ready;
  assign \ready$5  = ready;
  assign \ready$11  = ready;
  assign valid = \$9 ;
  assign encoder_i[2] = \valid$6 ;
  assign encoder_i[1] = \valid$4 ;
  assign encoder_i[0] = \valid$1 ;
endmodule

(* generator = "Torii" *)
module \usb_device.tx_multiplexer.encoder (o, i);
  reg \$auto$verilog_backend.cc:2434:dump_module$31  = 0;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:39" *)
  output [1:0] o;
  reg [1:0] o;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:38" *)
  input [2:0] i;
  wire [2:0] i;
  (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:40" *)
  reg n;
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$31 ) begin end
    o = 2'h0;
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h1:
          o = 2'h0;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h2:
          o = 2'h1;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h4:
          o = 2'h2;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2434:dump_module$31 ) begin end
    n = 1'h0;
    (* full_case = 32'd1 *)
    (* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:44" *)
    casez (i)
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h1:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h2:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:46" */
      3'h4:
          /* empty */;
      /* src = "/home/lofty/torii/venv/lib/python3.13/site-packages/torii/lib/coding/one_hot.py:48" */
      default:
          n = 1'h1;
    endcase
  end
endmodule
